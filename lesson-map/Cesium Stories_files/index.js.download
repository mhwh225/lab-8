!function(e){"use strict";const t={};function n(e){t[e]=!0}function i(e){delete t[e]}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o={},a={get exports(){return o},set exports(e){o=e}};a.exports=function(){for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},i={},r=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<o.length;r+=1){var a=o[r];i["[object "+a+"]"]=a.toLowerCase()}var s=function(e){return i[Object.prototype.toString.call(e)]||"object"},l=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},d=s,u=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==d(e[t])?e[t].toLowerCase():null},h=Math.PI,p={clip_rgb:n,limit:e,type:s,unpack:c,last:u,PI:h,TWOPI:2*h,PITHIRD:h/3,DEG2RAD:h/180,RAD2DEG:180/h},f={format:{},autodetect:[]},m=p.last,g=p.clip_rgb,b=p.type,v=f,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===b(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var i=m(e),r=!1;if(!i){r=!0,v.sorted||(v.autodetect=v.autodetect.sort((function(e,t){return t.p-e.p})),v.sorted=!0);for(var o=0,a=v.autodetect;o<a.length;o+=1){var s=a[o];if(i=s.test.apply(s,e))break}}if(!v.format[i])throw new Error("unknown format: "+e);var l=v.format[i].apply(null,r?e:e.slice(0,-1));n._rgb=g(l),3===n._rgb.length&&n._rgb.push(1)};y.prototype.toString=function(){return"function"==b(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var _=y,w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(w.Color,[null].concat(e)))};w.Color=_,w.version="2.4.2";var k=w,x=p.unpack,C=Math.max,S=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=x(e,"rgb"),i=n[0],r=n[1],o=n[2],a=1-C(i/=255,C(r/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-i-a)*s,(1-r-a)*s,(1-o-a)*s,a]},E=S,T=p.unpack,A=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=T(e,"cmyk"))[0],i=e[1],r=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),i>=1?0:255*(1-i)*(1-o),r>=1?0:255*(1-r)*(1-o),a]},P=A,M=k,I=_,q=f,N=p.unpack,D=p.type,O=E;I.prototype.cmyk=function(){return O(this._rgb)},M.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(I,[null].concat(e,["cmyk"])))},q.format.cmyk=P,q.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=N(e,"cmyk"),"array"===D(e)&&4===e.length)return"cmyk"}});var L=p.unpack,$=p.last,R=function(e){return Math.round(100*e)/100},z=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=L(e,"hsla"),i=$(e)||"lsa";return n[0]=R(n[0]||0),n[1]=R(100*n[1])+"%",n[2]=R(100*n[2])+"%","hsla"===i||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,i="hsla"):n.length=3,i+"("+n.join(",")+")"},j=z,B=p.unpack,H=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=B(e,"rgba"))[0],i=e[1],r=e[2];n/=255,i/=255,r/=255;var o,a,s=Math.min(n,i,r),l=Math.max(n,i,r),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(i-r)/(l-s):i==l?a=2+(r-n)/(l-s):r==l&&(a=4+(n-i)/(l-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,c,e[3]]:[a,o,c]},U=H,F=p.unpack,V=p.last,G=j,Y=U,W=Math.round,J=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=F(e,"rgba"),i=V(e)||"rgb";return"hsl"==i.substr(0,3)?G(Y(n),i):(n[0]=W(n[0]),n[1]=W(n[1]),n[2]=W(n[2]),("rgba"===i||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,i="rgba"),i+"("+n.slice(0,"rgb"===i?3:4).join(",")+")")},K=J,X=p.unpack,Z=Math.round,Q=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r,o,a=(t=X(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)i=r=o=255*l;else{var c=[0,0,0],d=[0,0,0],u=l<.5?l*(1+s):l+s-l*s,h=2*l-u,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var f=0;f<3;f++)c[f]<0&&(c[f]+=1),c[f]>1&&(c[f]-=1),6*c[f]<1?d[f]=h+6*(u-h)*c[f]:2*c[f]<1?d[f]=u:3*c[f]<2?d[f]=h+(u-h)*(2/3-c[f])*6:d[f]=h;i=(e=[Z(255*d[0]),Z(255*d[1]),Z(255*d[2])])[0],r=e[1],o=e[2]}return t.length>3?[i,r,o,t[3]]:[i,r,o,1]},ee=Q,te=ee,ne=f,ie=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,re=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,oe=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ae=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,le=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ce=Math.round,de=function(e){var t;if(e=e.toLowerCase().trim(),ne.format.named)try{return ne.format.named(e)}catch(e){}if(t=e.match(ie)){for(var n=t.slice(1,4),i=0;i<3;i++)n[i]=+n[i];return n[3]=1,n}if(t=e.match(re)){for(var r=t.slice(1,5),o=0;o<4;o++)r[o]=+r[o];return r}if(t=e.match(oe)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=ce(2.55*a[s]);return a[3]=1,a}if(t=e.match(ae)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=ce(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(se)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var u=te(d);return u[3]=1,u}if(t=e.match(le)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var p=te(h);return p[3]=+t[4],p}};de.test=function(e){return ie.test(e)||re.test(e)||oe.test(e)||ae.test(e)||se.test(e)||le.test(e)};var ue=de,he=k,pe=_,fe=f,me=p.type,ge=K,be=ue;pe.prototype.css=function(e){return ge(this._rgb,e)},he.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pe,[null].concat(e,["css"])))},fe.format.css=be,fe.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===me(e)&&be.test(e))return"css"}});var ve=_,ye=k,_e=f,we=p.unpack;_e.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=we(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},ye.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ve,[null].concat(e,["gl"])))},ve.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ke=p.unpack,xe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,i=ke(e,"rgb"),r=i[0],o=i[1],a=i[2],s=Math.min(r,o,a),l=Math.max(r,o,a),c=l-s,d=100*c/255,u=s/(255-c)*100;return 0===c?n=Number.NaN:(r===l&&(n=(o-a)/c),o===l&&(n=2+(a-r)/c),a===l&&(n=4+(r-o)/c),(n*=60)<0&&(n+=360)),[n,d,u]},Ce=xe,Se=p.unpack,Ee=Math.floor,Te=function(){for(var e,t,n,i,r,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,d,u=(a=Se(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var f=255*h;if(0===h)l=c=d=p;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var m=Ee(u/=60),g=u-m,b=p*(1-h),v=b+f*(1-g),y=b+f*g,_=b+f;switch(m){case 0:l=(e=[_,y,b])[0],c=e[1],d=e[2];break;case 1:l=(t=[v,_,b])[0],c=t[1],d=t[2];break;case 2:l=(n=[b,_,y])[0],c=n[1],d=n[2];break;case 3:l=(i=[b,v,_])[0],c=i[1],d=i[2];break;case 4:l=(r=[y,b,_])[0],c=r[1],d=r[2];break;case 5:l=(o=[_,b,v])[0],c=o[1],d=o[2]}}return[l,c,d,a.length>3?a[3]:1]},Ae=Te,Pe=p.unpack,Me=p.type,Ie=k,qe=_,Ne=f,De=Ce;qe.prototype.hcg=function(){return De(this._rgb)},Ie.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(qe,[null].concat(e,["hcg"])))},Ne.format.hcg=Ae,Ne.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pe(e,"hcg"),"array"===Me(e)&&3===e.length)return"hcg"}});var Oe=p.unpack,Le=p.last,$e=Math.round,Re=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Oe(e,"rgba"),i=n[0],r=n[1],o=n[2],a=n[3],s=Le(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((i=$e(i))<<16|(r=$e(r))<<8|(o=$e(o))).toString(16);l=l.substr(l.length-6);var c="0"+$e(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},ze=Re,je=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Be=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,He=function(e){if(e.match(je)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Be)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Ue=He,Fe=k,Ve=_,Ge=p.type,Ye=f,We=ze;Ve.prototype.hex=function(e){return We(this._rgb,e)},Fe.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["hex"])))},Ye.format.hex=Ue,Ye.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Ge(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Je=p.unpack,Ke=p.TWOPI,Xe=Math.min,Ze=Math.sqrt,Qe=Math.acos,et=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,i=Je(e,"rgb"),r=i[0],o=i[1],a=i[2],s=Xe(r/=255,o/=255,a/=255),l=(r+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(r-o+(r-a))/2,n/=Ze((r-o)*(r-o)+(r-a)*(o-a)),n=Qe(n),a>o&&(n=Ke-n),n/=Ke),[360*n,c,l]},tt=et,nt=p.unpack,it=p.limit,rt=p.TWOPI,ot=p.PITHIRD,at=Math.cos,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,i,r,o=(e=nt(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?i=1-((r=(1-a)/3)+(n=(1+a*at(rt*o)/at(ot-rt*o))/3)):o<2/3?r=1-((n=(1-a)/3)+(i=(1+a*at(rt*(o-=1/3))/at(ot-rt*o))/3)):n=1-((i=(1-a)/3)+(r=(1+a*at(rt*(o-=2/3))/at(ot-rt*o))/3)),[255*(n=it(s*n*3)),255*(i=it(s*i*3)),255*(r=it(s*r*3)),e.length>3?e[3]:1]},lt=st,ct=p.unpack,dt=p.type,ut=k,ht=_,pt=f,ft=tt;ht.prototype.hsi=function(){return ft(this._rgb)},ut.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ht,[null].concat(e,["hsi"])))},pt.format.hsi=lt,pt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ct(e,"hsi"),"array"===dt(e)&&3===e.length)return"hsi"}});var mt=p.unpack,gt=p.type,bt=k,vt=_,yt=f,_t=U;vt.prototype.hsl=function(){return _t(this._rgb)},bt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(vt,[null].concat(e,["hsl"])))},yt.format.hsl=ee,yt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=mt(e,"hsl"),"array"===gt(e)&&3===e.length)return"hsl"}});var wt=p.unpack,kt=Math.min,xt=Math.max,Ct=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,i,r,o=(e=wt(e,"rgb"))[0],a=e[1],s=e[2],l=kt(o,a,s),c=xt(o,a,s),d=c-l;return r=c/255,0===c?(n=Number.NaN,i=0):(i=d/c,o===c&&(n=(a-s)/d),a===c&&(n=2+(s-o)/d),s===c&&(n=4+(o-a)/d),(n*=60)<0&&(n+=360)),[n,i,r]},St=Ct,Et=p.unpack,Tt=Math.floor,At=function(){for(var e,t,n,i,r,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,d,u=(a=Et(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)l=c=d=p;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var f=Tt(u/=60),m=u-f,g=p*(1-h),b=p*(1-h*m),v=p*(1-h*(1-m));switch(f){case 0:l=(e=[p,v,g])[0],c=e[1],d=e[2];break;case 1:l=(t=[b,p,g])[0],c=t[1],d=t[2];break;case 2:l=(n=[g,p,v])[0],c=n[1],d=n[2];break;case 3:l=(i=[g,b,p])[0],c=i[1],d=i[2];break;case 4:l=(r=[v,g,p])[0],c=r[1],d=r[2];break;case 5:l=(o=[p,g,b])[0],c=o[1],d=o[2]}}return[l,c,d,a.length>3?a[3]:1]},Pt=At,Mt=p.unpack,It=p.type,qt=k,Nt=_,Dt=f,Ot=St;Nt.prototype.hsv=function(){return Ot(this._rgb)},qt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Nt,[null].concat(e,["hsv"])))},Dt.format.hsv=Pt,Dt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mt(e,"hsv"),"array"===It(e)&&3===e.length)return"hsv"}});var Lt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},$t=Lt,Rt=p.unpack,zt=Math.pow,jt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Rt(e,"rgb"),i=n[0],r=n[1],o=n[2],a=Ut(i,r,o),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},Bt=function(e){return(e/=255)<=.04045?e/12.92:zt((e+.055)/1.055,2.4)},Ht=function(e){return e>$t.t3?zt(e,1/3):e/$t.t2+$t.t0},Ut=function(e,t,n){return e=Bt(e),t=Bt(t),n=Bt(n),[Ht((.4124564*e+.3575761*t+.1804375*n)/$t.Xn),Ht((.2126729*e+.7151522*t+.072175*n)/$t.Yn),Ht((.0193339*e+.119192*t+.9503041*n)/$t.Zn)]},Ft=jt,Vt=Lt,Gt=p.unpack,Yt=Math.pow,Wt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,i,r,o=(e=Gt(e,"lab"))[0],a=e[1],s=e[2];return i=(o+16)/116,n=isNaN(a)?i:i+a/500,r=isNaN(s)?i:i-s/200,i=Vt.Yn*Kt(i),n=Vt.Xn*Kt(n),r=Vt.Zn*Kt(r),[Jt(3.2404542*n-1.5371385*i-.4985314*r),Jt(-.969266*n+1.8760108*i+.041556*r),Jt(.0556434*n-.2040259*i+1.0572252*r),e.length>3?e[3]:1]},Jt=function(e){return 255*(e<=.00304?12.92*e:1.055*Yt(e,1/2.4)-.055)},Kt=function(e){return e>Vt.t1?e*e*e:Vt.t2*(e-Vt.t0)},Xt=Wt,Zt=p.unpack,Qt=p.type,en=k,tn=_,nn=f,rn=Ft;tn.prototype.lab=function(){return rn(this._rgb)},en.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tn,[null].concat(e,["lab"])))},nn.format.lab=Xt,nn.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Zt(e,"lab"),"array"===Qt(e)&&3===e.length)return"lab"}});var on=p.unpack,an=p.RAD2DEG,sn=Math.sqrt,ln=Math.atan2,cn=Math.round,dn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=on(e,"lab"),i=n[0],r=n[1],o=n[2],a=sn(r*r+o*o),s=(ln(o,r)*an+360)%360;return 0===cn(1e4*a)&&(s=Number.NaN),[i,a,s]},un=dn,hn=p.unpack,pn=Ft,fn=un,mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=hn(e,"rgb"),i=n[0],r=n[1],o=n[2],a=pn(i,r,o),s=a[0],l=a[1],c=a[2];return fn(s,l,c)},gn=mn,bn=p.unpack,vn=p.DEG2RAD,yn=Math.sin,_n=Math.cos,wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=bn(e,"lch"),i=n[0],r=n[1],o=n[2];return isNaN(o)&&(o=0),[i,_n(o*=vn)*r,yn(o)*r]},kn=wn,xn=p.unpack,Cn=kn,Sn=Xt,En=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=xn(e,"lch"))[0],i=e[1],r=e[2],o=Cn(n,i,r),a=o[0],s=o[1],l=o[2],c=Sn(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Tn=En,An=p.unpack,Pn=Tn,Mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=An(e,"hcl").reverse();return Pn.apply(void 0,n)},In=Mn,qn=p.unpack,Nn=p.type,Dn=k,On=_,Ln=f,$n=gn;On.prototype.lch=function(){return $n(this._rgb)},On.prototype.hcl=function(){return $n(this._rgb).reverse()},Dn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(On,[null].concat(e,["lch"])))},Dn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(On,[null].concat(e,["hcl"])))},Ln.format.lch=Tn,Ln.format.hcl=In,["lch","hcl"].forEach((function(e){return Ln.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=qn(t,e),"array"===Nn(t)&&3===t.length)return e}})}));var Rn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},zn=_,jn=f,Bn=p.type,Hn=Rn,Un=Ue,Fn=ze;zn.prototype.name=function(){for(var e=Fn(this._rgb,"rgb"),t=0,n=Object.keys(Hn);t<n.length;t+=1){var i=n[t];if(Hn[i]===e)return i.toLowerCase()}return e},jn.format.named=function(e){if(e=e.toLowerCase(),Hn[e])return Un(Hn[e]);throw new Error("unknown color name: "+e)},jn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Bn(e)&&Hn[e.toLowerCase()])return"named"}});var Vn=p.unpack,Gn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Vn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},Yn=Gn,Wn=p.type,Jn=function(e){if("number"==Wn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Kn=Jn,Xn=k,Zn=_,Qn=f,ei=p.type,ti=Yn;Zn.prototype.num=function(){return ti(this._rgb)},Xn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Zn,[null].concat(e,["num"])))},Qn.format.num=Kn,Qn.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===ei(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var ni=k,ii=_,ri=f,oi=p.unpack,ai=p.type,si=Math.round;ii.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(si)},ii.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:si(t):t}))},ni.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ii,[null].concat(e,["rgb"])))},ri.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=oi(e,"rgba");return void 0===n[3]&&(n[3]=1),n},ri.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=oi(e,"rgba"),"array"===ai(e)&&(3===e.length||4===e.length&&"number"==ai(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var li=Math.log,ci=function(e){var t,n,i,r=e/100;return r<66?(t=255,n=r<6?0:-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*li(n),i=r<20?0:.8274096064007395*(i=r-10)-254.76935184120902+115.67994401066147*li(i)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*li(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*li(n),i=255),[t,n,i,1]},di=ci,ui=di,hi=p.unpack,pi=Math.round,fi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,i=hi(e,"rgb"),r=i[0],o=i[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=ui(n=.5*(s+a));c[2]/c[0]>=o/r?s=n:a=n}return pi(n)},mi=k,gi=_,bi=f,vi=fi;gi.prototype.temp=gi.prototype.kelvin=gi.prototype.temperature=function(){return vi(this._rgb)},mi.temp=mi.kelvin=mi.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gi,[null].concat(e,["temp"])))},bi.format.temp=bi.format.kelvin=bi.format.temperature=di;var yi=p.unpack,_i=Math.cbrt,wi=Math.pow,ki=Math.sign,xi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=yi(e,"rgb"),i=n[0],r=n[1],o=n[2],a=[Si(i/255),Si(r/255),Si(o/255)],s=a[0],l=a[1],c=a[2],d=_i(.4122214708*s+.5363325363*l+.0514459929*c),u=_i(.2119034982*s+.6806995451*l+.1073969566*c),h=_i(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*d+.793617785*u-.0040720468*h,1.9779984951*d-2.428592205*u+.4505937099*h,.0259040371*d+.7827717662*u-.808675766*h]},Ci=xi;function Si(e){var t=Math.abs(e);return t<.04045?e/12.92:(ki(e)||1)*wi((t+.055)/1.055,2.4)}var Ei=p.unpack,Ti=Math.pow,Ai=Math.sign,Pi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Ei(e,"lab"))[0],i=e[1],r=e[2],o=Ti(n+.3963377774*i+.2158037573*r,3),a=Ti(n-.1055613458*i-.0638541728*r,3),s=Ti(n-.0894841775*i-1.291485548*r,3);return[255*Ii(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Ii(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Ii(-.0041960863*o-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]},Mi=Pi;function Ii(e){var t=Math.abs(e);return t>.0031308?(Ai(e)||1)*(1.055*Ti(t,1/2.4)-.055):12.92*e}var qi=p.unpack,Ni=p.type,Di=k,Oi=_,Li=f,$i=Ci;Oi.prototype.oklab=function(){return $i(this._rgb)},Di.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Oi,[null].concat(e,["oklab"])))},Li.format.oklab=Mi,Li.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=qi(e,"oklab"),"array"===Ni(e)&&3===e.length)return"oklab"}});var Ri=p.unpack,zi=Ci,ji=un,Bi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ri(e,"rgb"),i=n[0],r=n[1],o=n[2],a=zi(i,r,o),s=a[0],l=a[1],c=a[2];return ji(s,l,c)},Hi=Bi,Ui=p.unpack,Fi=kn,Vi=Mi,Gi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Ui(e,"lch"))[0],i=e[1],r=e[2],o=Fi(n,i,r),a=o[0],s=o[1],l=o[2],c=Vi(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Yi=Gi,Wi=p.unpack,Ji=p.type,Ki=k,Xi=_,Zi=f,Qi=Hi;Xi.prototype.oklch=function(){return Qi(this._rgb)},Ki.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xi,[null].concat(e,["oklch"])))},Zi.format.oklch=Yi,Zi.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Wi(e,"oklch"),"array"===Ji(e)&&3===e.length)return"oklch"}});var er=_,tr=p.type;er.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===tr(e)?t?(this._rgb[3]=e,this):new er([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},_.prototype.clipped=function(){return this._rgb._clipped||!1};var nr=_,ir=Lt;nr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=ir.Kn*e,new nr(n,"lab").alpha(t.alpha(),!0)},nr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},nr.prototype.darker=nr.prototype.darken,nr.prototype.brighter=nr.prototype.brighten,_.prototype.get=function(e){var t=e.split("."),n=t[0],i=t[1],r=this[n]();if(i){var o=n.indexOf(i)-("ok"===n.substr(0,2)?2:0);if(o>-1)return r[o];throw new Error("unknown channel "+i+" in mode "+n)}return r};var rr=_,or=p.type,ar=Math.pow,sr=1e-7,lr=20;rr.prototype.luminance=function(e){if(void 0!==e&&"number"===or(e)){if(0===e)return new rr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new rr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n="rgb",i=lr,r=function(t,o){var a=t.interpolate(o,.5,n),s=a.luminance();return Math.abs(e-s)<sr||!i--?a:s>e?r(t,a):r(a,o)},o=(t>e?r(new rr([0,0,0]),this):r(this,new rr([255,255,255]))).rgb();return new rr(o.concat([this._rgb[3]]))}return cr.apply(void 0,this._rgb.slice(0,3))};var cr=function(e,t,n){return.2126*(e=dr(e))+.7152*(t=dr(t))+.0722*(n=dr(n))},dr=function(e){return(e/=255)<=.03928?e/12.92:ar((e+.055)/1.055,2.4)},ur={},hr=_,pr=p.type,fr=ur,mr=function(e,t,n){void 0===n&&(n=.5);for(var i=[],r=arguments.length-3;r-- >0;)i[r]=arguments[r+3];var o=i[0]||"lrgb";if(fr[o]||i.length||(o=Object.keys(fr)[0]),!fr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==pr(e)&&(e=new hr(e)),"object"!==pr(t)&&(t=new hr(t)),fr[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},gr=_,br=mr;gr.prototype.mix=gr.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return br.apply(void 0,[this,e,t].concat(n))};var vr=_;vr.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new vr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var yr=_,_r=Lt;yr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=_r.Kn*e,n[1]<0&&(n[1]=0),new yr(n,"lch").alpha(t.alpha(),!0)},yr.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var wr=_,kr=p.type;wr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var i=e.split("."),r=i[0],o=i[1],a=this[r]();if(o){var s=r.indexOf(o)-("ok"===r.substr(0,2)?2:0);if(s>-1){if("string"==kr(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==kr(t))throw new Error("unsupported value for Color.set");a[s]=t}var l=new wr(a,r);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+r)}return a};var xr=_,Cr=function(e,t,n){var i=e._rgb,r=t._rgb;return new xr(i[0]+n*(r[0]-i[0]),i[1]+n*(r[1]-i[1]),i[2]+n*(r[2]-i[2]),"rgb")};ur.rgb=Cr;var Sr=_,Er=Math.sqrt,Tr=Math.pow,Ar=function(e,t,n){var i=e._rgb,r=i[0],o=i[1],a=i[2],s=t._rgb,l=s[0],c=s[1],d=s[2];return new Sr(Er(Tr(r,2)*(1-n)+Tr(l,2)*n),Er(Tr(o,2)*(1-n)+Tr(c,2)*n),Er(Tr(a,2)*(1-n)+Tr(d,2)*n),"rgb")};ur.lrgb=Ar;var Pr=_,Mr=function(e,t,n){var i=e.lab(),r=t.lab();return new Pr(i[0]+n*(r[0]-i[0]),i[1]+n*(r[1]-i[1]),i[2]+n*(r[2]-i[2]),"lab")};ur.lab=Mr;var Ir=_,qr=function(e,t,n,i){var r,o,a,s,l,c,d,u,h,p,f,m,g;return"hsl"===i?(a=e.hsl(),s=t.hsl()):"hsv"===i?(a=e.hsv(),s=t.hsv()):"hcg"===i?(a=e.hcg(),s=t.hcg()):"hsi"===i?(a=e.hsi(),s=t.hsi()):"lch"===i||"hcl"===i?(i="hcl",a=e.hcl(),s=t.hcl()):"oklch"===i&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==i.substr(0,1)&&"oklch"!==i||(l=(r=a)[0],d=r[1],h=r[2],c=(o=s)[0],u=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?m=Number.NaN:(m=c,1!=h&&0!=h||"hsv"==i||(f=u)):(m=l,1!=p&&0!=p||"hsv"==i||(f=d)):m=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===f&&(f=d+n*(u-d)),g=h+n*(p-h),new Ir("oklch"===i?[g,f,m]:[m,f,g],i)},Nr=qr,Dr=function(e,t,n){return Nr(e,t,n,"lch")};ur.lch=Dr,ur.hcl=Dr;var Or=_,Lr=function(e,t,n){var i=e.num(),r=t.num();return new Or(i+n*(r-i),"num")};ur.num=Lr;var $r=qr,Rr=function(e,t,n){return $r(e,t,n,"hcg")};ur.hcg=Rr;var zr=qr,jr=function(e,t,n){return zr(e,t,n,"hsi")};ur.hsi=jr;var Br=qr,Hr=function(e,t,n){return Br(e,t,n,"hsl")};ur.hsl=Hr;var Ur=qr,Fr=function(e,t,n){return Ur(e,t,n,"hsv")};ur.hsv=Fr;var Vr=_,Gr=function(e,t,n){var i=e.oklab(),r=t.oklab();return new Vr(i[0]+n*(r[0]-i[0]),i[1]+n*(r[1]-i[1]),i[2]+n*(r[2]-i[2]),"oklab")};ur.oklab=Gr;var Yr=qr,Wr=function(e,t,n){return Yr(e,t,n,"oklch")};ur.oklch=Wr;var Jr=_,Kr=p.clip_rgb,Xr=Math.pow,Zr=Math.sqrt,Qr=Math.PI,eo=Math.cos,to=Math.sin,no=Math.atan2,io=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var i=e.length;n||(n=Array.from(new Array(i)).map((function(){return 1})));var r=i/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=r})),e=e.map((function(e){return new Jr(e)})),"lrgb"===t)return ro(e,n);for(var o=e.shift(),a=o.get(t),s=[],l=0,c=0,d=0;d<a.length;d++)if(a[d]=(a[d]||0)*n[0],s.push(isNaN(a[d])?0:n[0]),"h"===t.charAt(d)&&!isNaN(a[d])){var u=a[d]/180*Qr;l+=eo(u)*n[0],c+=to(u)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,i){var r=e.get(t);h+=e.alpha()*n[i+1];for(var o=0;o<a.length;o++)if(!isNaN(r[o]))if(s[o]+=n[i+1],"h"===t.charAt(o)){var d=r[o]/180*Qr;l+=eo(d)*n[i+1],c+=to(d)*n[i+1]}else a[o]+=r[o]*n[i+1]}));for(var p=0;p<a.length;p++)if("h"===t.charAt(p)){for(var f=no(c/s[p],l/s[p])/Qr*180;f<0;)f+=360;for(;f>=360;)f-=360;a[p]=f}else a[p]=a[p]/s[p];return h/=i,new Jr(a,t).alpha(h>.99999?1:h,!0)},ro=function(e,t){for(var n=e.length,i=[0,0,0,0],r=0;r<e.length;r++){var o=e[r],a=t[r]/n,s=o._rgb;i[0]+=Xr(s[0],2)*a,i[1]+=Xr(s[1],2)*a,i[2]+=Xr(s[2],2)*a,i[3]+=s[3]*a}return i[0]=Zr(i[0]),i[1]=Zr(i[1]),i[2]=Zr(i[2]),i[3]>.9999999&&(i[3]=1),new Jr(Kr(i))},oo=k,ao=p.type,so=Math.pow,lo=function(e){var t="rgb",n=oo("#ccc"),i=0,r=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,d=0,u=1,h=!1,p={},f=!0,m=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===ao(e)&&oo.brewer&&oo.brewer[e.toLowerCase()]&&(e=oo.brewer[e.toLowerCase()]),"array"===ao(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=oo(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return w(),l=e},b=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},v=function(e){return e},y=function(e){return e},_=function(e,i){var r,c;if(null==i&&(i=!1),isNaN(e)||null===e)return n;c=i?e:s&&s.length>2?b(e)/(s.length-2):u!==d?(e-d)/(u-d):1,c=y(c),i||(c=v(c)),1!==m&&(c=so(c,m)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(f&&p[h])r=p[h];else{if("array"===ao(l))for(var g=0;g<o.length;g++){var _=o[g];if(c<=_){r=l[g];break}if(c>=_&&g===o.length-1){r=l[g];break}if(c>_&&c<o[g+1]){c=(c-_)/(o[g+1]-_),r=oo.interpolate(l[g],l[g+1],c,t);break}}else"function"===ao(l)&&(r=l(c));f&&(p[h]=r)}return r},w=function(){return p={}};g(e);var k=function(e){var t=oo(_(e));return c&&t[c]?t[c]():t};return k.classes=function(e){if(null!=e){if("array"===ao(e))s=e,r=[e[0],e[e.length-1]];else{var t=oo.analyze(r);s=0===e?[t.min,t.max]:oo.limits(t,"e",e)}return k}return s},k.domain=function(e){if(!arguments.length)return r;d=e[0],u=e[e.length-1],o=[];var t=l.length;if(e.length===t&&d!==u)for(var n=0,i=Array.from(e);n<i.length;n+=1){var a=i[n];o.push((a-d)/(u-d))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-d)/(u-d)}));h.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return c[t]+n*(c[t+1]-c[t])})}}return r=[d,u],k},k.mode=function(e){return arguments.length?(t=e,w(),k):t},k.range=function(e,t){return g(e),k},k.out=function(e){return c=e,k},k.spread=function(e){return arguments.length?(i=e,k):i},k.correctLightness=function(e){return null==e&&(e=!0),h=e,w(),v=h?function(e){for(var t=_(0,!0).lab()[0],n=_(1,!0).lab()[0],i=t>n,r=_(e,!0).lab()[0],o=t+(n-t)*e,a=r-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)i&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),r=_(e,!0).lab()[0],a=r-o;return e}:function(e){return e},k},k.padding=function(e){return null!=e?("number"===ao(e)&&(e=[e,e]),a=e,k):a},k.colors=function(t,n){arguments.length<2&&(n="hex");var i=[];if(0===arguments.length)i=l.slice(0);else if(1===t)i=[k(.5)];else if(t>1){var o=r[0],a=r[1]-o;i=co(0,t,!1).map((function(e){return k(o+e/(t-1)*a)}))}else{e=[];var c=[];if(s&&s.length>2)for(var d=1,u=s.length,h=1<=u;h?d<u:d>u;h?d++:d--)c.push(.5*(s[d-1]+s[d]));else c=r;i=c.map((function(e){return k(e)}))}return oo[n]&&(i=i.map((function(e){return e[n]()}))),i},k.cache=function(e){return null!=e?(f=e,k):f},k.gamma=function(e){return null!=e?(m=e,k):m},k.nodata=function(e){return null!=e?(n=oo(e),k):n},k};function co(e,t,n){for(var i=[],r=e<t,o=n?r?t+1:t-1:t,a=e;r?a<o:a>o;r?a++:a--)i.push(a);return i}var uo=_,ho=lo,po=function(e){for(var t=[1,1],n=1;n<e;n++){for(var i=[1],r=1;r<=t.length;r++)i[r]=(t[r]||0)+t[r-1];t=i}return t},fo=function(e){var t,n,i,r,o,a,s;if(e=e.map((function(e){return new uo(e)})),2===e.length)t=e.map((function(e){return e.lab()})),o=t[0],a=t[1],r=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(a[t]-o[t])}));return new uo(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],a=n[1],s=n[2],r=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new uo(t,"lab")};else if(4===e.length){var l;i=e.map((function(e){return e.lab()})),o=i[0],a=i[1],s=i[2],l=i[3],r=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new uo(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,d,u;c=e.map((function(e){return e.lab()})),u=e.length-1,d=po(u),r=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(i,r,o){return i+d[o]*Math.pow(t,u-o)*Math.pow(e,o)*r[n]}),0)}));return new uo(n,"lab")}}return r},mo=function(e){var t=fo(e);return t.scale=function(){return ho(t)},t},go=k,bo=function(e,t,n){if(!bo[n])throw new Error("unknown blend mode "+n);return bo[n](e,t)},vo=function(e){return function(t,n){var i=go(n).rgb(),r=go(t).rgb();return go.rgb(e(i,r))}},yo=function(e){return function(t,n){var i=[];return i[0]=e(t[0],n[0]),i[1]=e(t[1],n[1]),i[2]=e(t[2],n[2]),i}},_o=function(e){return e},wo=function(e,t){return e*t/255},ko=function(e,t){return e>t?t:e},xo=function(e,t){return e>t?e:t},Co=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},So=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Eo=function(e,t){return 255*(1-(1-t/255)/(e/255))},To=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};bo.normal=vo(yo(_o)),bo.multiply=vo(yo(wo)),bo.screen=vo(yo(Co)),bo.overlay=vo(yo(So)),bo.darken=vo(yo(ko)),bo.lighten=vo(yo(xo)),bo.dodge=vo(yo(To)),bo.burn=vo(yo(Eo));for(var Ao=bo,Po=p.type,Mo=p.clip_rgb,Io=p.TWOPI,qo=Math.pow,No=Math.sin,Do=Math.cos,Oo=k,Lo=function(e,t,n,i,r){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=[0,1]);var o,a=0;"array"===Po(r)?o=r[1]-r[0]:(o=0,r=[r,r]);var s=function(s){var l=Io*((e+120)/360+t*s),c=qo(r[0]+o*s,i),d=(0!==a?n[0]+s*a:n)*c*(1-c)/2,u=Do(l),h=No(l);return Oo(Mo([255*(c+d*(-.14861*u+1.78277*h)),255*(c+d*(-.29227*u-.90649*h)),255*(c+d*(1.97294*u)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?i:(i=e,s)},s.hue=function(e){return null==e?n:("array"===Po(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?r:("array"===Po(e)?(r=e,o=e[1]-e[0]):(r=[e,e],o=0),s)},s.scale=function(){return Oo.scale(s)},s.hue(n),s},$o=_,Ro="0123456789abcdef",zo=Math.floor,jo=Math.random,Bo=function(){for(var e="#",t=0;t<6;t++)e+=Ro.charAt(zo(16*jo()));return new $o(e,"hex")},Ho=s,Uo=Math.log,Fo=Math.pow,Vo=Math.floor,Go=Math.abs,Yo=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ho(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Ho(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Wo(n,e,t)},n},Wo=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==Ho(e)&&(e=Yo(e));var i=e.min,r=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[i,r];var a=[];if("c"===t.substr(0,1)&&(a.push(i),a.push(r)),"e"===t.substr(0,1)){a.push(i);for(var s=1;s<n;s++)a.push(i+s/n*(r-i));a.push(r)}else if("l"===t.substr(0,1)){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Uo(i),c=Math.LOG10E*Uo(r);a.push(i);for(var d=1;d<n;d++)a.push(Fo(10,l+d/n*(c-l)));a.push(r)}else if("q"===t.substr(0,1)){a.push(i);for(var u=1;u<n;u++){var h=(o.length-1)*u/n,p=Vo(h);if(p===h)a.push(o[p]);else{var f=h-p;a.push(o[p]*(1-f)+o[p+1]*f)}}a.push(r)}else if("k"===t.substr(0,1)){var m,g=o.length,b=new Array(g),v=new Array(n),y=!0,_=0,w=null;(w=[]).push(i);for(var k=1;k<n;k++)w.push(i+k/n*(r-i));for(w.push(r);y;){for(var x=0;x<n;x++)v[x]=0;for(var C=0;C<g;C++)for(var S=o[C],E=Number.MAX_VALUE,T=void 0,A=0;A<n;A++){var P=Go(w[A]-S);P<E&&(E=P,T=A),v[T]++,b[C]=T}for(var M=new Array(n),I=0;I<n;I++)M[I]=null;for(var q=0;q<g;q++)null===M[m=b[q]]?M[m]=o[q]:M[m]+=o[q];for(var N=0;N<n;N++)M[N]*=1/v[N];y=!1;for(var D=0;D<n;D++)if(M[D]!==w[D]){y=!0;break}w=M,++_>200&&(y=!1)}for(var O={},L=0;L<n;L++)O[L]=[];for(var $=0;$<g;$++)O[m=b[$]].push(o[$]);for(var R=[],z=0;z<n;z++)R.push(O[z][0]),R.push(O[z][O[z].length-1]);R=R.sort((function(e,t){return e-t})),a.push(R[0]);for(var j=1;j<R.length;j+=2){var B=R[j];isNaN(B)||-1!==a.indexOf(B)||a.push(B)}}return a},Jo={analyze:Yo,limits:Wo},Ko=_,Xo=function(e,t){e=new Ko(e),t=new Ko(t);var n=e.luminance(),i=t.luminance();return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},Zo=_,Qo=Math.sqrt,ea=Math.pow,ta=Math.min,na=Math.max,ia=Math.atan2,ra=Math.abs,oa=Math.cos,aa=Math.sin,sa=Math.exp,la=Math.PI,ca=function(e,t,n,i,r){void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=1);var o=function(e){return 360*e/(2*la)},a=function(e){return 2*la*e/360};e=new Zo(e),t=new Zo(t);var s=Array.from(e.lab()),l=s[0],c=s[1],d=s[2],u=Array.from(t.lab()),h=u[0],p=u[1],f=u[2],m=(l+h)/2,g=(Qo(ea(c,2)+ea(d,2))+Qo(ea(p,2)+ea(f,2)))/2,b=.5*(1-Qo(ea(g,7)/(ea(g,7)+ea(25,7)))),v=c*(1+b),y=p*(1+b),_=Qo(ea(v,2)+ea(d,2)),w=Qo(ea(y,2)+ea(f,2)),k=(_+w)/2,x=o(ia(d,v)),C=o(ia(f,y)),S=x>=0?x:x+360,E=C>=0?C:C+360,T=ra(S-E)>180?(S+E+360)/2:(S+E)/2,A=1-.17*oa(a(T-30))+.24*oa(a(2*T))+.32*oa(a(3*T+6))-.2*oa(a(4*T-63)),P=E-S;P=ra(P)<=180?P:E<=S?P+360:P-360,P=2*Qo(_*w)*aa(a(P)/2);var M=h-l,I=w-_,q=1+.015*ea(m-50,2)/Qo(20+ea(m-50,2)),N=1+.045*k,D=1+.015*k*A,O=30*sa(-ea((T-275)/25,2)),L=-2*Qo(ea(k,7)/(ea(k,7)+ea(25,7)))*aa(2*a(O)),$=Qo(ea(M/(n*q),2)+ea(I/(i*N),2)+ea(P/(r*D),2)+L*(I/(i*N))*(P/(r*D)));return na(0,ta(100,$))},da=_,ua=function(e,t,n){void 0===n&&(n="lab"),e=new da(e),t=new da(t);var i=e.get(n),r=t.get(n),o=0;for(var a in i){var s=(i[a]||0)-(r[a]||0);o+=s*s}return Math.sqrt(o)},ha=_,pa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ha,[null].concat(e))),!0}catch(e){return!1}},fa=k,ma=lo,ga={cool:function(){return ma([fa.hsl(180,1,.9),fa.hsl(250,.7,.4)])},hot:function(){return ma(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ba={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},va=0,ya=Object.keys(ba);va<ya.length;va+=1){var _a=ya[va];ba[_a.toLowerCase()]=ba[_a]}var wa=ba,ka=k;ka.average=io,ka.bezier=mo,ka.blend=Ao,ka.cubehelix=Lo,ka.mix=ka.interpolate=mr,ka.random=Bo,ka.scale=lo,ka.analyze=Jo.analyze,ka.contrast=Xo,ka.deltaE=ca,ka.distance=ua,ka.limits=Jo.limits,ka.valid=pa,ka.scales=ga,ka.colors=Rn,ka.brewer=wa;var xa=ka;return xa}();const s=window,l=s.ShadowRoot&&(void 0===s.ShadyCSS||s.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),d=new WeakMap;let u=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(l&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=d.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&d.set(t,e))}return e}toString(){return this.cssText}};const h=e=>new u("string"==typeof e?e:e+"",void 0,c),p=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new u(n,e,c)},f=l?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return h(t)})(e):e;var m;const g=window,b=g.trustedTypes,v=b?b.emptyScript:"",y=g.reactiveElementPolyfillSupport,_={toAttribute(e,t){switch(t){case Boolean:e=e?v:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},w=(e,t)=>t!==e&&(t==t||e==e),k={attribute:!0,type:String,converter:_,reflect:!1,hasChanged:w};let x=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const i=this._$Ep(n,t);void 0!==i&&(this._$Ev.set(i,n),e.push(i))})),e}static createProperty(e,t=k){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||k}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(f(e))}else void 0!==e&&t.push(f(e));return t}static _$Ep(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{l?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),i=s.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=k){var i;const r=this.constructor._$Ep(e,n);if(void 0!==r&&!0===n.reflect){const o=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:_).toAttribute(t,n.type);this._$El=e,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$El=null}}_$AK(e,t){var n;const i=this.constructor,r=i._$Ev.get(e);if(void 0!==r&&this._$El!==r){const e=i.getPropertyOptions(r),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(n=e.converter)||void 0===n?void 0:n.fromAttribute)?e.converter:_;this._$El=r,this[r]=o.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||w)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};var C;x.finalized=!0,x.elementProperties=new Map,x.elementStyles=[],x.shadowRootOptions={mode:"open"},null==y||y({ReactiveElement:x}),(null!==(m=g.reactiveElementVersions)&&void 0!==m?m:g.reactiveElementVersions=[]).push("1.6.1");const S=window,E=S.trustedTypes,T=E?E.createPolicy("lit-html",{createHTML:e=>e}):void 0,A="$lit$",P=`lit$${(Math.random()+"").slice(9)}$`,M="?"+P,I=`<${M}>`,q=document,N=()=>q.createComment(""),D=e=>null===e||"object"!=typeof e&&"function"!=typeof e,O=Array.isArray,L=e=>O(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),$="[ \t\n\f\r]",R=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,z=/-->/g,j=/>/g,B=RegExp(`>|${$}(?:([^\\s"'>=/]+)(${$}*=${$}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),H=/'/g,U=/"/g,F=/^(?:script|style|textarea|title)$/i,V=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),G=V(1),Y=V(2),W=Symbol.for("lit-noChange"),J=Symbol.for("lit-nothing"),K=new WeakMap,X=q.createTreeWalker(q,129,null,!1),Z=(e,t)=>{const n=e.length-1,i=[];let r,o=2===t?"<svg>":"",a=R;for(let t=0;t<n;t++){const n=e[t];let s,l,c=-1,d=0;for(;d<n.length&&(a.lastIndex=d,l=a.exec(n),null!==l);)d=a.lastIndex,a===R?"!--"===l[1]?a=z:void 0!==l[1]?a=j:void 0!==l[2]?(F.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=B):void 0!==l[3]&&(a=B):a===B?">"===l[0]?(a=null!=r?r:R,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?B:'"'===l[3]?U:H):a===U||a===H?a=B:a===z||a===j?a=R:(a=B,r=void 0);const u=a===B&&e[t+1].startsWith("/>")?" ":"";o+=a===R?n+I:c>=0?(i.push(s),n.slice(0,c)+A+n.slice(c)+P+u):n+P+(-2===c?(i.push(void 0),t):u)}const s=o+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==T?T.createHTML(s):s,i]};class Q{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,o=0;const a=e.length-1,s=this.parts,[l,c]=Z(e,t);if(this.el=Q.createElement(l,n),X.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=X.nextNode())&&s.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith(A)||t.startsWith(P)){const n=c[o++];if(e.push(t),void 0!==n){const e=i.getAttribute(n.toLowerCase()+A).split(P),t=/([.?@])?(.*)/.exec(n);s.push({type:1,index:r,name:t[2],strings:e,ctor:"."===t[1]?re:"?"===t[1]?ae:"@"===t[1]?se:ie})}else s.push({type:6,index:r})}for(const t of e)i.removeAttribute(t)}if(F.test(i.tagName)){const e=i.textContent.split(P),t=e.length-1;if(t>0){i.textContent=E?E.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],N()),X.nextNode(),s.push({type:2,index:++r});i.append(e[t],N())}}}else if(8===i.nodeType)if(i.data===M)s.push({type:2,index:r});else{let e=-1;for(;-1!==(e=i.data.indexOf(P,e+1));)s.push({type:7,index:r}),e+=P.length-1}r++}}static createElement(e,t){const n=q.createElement("template");return n.innerHTML=e,n}}function ee(e,t,n=e,i){var r,o,a,s;if(t===W)return t;let l=void 0!==i?null===(r=n._$Co)||void 0===r?void 0:r[i]:n._$Cl;const c=D(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===c?l=void 0:(l=new c(e),l._$AT(e,n,i)),void 0!==i?(null!==(a=(s=n)._$Co)&&void 0!==a?a:s._$Co=[])[i]=l:n._$Cl=l),void 0!==l&&(t=ee(e,l._$AS(e,t.values),l,i)),t}class te{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:i}=this._$AD,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:q).importNode(n,!0);X.currentNode=r;let o=X.nextNode(),a=0,s=0,l=i[0];for(;void 0!==l;){if(a===l.index){let t;2===l.type?t=new ne(o,o.nextSibling,this,e):1===l.type?t=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(t=new le(o,this,e)),this._$AV.push(t),l=i[++s]}a!==(null==l?void 0:l.index)&&(o=X.nextNode(),a++)}return r}v(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class ne{constructor(e,t,n,i){var r;this.type=2,this._$AH=J,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cp=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ee(this,e,t),D(e)?e===J||null==e||""===e?(this._$AH!==J&&this._$AR(),this._$AH=J):e!==this._$AH&&e!==W&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):L(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==J&&D(this._$AH)?this._$AA.nextSibling.data=e:this.$(q.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Q.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.v(n);else{const e=new te(r,this),t=e.u(this.options);e.v(n),this.$(t),this._$AH=e}}_$AC(e){let t=K.get(e.strings);return void 0===t&&K.set(e.strings,t=new Q(e)),t}T(e){O(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new ne(this.k(N()),this.k(N()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class ie{constructor(e,t,n,i,r){this.type=1,this._$AH=J,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=J}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const r=this.strings;let o=!1;if(void 0===r)e=ee(this,e,t,0),o=!D(e)||e!==this._$AH&&e!==W,o&&(this._$AH=e);else{const i=e;let a,s;for(e=r[0],a=0;a<r.length-1;a++)s=ee(this,i[n+a],t,a),s===W&&(s=this._$AH[a]),o||(o=!D(s)||s!==this._$AH[a]),s===J?e=J:e!==J&&(e+=(null!=s?s:"")+r[a+1]),this._$AH[a]=s}o&&!i&&this.j(e)}j(e){e===J?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class re extends ie{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===J?void 0:e}}const oe=E?E.emptyScript:"";class ae extends ie{constructor(){super(...arguments),this.type=4}j(e){e&&e!==J?this.element.setAttribute(this.name,oe):this.element.removeAttribute(this.name)}}class se extends ie{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=ee(this,e,t,0))&&void 0!==n?n:J)===W)return;const i=this._$AH,r=e===J&&i!==J||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==J&&(i===J||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class le{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ee(this,e)}}const ce={O:A,P:P,A:M,C:1,M:Z,L:te,D:L,R:ee,I:ne,V:ie,H:ae,N:se,U:re,F:le},de=S.litHtmlPolyfillSupport;null==de||de(Q,ne),(null!==(C=S.litHtmlVersions)&&void 0!==C?C:S.litHtmlVersions=[]).push("2.7.2");var ue,he;let pe=class extends x{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{var i,r;const o=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t;let a=o._$litPart$;if(void 0===a){const e=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;o._$litPart$=a=new ne(t.insertBefore(N(),e),e,void 0,null!=n?n:{})}return a._$AI(e),a})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return W}};pe.finalized=!0,pe._$litElement$=!0,null===(ue=globalThis.litElementHydrateSupport)||void 0===ue||ue.call(globalThis,{LitElement:pe});const fe=globalThis.litElementPolyfillSupport;null==fe||fe({LitElement:pe}),(null!==(he=globalThis.litElementVersions)&&void 0!==he?he:globalThis.litElementVersions=[]).push("3.3.1");customElements.define("cesium-popover",class extends pe{static get properties(){return{open:{type:Boolean,reflect:!0},direction:{type:String,reflect:!0},anchor:{type:Object,converter:e=>e},offset:{type:Number}}}static get styles(){return[p`
        :host {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 10;
        }

        .popover-wrapper {
          background-color: var(--widgets-background-color);
          border-radius: var(--widgets-container-border-radius);
          position: absolute;
          box-shadow: 0 0 10px var(--shadow-color);
          max-height: 90%;
          overflow-y: auto;
        }

        :host([open]) {
          display: inline-block;
        }

        :host([open]) .popover-wrapper {
          pointer-events: all;
        }
      `]}constructor(){super(),this.open=!1,this.direction="down",this.top=0,this.left=0,this.offset=5,this._updatePosition=this._updatePosition.bind(this),this._closeDropdown=this._closeDropdown.bind(this),this._isReady=!1,this.anchor=void 0}_closeDropdown(t){e.defined(t)&&-1!==t.composedPath().indexOf(this)||(this.open=!1)}render(){const e=`top: ${this.top}px; left: ${this.left}px`;return G`
      <div class="popover-wrapper" style="${e}">
        <slot></slot>
      </div>
    `}updated(e){e.has("open")&&(this.open?(this._addEventListeners(),this.dispatchEvent(new CustomEvent("popover-open")),this.updateComplete.then((()=>{this._updatePosition()}))):(this._removeEventListeners(),this.dispatchEvent(new CustomEvent("popover-close"))))}firstUpdated(){this.addEventListener("click",(e=>{e.stopPropagation()})),this.addEventListener("pointerdown",(e=>{e.stopPropagation()})),this.addEventListener("pointerup",(e=>{e.stopPropagation()})),this._isReady=!0}getAnchorElement(){return"string"==typeof this.anchor?this.getRootNode().getElementById(this.anchor):this.anchor}_updatePosition(){if(!this._isReady||!this.open)return;const t=this.getAnchorElement();if(!e.defined(t))return this.top=0,void(this.left=0);const n=t.getBoundingClientRect(),i=this.shadowRoot.querySelector(".popover-wrapper").getBoundingClientRect();let r=n.left,o=n.top;const a=n.width,s=n.height,l=i.width,c=i.height;switch(this.direction){case"down":o+=s+this.offset;break;case"up":o-=c+this.offset;break;case"right":r+=a+this.offset;break;case"left":r-=l+this.offset}const d=o+c;d>window.innerHeight&&(o-=d-window.innerHeight),r+l>window.innerWidth&&(r=window.innerWidth-l),o===this.top&&r===this.left||(this.top=o,this.left=r,this.requestUpdate())}disconnectedCallback(){this.open&&this._removeEventListeners(),super.disconnectedCallback()}_addEventListeners(){window.addEventListener("resize",this._updatePosition),document.addEventListener("pointerdown",this._closeDropdown),document.addEventListener("wheel",this._closeDropdown),document.addEventListener("scroll",this._closeDropdown)}_removeEventListeners(){window.addEventListener("resize",this._updatePosition),document.addEventListener("pointerdown",this._closeDropdown),document.addEventListener("wheel",this._closeDropdown),document.addEventListener("scroll",this._closeDropdown)}});window.customElements.define("cesium-tab",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
          cursor: pointer;
          border-bottom: 2px solid transparent;
          color: var(--widgets-text-color-secondary);
          text-align: center;
        }
        :host([active="true"]) {
          border-color: var(--widgets-active-color);
          color: var(--widgets-active-color);
          font-weight: bold;
          background-color: var(--widgets-active-color-shade);
        }

        div {
          padding: 10px 0;
          text-align: center;
          width: 100%;
        }

        ::slotted(svg) {
          height: 1rem;
          width: 1rem;
          margin: 0 auto;
        }
      `]}static get properties(){return{active:{type:Boolean}}}constructor(){super(),this.index=void 0}render(){return G`
      <div @click="${this.handleClick}">
        <slot></slot>
      </div>
    `}handleClick(){const e=new CustomEvent("tabchange",{bubbles:!0});this.dispatchEvent(e)}});window.customElements.define("cesium-tab-panel",class extends pe{static get styles(){return[p`
        :host {
          display: none;
        }
        :host([active="true"]) {
          display: block;
        }
      `]}static get properties(){return{active:{type:Boolean}}}constructor(){super(),this.index=void 0}render(){return G` <slot></slot> `}});window.customElements.define("cesium-tabs",class extends pe{static get properties(){return{selected:{type:Number}}}static get styles(){return[p`
        .tabs {
          height: 100%;
        }

        ::slotted(cesium-tab-panels) {
          min-height: 100%;
        }
      `]}constructor(){super(),this._selected=0,this._tabs=void 0,this._panels=void 0}get tabs(){return this._tabs}get panels(){return this._panels}connectedCallback(){super.connectedCallback(),this.addEventListener("tabchange",this.handleChange)}disconnectedCallback(){this.removeEventListener("tabchange",this.handleChange),super.disconnectedCallback()}refreshTabs(){const e=this.shadowRoot.querySelector('slot[name="tabs"]').assignedElements({flatten:!0})[0];e.childNodes.forEach((t=>{t.nodeType===Node.TEXT_NODE&&e.removeChild(t)}));const t=e.querySelectorAll("cesium-tab"),n=this.shadowRoot.querySelector('slot[name="tab-panels"]').assignedElements({flatten:!0})[0].querySelectorAll("cesium-tab-panel");for(let e=0;e<t.length;e++)t[e].index=e,e===this.selected&&(t[e].setAttribute("active",!0),n[e].setAttribute("active",!0));this._tabs=t,this._panels=n}firstUpdated(){this.refreshTabs()}get selected(){return this._selected}set selected(t){const n=this.selected;if(t===n)return;const i=this._tabs[n];e.defined(i)&&i.setAttribute("active",!1);const r=this._panels[n];e.defined(r)&&r.setAttribute("active",!1),this._tabs[t].setAttribute("active",!0),this._panels[t].setAttribute("active",!0),this._selected=t}handleChange(e){this.selectTab(e.target.index)}selectTab(e){this.selected!==e&&(this.selected=e,this.dispatchEvent(new CustomEvent("change",{detail:{selected:e,tab:this._tabs[e],panel:this._panels[e]}})))}render(){return G`
      <div class="tabs">
        <slot name="tabs"></slot>
        <slot name="tab-panels"></slot>
      </div>
    `}});const me=p`
  *,
  :host {
    box-sizing: border-box;
  }

  :host {
    display: block;
  }

  .visually-hidden {
    position: absolute !important;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
    clip: rect(1px, 1px, 1px, 1px);
    white-space: nowrap; /* added line */
  }
`;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Se=function(){},Ee={},Te={},Ae=null,Pe={mark:Se,measure:Se};try{"undefined"!=typeof window&&(Ee=window),"undefined"!=typeof document&&(Te=document),"undefined"!=typeof MutationObserver&&(Ae=MutationObserver),"undefined"!=typeof performance&&(Pe=performance)}catch(Fl){}var Me=(Ee.navigator||{}).userAgent,Ie=void 0===Me?"":Me,qe=Ee,Ne=Te,De=Ae,Oe=Pe;qe.document;var Le,$e,Re,ze,je,Be=!!Ne.documentElement&&!!Ne.head&&"function"==typeof Ne.addEventListener&&"function"==typeof Ne.createElement,He=~Ie.indexOf("MSIE")||~Ie.indexOf("Trident/"),Ue="___FONT_AWESOME___",Fe=16,Ve="fa",Ge="svg-inline--fa",Ye="data-fa-i2svg",We="data-fa-pseudo-element",Je="data-fa-pseudo-element-pending",Ke="data-prefix",Xe="data-icon",Ze="fontawesome-i2svg",Qe="async",et=["HTML","HEAD","STYLE","SCRIPT"],tt=function(){try{return!0}catch(e){return!1}}(),nt="classic",it="sharp",rt=[nt,it];function ot(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[nt]}})}var at=ot((_e(Le={},nt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_e(Le,it,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Le)),st=ot((_e($e={},nt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_e($e,it,{solid:"fass",regular:"fasr",light:"fasl"}),$e)),lt=ot((_e(Re={},nt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_e(Re,it,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Re)),ct=ot((_e(ze={},nt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_e(ze,it,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),ze)),dt=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,ut="fa-layers-text",ht=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,pt=ot((_e(je={},nt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_e(je,it,{900:"fass",400:"fasr",300:"fasl"}),je)),ft=[1,2,3,4,5,6,7,8,9,10],mt=ft.concat([11,12,13,14,15,16,17,18,19,20]),gt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],bt={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vt=new Set;Object.keys(st[nt]).map(vt.add.bind(vt)),Object.keys(st[it]).map(vt.add.bind(vt));var yt=[].concat(rt,ke(vt),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",bt.GROUP,bt.SWAP_OPACITY,bt.PRIMARY,bt.SECONDARY]).concat(ft.map((function(e){return"".concat(e,"x")}))).concat(mt.map((function(e){return"w-".concat(e)}))),_t=qe.FontAwesomeConfig||{};if(Ne&&"function"==typeof Ne.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=we(e,2),n=t[0],i=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Ne.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=r&&(_t[i]=r)}))}var wt={styleDefault:"solid",familyDefault:"classic",cssPrefix:Ve,replacementClass:Ge,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_t.familyPrefix&&(_t.cssPrefix=_t.familyPrefix);var kt=be(be({},wt),_t);kt.autoReplaceSvg||(kt.observeMutations=!1);var xt={};Object.keys(wt).forEach((function(e){Object.defineProperty(xt,e,{enumerable:!0,set:function(t){kt[e]=t,Ct.forEach((function(e){return e(xt)}))},get:function(){return kt[e]}})})),Object.defineProperty(xt,"familyPrefix",{enumerable:!0,set:function(e){kt.cssPrefix=e,Ct.forEach((function(e){return e(xt)}))},get:function(){return kt.cssPrefix}}),qe.FontAwesomeConfig=xt;var Ct=[];var St=Fe,Et={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Tt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function At(){for(var e=12,t="";e-- >0;)t+=Tt[62*Math.random()|0];return t}function Pt(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Mt(e){return e.classList?Pt(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function It(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Nt(e){return e.size!==Et.size||e.x!==Et.x||e.y!==Et.y||e.rotate!==Et.rotate||e.flipX||e.flipY}var Dt=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Ot(){var e=Ve,t=Ge,n=xt.cssPrefix,i=xt.replacementClass,r=Dt;if(n!==e||i!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(i))}return r}var Lt=!1;function $t(){xt.autoAddCss&&!Lt&&(!function(e){if(e&&Be){var t=Ne.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Ne.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}Ne.head.insertBefore(t,i)}}(Ot()),Lt=!0)}var Rt={mixout:function(){return{dom:{css:Ot,insertCss:$t}}},hooks:function(){return{beforeDOMElementCreation:function(){$t()},beforeI2svg:function(){$t()}}}},zt=qe||{};zt[Ue]||(zt[Ue]={}),zt[Ue].styles||(zt[Ue].styles={}),zt[Ue].hooks||(zt[Ue].hooks={}),zt[Ue].shims||(zt[Ue].shims=[]);var jt=zt[Ue],Bt=[],Ht=!1;function Ut(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,r=e.children,o=void 0===r?[]:r;return"string"==typeof e?It(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(It(e[n]),'" ')}),"").trim()}(i),">").concat(o.map(Ut).join(""),"</").concat(t,">")}function Ft(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Be&&((Ht=(Ne.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ne.readyState))||Ne.addEventListener("DOMContentLoaded",(function e(){Ne.removeEventListener("DOMContentLoaded",e),Ht=1,Bt.map((function(e){return e()}))})));var Vt,Gt,Yt,Wt=function(e,t,n,i){var r,o,a,s=Object.keys(e),l=s.length,c=void 0!==i?function(e,t){return function(n,i,r,o){return e.call(t,n,i,r,o)}}(t,i):t;for(void 0===n?(r=1,a=e[s[0]]):(r=0,a=n);r<l;r++)a=c(a,e[o=s[r]],o,e);return a};function Jt(e){var t=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function Kt(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return!!i.icon?t[i.iconName]=i.icon:t[n]=i,t}),{})}function Xt(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==n&&n,r=Kt(t);"function"!=typeof jt.hooks.addPack||i?jt.styles[e]=be(be({},jt.styles[e]||{}),r):jt.hooks.addPack(e,Kt(t)),"fas"===e&&Xt("fa",t)}var Zt=jt.styles,Qt=jt.shims,en=(_e(Vt={},nt,Object.values(lt[nt])),_e(Vt,it,Object.values(lt[it])),Vt),tn=null,nn={},rn={},on={},an={},sn={},ln=(_e(Gt={},nt,Object.keys(at[nt])),_e(Gt,it,Object.keys(at[it])),Gt);function cn(e,t){var n,i=t.split("-"),r=i[0],o=i.slice(1).join("-");return r!==e||""===o||(n=o,~yt.indexOf(n))?null:o}var dn,un=function(){var e=function(e){return Wt(Zt,(function(t,n,i){return t[i]=Wt(n,e,{}),t}),{})};nn=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var i=t[2].filter((function(e){return"number"==typeof e}));i.forEach((function(t){e[t.toString(16)]=n}))}return e})),rn=e((function(e,t,n){if(e[n]=n,t[2]){var i=t[2].filter((function(e){return"string"==typeof e}));i.forEach((function(t){e[t]=n}))}return e})),sn=e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in Zt||xt.autoFetchSvg,n=Wt(Qt,(function(e,n){var i=n[0],r=n[1],o=n[2];return"far"!==r||t||(r="fas"),"string"==typeof i&&(e.names[i]={prefix:r,iconName:o}),"number"==typeof i&&(e.unicodes[i.toString(16)]={prefix:r,iconName:o}),e}),{names:{},unicodes:{}});on=n.names,an=n.unicodes,tn=bn(xt.styleDefault,{family:xt.familyDefault})};function hn(e,t){return(nn[e]||{})[t]}function pn(e,t){return(sn[e]||{})[t]}function fn(e){return on[e]||{prefix:null,iconName:null}}function mn(){return tn}dn=function(e){tn=bn(e.styleDefault,{family:xt.familyDefault})},Ct.push(dn),un();var gn=function(){return{prefix:null,iconName:null,rest:[]}};function bn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?nt:t,i=at[n][e],r=st[n][e]||st[n][i],o=e in jt.styles?e:null;return r||o||null}var vn=(_e(Yt={},nt,Object.keys(lt[nt])),_e(Yt,it,Object.keys(lt[it])),Yt);function yn(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==n&&n,r=(_e(t={},nt,"".concat(xt.cssPrefix,"-").concat(nt)),_e(t,it,"".concat(xt.cssPrefix,"-").concat(it)),t),o=null,a=nt;(e.includes(r[nt])||e.some((function(e){return vn[nt].includes(e)})))&&(a=nt),(e.includes(r[it])||e.some((function(e){return vn[it].includes(e)})))&&(a=it);var s=e.reduce((function(e,t){var n=cn(xt.cssPrefix,t);if(Zt[t]?(t=en[a].includes(t)?ct[a][t]:t,o=t,e.prefix=t):ln[a].indexOf(t)>-1?(o=t,e.prefix=bn(t,{family:a})):n?e.iconName=n:t!==xt.replacementClass&&t!==r[nt]&&t!==r[it]&&e.rest.push(t),!i&&e.prefix&&e.iconName){var s="fa"===o?fn(e.iconName):{},l=pn(e.prefix,e.iconName);s.prefix&&(o=null),e.iconName=s.iconName||l||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||Zt.far||!Zt.fas||xt.autoFetchSvg||(e.prefix="fas")}return e}),gn());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==it||!Zt.fass&&!xt.autoFetchSvg||(s.prefix="fass",s.iconName=pn(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==o||(s.prefix=mn()||"fas"),s}var _n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,i;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=be(be({},e.definitions[t]||{}),r[t]),Xt(t,r[t]);var n=lt[nt][t];n&&Xt(n,r[t]),un()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],r=i.prefix,o=i.iconName,a=i.icon,s=a[2];e[r]||(e[r]={}),s.length>0&&s.forEach((function(t){"string"==typeof t&&(e[r][t]=a)})),e[r][o]=a})),e}}],n&&ye(t.prototype,n),i&&ye(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wn=[],kn={},xn={},Cn=Object.keys(xn);function Sn(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return(kn[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(i))})),t}function En(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(kn[e]||[]).forEach((function(e){e.apply(null,n)}))}function Tn(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return xn[e]?xn[e].apply(null,t):void 0}function An(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||mn();if(t)return t=pn(n,t)||t,Ft(Pn.definitions,n,t)||Ft(jt.styles,n,t)}var Pn=new _n,Mn={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Be?(En("beforeI2svg",e),Tn("pseudoElements2svg",e),Tn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===xt.autoReplaceSvg&&(xt.autoReplaceSvg=!0),xt.observeMutations=!0,e=function(){Nn({autoReplaceSvgRoot:n}),En("watch",t)},Be&&(Ht?setTimeout(e,0):Bt.push(e))}},In={icon:function(e){if(null===e)return null;if("object"===ve(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:pn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=bn(e[0]);return{prefix:n,iconName:pn(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(xt.cssPrefix,"-"))>-1||e.match(dt))){var i=yn(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||mn(),iconName:pn(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var r=mn();return{prefix:r,iconName:pn(r,e)||e}}}},qn={noAuto:function(){xt.autoReplaceSvg=!1,xt.observeMutations=!1,En("noAuto")},config:xt,dom:Mn,parse:In,library:Pn,findIconDefinition:An,toHtml:Ut},Nn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?Ne:e;(Object.keys(jt.styles).length>0||xt.autoFetchSvg)&&Be&&xt.autoReplaceSvg&&qn.dom.i2svg({node:t})};function Dn(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ut(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Be){var t=Ne.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function On(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,d=e.titleId,u=e.extra,h=e.watchable,p=void 0!==h&&h,f=i.found?i:n,m=f.width,g=f.height,b="fak"===r,v=[xt.replacementClass,o?"".concat(xt.cssPrefix,"-").concat(o):""].filter((function(e){return-1===u.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(u.classes).join(" "),y={children:[],attributes:be(be({},u.attributes),{},{"data-prefix":r,"data-icon":o,class:v,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},_=b&&!~u.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};p&&(y.attributes[Ye]=""),l&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(d||At())},children:[l]}),delete y.attributes.title);var w=be(be({},y),{},{prefix:r,iconName:o,main:n,mask:i,maskId:c,transform:a,symbol:s,styles:be(be({},_),u.styles)}),k=i.found&&n.found?Tn("generateAbstractMask",w)||{children:[],attributes:{}}:Tn("generateAbstractIcon",w)||{children:[],attributes:{}},x=k.children,C=k.attributes;return w.children=x,w.attributes=C,s?function(e){var t=e.prefix,n=e.iconName,i=e.children,r=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(xt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:be(be({},r),{},{id:a}),children:i}]}]}(w):function(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,o=e.styles,a=e.transform;if(Nt(a)&&n.found&&!i.found){var s={x:n.width/n.height/2,y:.5};r.style=qt(be(be({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(w)}function Ln(e){var t=e.content,n=e.width,i=e.height,r=e.transform,o=e.title,a=e.extra,s=e.watchable,l=void 0!==s&&s,c=be(be(be({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c[Ye]="");var d=be({},a.styles);Nt(r)&&(d.transform=function(e){var t=e.transform,n=e.width,i=void 0===n?Fe:n,r=e.height,o=void 0===r?Fe:r,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&He?"translate(".concat(t.x/St-i/2,"em, ").concat(t.y/St-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/St,"em), calc(-50% + ").concat(t.y/St,"em)) "):"translate(".concat(t.x/St,"em, ").concat(t.y/St,"em) "),l+="scale(".concat(t.size/St*(t.flipX?-1:1),", ").concat(t.size/St*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),d["-webkit-transform"]=d.transform);var u=qt(d);u.length>0&&(c.style=u);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}var $n=jt.styles;function Rn(e){var t=e[0],n=e[1],i=we(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(xt.cssPrefix,"-").concat(bt.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xt.cssPrefix,"-").concat(bt.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(xt.cssPrefix,"-").concat(bt.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var zn={found:!1,width:512,height:512};function jn(e,t){var n=t;return"fa"===t&&null!==xt.styleDefault&&(t=mn()),new Promise((function(i,r){if(Tn("missingIconAbstract"),"fa"===n){var o=fn(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&$n[t]&&$n[t][e])return i(Rn($n[t][e]));!function(e,t){tt||xt.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),i(be(be({},zn),{},{icon:xt.showMissingIcons&&e&&Tn("missingIconAbstract")||{}}))}))}var Bn=function(){},Hn=xt.measurePerformance&&Oe&&Oe.mark&&Oe.measure?Oe:{mark:Bn,measure:Bn},Un='FA "6.4.0"',Fn=function(e){Hn.mark("".concat(Un," ").concat(e," ends")),Hn.measure("".concat(Un," ").concat(e),"".concat(Un," ").concat(e," begins"),"".concat(Un," ").concat(e," ends"))},Vn={begin:function(e){return Hn.mark("".concat(Un," ").concat(e," begins")),function(){return Fn(e)}},end:Fn},Gn=function(){};function Yn(e){return"string"==typeof(e.getAttribute?e.getAttribute(Ye):null)}function Wn(e){return Ne.createElementNS("http://www.w3.org/2000/svg",e)}function Jn(e){return Ne.createElement(e)}function Kn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Wn:Jn:t;if("string"==typeof e)return Ne.createTextNode(e);var i=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){i.appendChild(Kn(e,{ceFn:n}))})),i}var Xn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Kn(e),t)})),null===t.getAttribute(Ye)&&xt.keepOriginalSource){var n=Ne.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Mt(t).indexOf(xt.replacementClass))return Xn.replace(e);var i=new RegExp("".concat(xt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var r=n[0].attributes.class.split(" ").reduce((function(e,t){return t===xt.replacementClass||t.match(i)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var o=n.map((function(e){return Ut(e)})).join("\n");t.setAttribute(Ye,""),t.innerHTML=o}};function Zn(e){e()}function Qn(e,t){var n="function"==typeof t?t:Gn;if(0===e.length)n();else{var i=Zn;xt.mutateApproach===Qe&&(i=qe.requestAnimationFrame||Zn),i((function(){var t=!0===xt.autoReplaceSvg?Xn.replace:Xn[xt.autoReplaceSvg]||Xn.replace,i=Vn.begin("mutate");e.map(t),i(),n()}))}}var ei=!1;function ti(){ei=!0}function ni(){ei=!1}var ii=null;function ri(e){if(De&&xt.observeMutations){var t=e.treeCallback,n=void 0===t?Gn:t,i=e.nodeCallback,r=void 0===i?Gn:i,o=e.pseudoElementsCallback,a=void 0===o?Gn:o,s=e.observeMutationsRoot,l=void 0===s?Ne:s;ii=new De((function(e){if(!ei){var t=mn();Pt(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Yn(e.addedNodes[0])&&(xt.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&xt.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&Yn(e.target)&&~gt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ke):null,n=e.getAttribute?e.getAttribute(Xe):null;return t&&n}(e.target)){var i=yn(Mt(e.target)),o=i.prefix,s=i.iconName;e.target.setAttribute(Ke,o||t),s&&e.target.setAttribute(Xe,s)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(xt.replacementClass)})(e.target)&&r(e.target)}))}})),Be&&ii.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function oi(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"",r=yn(Mt(e));return r.prefix||(r.prefix=mn()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function(e,t){return(rn[e]||{})[t]}(r.prefix,e.innerText)||hn(r.prefix,Jt(e.innerText))),!r.iconName&&xt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=oi(e),i=n.iconName,r=n.prefix,o=n.rest,a=function(e){var t=Pt(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return xt.autoA11y&&(n?t["aria-labelledby"]="".concat(xt.replacementClass,"-title-").concat(i||At()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Sn("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),i=n[0],r=n.slice(1);return i&&r.length>0&&(e[i]=r.join(":").trim()),e}),{})),n}(e):[];return be({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Et,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var si=jt.styles;function li(e){var t="nest"===xt.autoReplaceSvg?ai(e,{styleParser:!1}):ai(e);return~t.extra.classes.indexOf(ut)?Tn("generateLayersText",e,t):Tn("generateSvgReplacementMutation",e,t)}var ci=new Set;function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Be)return Promise.resolve();var n=Ne.documentElement.classList,i=function(e){return n.add("".concat(Ze,"-").concat(e))},r=function(e){return n.remove("".concat(Ze,"-").concat(e))},o=xt.autoFetchSvg?ci:rt.map((function(e){return"fa-".concat(e)})).concat(Object.keys(si));o.includes("fa")||o.push("fa");var a=[".".concat(ut,":not([").concat(Ye,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(Ye,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=Pt(e.querySelectorAll(a))}catch(e){}if(!(s.length>0))return Promise.resolve();i("pending"),r("complete");var l=Vn.begin("onTree"),c=s.reduce((function(e,t){try{var n=li(t);n&&e.push(n)}catch(e){tt||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Qn(n,(function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function ui(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;li(e).then((function(e){e&&Qn([e],t)}))}rt.map((function(e){ci.add("fa-".concat(e))})),Object.keys(at[nt]).map(ci.add.bind(ci)),Object.keys(at[it]).map(ci.add.bind(ci)),ci=ke(ci);var hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?Et:n,r=t.symbol,o=void 0!==r&&r,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,d=t.title,u=void 0===d?null:d,h=t.titleId,p=void 0===h?null:h,f=t.classes,m=void 0===f?[]:f,g=t.attributes,b=void 0===g?{}:g,v=t.styles,y=void 0===v?{}:v;if(e){var _=e.prefix,w=e.iconName,k=e.icon;return Dn(be({type:"icon"},e),(function(){return En("beforeDOMElementCreation",{iconDefinition:e,params:t}),xt.autoA11y&&(u?b["aria-labelledby"]="".concat(xt.replacementClass,"-title-").concat(p||At()):(b["aria-hidden"]="true",b.focusable="false")),On({icons:{main:Rn(k),mask:s?Rn(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:be(be({},Et),i),symbol:o,title:u,maskId:c,titleId:p,extra:{attributes:b,styles:y,classes:m}})}))}},pi={mixout:function(){return{icon:(e=hi,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:An(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:An(r||{})),e(i,be(be({},n),{},{mask:r}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=di,e.nodeCallback=ui,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Ne:t,i=e.callback;return di(n,void 0===i?function(){}:i)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,i=t.title,r=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,c=t.maskId,d=t.extra;return new Promise((function(t,u){Promise.all([jn(n,o),l.iconName?jn(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var u=we(l,2),h=u[0],p=u[1];t([e,On({icons:{main:h,mask:p},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:i,titleId:r,extra:d,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){var t,n=e.children,i=e.attributes,r=e.main,o=e.transform,a=qt(e.styles);return a.length>0&&(i.style=a),Nt(o)&&(t=Tn("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),n.push(t||r.icon),{children:n,attributes:i}}}},fi={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,i=void 0===n?[]:n;return Dn({type:"layer"},(function(){En("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(xt.cssPrefix,"-layers")].concat(ke(i)).join(" ")},children:n}]}))}}}},mi={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,i=void 0===n?null:n,r=t.classes,o=void 0===r?[]:r,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return Dn({type:"counter",content:e},(function(){return En("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,i=e.extra,r=be(be(be({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),o=qt(i.styles);o.length>0&&(r.style=o);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:i,extra:{attributes:s,styles:c,classes:["".concat(xt.cssPrefix,"-layers-counter")].concat(ke(o))}})}))}}}},gi={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?Et:n,r=t.title,o=void 0===r?null:r,a=t.classes,s=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,d=t.styles,u=void 0===d?{}:d;return Dn({type:"text",content:e},(function(){return En("beforeDOMElementCreation",{content:e,params:t}),Ln({content:e,transform:be(be({},Et),i),title:o,extra:{attributes:c,styles:u,classes:["".concat(xt.cssPrefix,"-layers-text")].concat(ke(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,i=t.transform,r=t.extra,o=null,a=null;if(He){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return xt.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,Ln({content:e.innerHTML,width:o,height:a,transform:i,title:n,extra:r,watchable:!0})])}}},bi=new RegExp('"',"ug"),vi=[1105920,1112319];function yi(e,t){var n="".concat(Je).concat(t.replace(":","-"));return new Promise((function(i,r){if(null!==e.getAttribute(n))return i();var o,a,s,l=Pt(e.children).filter((function(e){return e.getAttribute(We)===t}))[0],c=qe.getComputedStyle(e,t),d=c.getPropertyValue("font-family").match(ht),u=c.getPropertyValue("font-weight"),h=c.getPropertyValue("content");if(l&&!d)return e.removeChild(l),i();if(d&&"none"!==h&&""!==h){var p=c.getPropertyValue("content"),f=~["Sharp"].indexOf(d[2])?it:nt,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?st[f][d[2].toLowerCase()]:pt[f][u],g=function(e){var t=e.replace(bi,""),n=function(e,t){var n,i=e.length,r=e.charCodeAt(t);return r>=55296&&r<=56319&&i>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}(t,0),i=n>=vi[0]&&n<=vi[1],r=2===t.length&&t[0]===t[1];return{value:Jt(r?t[0]:t),isSecondary:i||r}}(p),b=g.value,v=g.isSecondary,y=d[0].startsWith("FontAwesome"),_=hn(m,b),w=_;if(y){var k=(a=an[o=b],s=hn("fas",o),a||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null});k.iconName&&k.prefix&&(_=k.iconName,m=k.prefix)}if(!_||v||l&&l.getAttribute(Ke)===m&&l.getAttribute(Xe)===w)i();else{e.setAttribute(n,w),l&&e.removeChild(l);var x={iconName:null,title:null,titleId:null,prefix:null,transform:Et,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},C=x.extra;C.attributes[We]=t,jn(_,m).then((function(r){var o=On(be(be({},x),{},{icons:{main:r,mask:gn()},prefix:m,iconName:w,extra:C,watchable:!0})),a=Ne.createElement("svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return Ut(e)})).join("\n"),e.removeAttribute(n),i()})).catch(r)}}else i()}))}function _i(e){return Promise.all([yi(e,"::before"),yi(e,"::after")])}function wi(e){return!(e.parentNode===document.head||~et.indexOf(e.tagName.toUpperCase())||e.getAttribute(We)||e.parentNode&&"svg"===e.parentNode.tagName)}function ki(e){if(Be)return new Promise((function(t,n){var i=Pt(e.querySelectorAll("*")).filter(wi).map(_i),r=Vn.begin("searchPseudoElements");ti(),Promise.all(i).then((function(){r(),ni(),t()})).catch((function(){r(),ni(),n()}))}))}var xi={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ki,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Ne:t;xt.searchPseudoElements&&ki(n)}}},Ci=!1,Si=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return e.flipX=!0,e;if(i&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(i){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ei={mixout:function(){return{parse:{transform:function(e){return Si(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Si(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,i=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:be({},c.outer),children:[{tag:"g",attributes:be({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:be(be({},t.icon.attributes),c.path)}]}]}}}},Ti={x:0,y:0,width:"100%",height:"100%"};function Ai(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Pi={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),i=n?yn(n.split(" ").map((function(e){return e.trim()}))):gn();return i.prefix||(i.prefix=mn()),e.mask=i,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,i=e.attributes,r=e.main,o=e.mask,a=e.maskId,s=e.transform,l=r.width,c=r.icon,d=o.width,u=o.icon,h=function(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:s,containerWidth:d,iconWidth:l}),p={tag:"rect",attributes:be(be({},Ti),{},{fill:"white"})},f=c.children?{children:c.children.map(Ai)}:{},m={tag:"g",attributes:be({},h.inner),children:[Ai(be({tag:c.tag,attributes:be(be({},c.attributes),h.path)},f))]},g={tag:"g",attributes:be({},h.outer),children:[m]},b="mask-".concat(a||At()),v="clip-".concat(a||At()),y={tag:"mask",attributes:be(be({},Ti),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(t=u,"g"===t.tag?t.children:[t])},y]};return n.push(_,{tag:"rect",attributes:be({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(b,")")},Ti)}),{children:n,attributes:i}}}},Mi={provides:function(e){var t=!1;qe.matchMedia&&(t=qe.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:be(be({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=be(be({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:be(be({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:be(be({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:be(be({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:be(be({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:be(be({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:be(be({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:be(be({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},Ii=[Rt,pi,fi,mi,gi,xi,{mixout:function(){return{dom:{unwatch:function(){ti(),Ci=!0}}}},hooks:function(){return{bootstrap:function(){ri(Sn("mutationObserverCallbacks",{}))},noAuto:function(){ii&&ii.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Ci?ni():ri(Sn("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Ei,Pi,Mi,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),i=null!==n&&(""===n||n);return e.symbol=i,e}}}}];!function(e,t){var n=t.mixoutsTo;wn=e,kn={},Object.keys(xn).forEach((function(e){-1===Cn.indexOf(e)&&delete xn[e]})),wn.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(n[e]=t[e]),"object"===ve(t[e])&&Object.keys(t[e]).forEach((function(i){n[e]||(n[e]={}),n[e][i]=t[e][i]}))})),e.hooks){var i=e.hooks();Object.keys(i).forEach((function(e){kn[e]||(kn[e]=[]),kn[e].push(i[e])}))}e.provides&&e.provides(xn)}))}(Ii,{mixoutsTo:qn});var qi=qn.library,Ni=qn.findIconDefinition,Di=qn.icon,Oi={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},Li={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},$i={prefix:"fas",iconName:"circle-chevron-down",icon:[512,512,["chevron-circle-down"],"f13a","M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z"]},Ri={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},zi={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},ji={prefix:"fas",iconName:"circle-chevron-up",icon:[512,512,["chevron-circle-up"],"f139","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"]},Bi={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"]},Hi={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM231 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L376 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-182.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L119 273c-9.4-9.4-9.4-24.6 0-33.9L231 127z"]},Ui={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM281 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L136 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l182.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L393 239c9.4 9.4 9.4 24.6 0 33.9L281 385z"]},Fi={prefix:"fas",iconName:"circle-pause",icon:[512,512,[62092,"pause-circle"],"f28b","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},Vi={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},Gi={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},Yi={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Wi={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Ji={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},Ki={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},Xi={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Zi={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},Qi={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},er={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},tr={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},nr={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]};const ir=new Map;function rr(t,n){e.Check.typeOf.string("name",t),e.Check.typeOf.object("faDefinition",n),e.Check.typeOf.string("faDefinition.prefix",n.prefix),e.Check.typeOf.string("faDefiniton.iconName",n.iconName),qi.add(n);!function(t,n){if(e.Check.typeOf.string("name",t),e.Check.typeOf.object("node",n),!(n instanceof Node))throw new e.DeveloperError("node must be an instance of Node");if(ir.has(t))throw new e.DeveloperError(`Icon name has already been registered, "${t}"`);ir.set(t,n)}(t,Di({prefix:n.prefix,iconName:n.iconName}).node[0])}const or=new Set;function ar(t){if(!e.defined(t)||""===t)return;const n=ir.get(t);if(e.defined(n))return n.cloneNode(!0);or.has(t)||(or.add(t),console.warn(`Missing icon for name="${t}"`))}const sr={backward:{prefix:"fas",iconName:"backward",icon:[512,512,[9194],"f04a","M459.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4L288 214.3V256v41.7L459.5 440.6zM256 352V256 128 96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160C4.2 237.5 0 246.5 0 256s4.2 18.5 11.5 24.6l192 160c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V352z"]},"caret-right":{prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},clock:{prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},"ellipsis-v":Ki,fillDrip:{prefix:"fas",iconName:"fill-drip",icon:[576,512,[],"f576","M41.4 9.4C53.9-3.1 74.1-3.1 86.6 9.4L168 90.7l53.1-53.1c28.1-28.1 73.7-28.1 101.8 0L474.3 189.1c28.1 28.1 28.1 73.7 0 101.8L283.9 481.4c-37.5 37.5-98.3 37.5-135.8 0L30.6 363.9c-37.5-37.5-37.5-98.3 0-135.8L122.7 136 41.4 54.6c-12.5-12.5-12.5-32.8 0-45.3zm176 221.3L168 181.3 75.9 273.4c-4.2 4.2-7 9.3-8.4 14.6H386.7l42.3-42.3c3.1-3.1 3.1-8.2 0-11.3L277.7 82.9c-3.1-3.1-8.2-3.1-11.3 0L213.3 136l49.4 49.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0zM512 512c-35.3 0-64-28.7-64-64c0-25.2 32.6-79.6 51.2-108.7c6-9.4 19.5-9.4 25.5 0C543.4 368.4 576 422.8 576 448c0 35.3-28.7 64-64 64z"]},forward:{prefix:"fas",iconName:"forward",icon:[512,512,[9193],"f04e","M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4L224 214.3V256v41.7L52.5 440.6zM256 352V256 128 96c0-12.4 7.2-23.7 18.4-29s24.5-3.6 34.1 4.4l192 160c7.3 6.1 11.5 15.1 11.5 24.6s-4.2 18.5-11.5 24.6l-192 160c-9.5 7.9-22.8 9.7-34.1 4.4s-18.4-16.6-18.4-29V352z"]},play:Xi,plus:Zi,pause:Bi,palette:{prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3H344c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},sliders:Ji,swatches:{prefix:"fas",iconName:"swatchbook",icon:[512,512,[],"f5c3","M0 32C0 14.3 14.3 0 32 0H160c17.7 0 32 14.3 32 32V416c0 53-43 96-96 96s-96-43-96-96V32zM223.6 425.9c.3-3.3 .4-6.6 .4-9.9V154l75.4-75.4c12.5-12.5 32.8-12.5 45.3 0l90.5 90.5c12.5 12.5 12.5 32.8 0 45.3L223.6 425.9zM182.8 512l192-192H480c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32H182.8zM128 64H64v64h64V64zM64 192v64h64V192H64zM96 440a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},trash:{prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},zoomIn:Zi,zoomOut:{prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]}};for(const[e,t]of Object.entries(sr))rr(e,t);window.customElements.define("cesium-icon",class extends pe{static get styles(){return[me,p`
        :host {
          display: inline-block;
          width: 1rem;
          vertical-align: middle;
        }

        /* div uses setup to maintain 1:1 aspect ratio using pseudo element padding trick
               See https://spin.atomicobject.com/2015/07/14/css-responsive-square/  */
        div {
          position: relative;
          width: 100%;
        }
        div:after {
          content: "";
          display: block;
          padding-bottom: 100%;
        }

        div > * {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          max-height: 100%;
        }
      `]}static get properties(){return{name:{type:String},alternateText:{type:String,attribute:"alt"}}}constructor(){super(),this.name="",this.alternateText=""}render(){if(!e.defined(this.name)||""===this.name)return"";const t=ar(this.name);if(!e.defined(t))throw new e.DeveloperError(`No icon found for "${this.name}"`);const n=t.nodeName.toUpperCase();return"IMG"===n?(t.setAttribute("alt",this.alternateText),G`<div>${t}</div>`):("SVG"===n&&t.setAttribute("focusable","false"),G`<div title="${this.alternateText}" aria-hidden="true">
        ${t}
      </div>
      <span class="visually-hidden">${this.alternateText}</span>`)}});const lr=new e.Color;function cr(e,t){return Object.keys(t).reduce(((e,n)=>(e.setAttribute(n,t[n]),e)),document.createElementNS("http://www.w3.org/2000/svg",e))}function dr(e=20,t=[],n=0,i=360){return t.push({"stop-color":`hsl(${n}, 100%, 50%)`,offset:(n/i).toFixed(2)}),n>=i?t:dr(e,t,n+i/e)}function ur(e,t){const n="sliderGradient",i=cr("linearGradient",{id:n});dr().forEach((e=>i.appendChild(cr("stop",e)))),t.appendChild(i),e.setAttribute("fill",`url(#${n})`)}function hr(t){const n=e.Color.floatToByte(t.red),i=e.Color.floatToByte(t.green),r=e.Color.floatToByte(t.blue),o=Math.min(n,i,r),a=Math.max(n,i,r),s=a-o,l=0===a?0:s/a;let c;switch(a){case o:c=0;break;case n:c=i-r+s*(i<r?6:0),c/=6*s;break;case i:c=r-n+2*s,c/=6*s;break;case r:c=n-i+4*s,c/=6*s}return{h:360*c,s:100*l,b:a/255*100}}function pr(e,t){const n=e.getBoundingClientRect(),{width:i,height:r}=n;return{width:i,height:r,x:t.clientX-n.left,y:t.clientY-n.top}}const fr=o.scale(["red","orange","green","blue","purple"]).mode("lch").colors(8),mr=[...fr,...fr.map((e=>o(e).brighten(2.5).hex())),...fr.map((e=>o(e).brighten(1.5).hex())),...fr.map((e=>o(e).darken(1).hex())),...fr.map((e=>o(e).darken(2.5).hex())),...o.scale("Greys").colors(8)];window.customElements.define("cesium-color-picker",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
        }
        svg {
          display: block;
        }
        .pickerGradient {
          pointer-events: none;
        }
        svg rect {
          cursor: pointer;
        }
        section,
        label {
          display: flex;
        }
        section {
          justify-content: space-between;
          width: 200px;
          margin-top: 10px;
        }
        label,
        input {
          border: 1px solid #ddd;
        }
        label * {
          font: 12px -apple-system, BlinkMacSystemFont, helvetica, sans-serif;
        }
        input {
          margin: 0;
          border-width: 0 0 0 1px;
          width: 175px;
          padding: 2px 0 2px 4px;
        }
        [type="number"] {
          width: 37px;
        }

        #dropdown {
          padding: 10px;
          border-radius: var(--widgets-border-radius);
        }

        #swatch {
          border-radius: 50%;
          padding: 5px;
          border: 1px solid var(--widgets-border-color);
          outline: 0;
          cursor: pointer;
          z-index: 1;
        }
        :host([readonly]) #swatch {
          padding: 11px;
          cursor: default;
        }
        #swatch > svg {
          color: var(--widgets-text-color);
          width: 12px;
          height: 12px;
          pointer-events: none;
          stroke: white;
          stroke-width: 20;
        }

        #swatch.light > svg {
          color: #fff;
        }

        #swatch.dark > svg {
          color: #000;
        }

        :host(:not[readonly]) #swatch:active,
        :host(:not[readonly]) #swatch:focus,
        :host(:not[readonly]) #swatch:hover {
          border-color: var(--widgets-active-color);
        }

        cesium-tab {
          width: 50%;
        }

        #swatches {
          width: 200px;
          padding: 5px 0;
        }

        .swatch {
          display: inline-block;
          height: 20px;
          width: 20px;
          margin: 1.5px;
          border: 1px solid var(--widgets-border-color);
          border-radius: 50%;
          cursor: pointer;
        }

        .swatch:active,
        .swatch:focus,
        .swatch:hover {
          border-color: var(--widgets-lighter-color);
        }
      `]}static get properties(){return{value:{type:Object},direction:{type:String},hideAlpha:{type:Boolean,reflect:!0},readonly:{type:Boolean,reflect:!0}}}constructor(){super(),this.readonly=!1,this.hideAlpha=!1,this.hue=0,this.saturation=0,this.brightness=0,this.alpha=1,this.pickers={},this._value=new e.Color,this._active=!1,this._dragTarget=void 0,this._swatchActive=!0,this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._closeDropdown=this._closeDropdown.bind(this),this.direction="down",this.fillDripIcon=ar("fillDrip")}get value(){return this._value}set value(t){e.defined(t)||(t=e.Color.WHITE),this._value=e.Color.clone(t,this._value);const n=hr(this._value);this.hue=n.h,this.saturation=n.s,this.brightness=n.b,this.alpha=this.hideAlpha?1:this._value.alpha,this._update()}firstUpdated(){const e=hr(this._value);this.hue=e.h,this.saturation=e.s,this.brightness=e.b;const t=this.shadowRoot;this.pickers.hue={palette:t.getElementById("slider"),handler:t.getElementById("sliderHandler")},this.pickers.color={palette:t.getElementById("picker"),handler:t.getElementById("pickerHandler")},this.hideAlpha||(this.pickers.alpha={palette:t.getElementById("alphaSlider"),handler:t.getElementById("alphaHandler"),gradients:t.querySelectorAll("#alphaHue > stop")}),this.pickers.button=t.getElementById("swatch"),ur(this.pickers.hue.palette,t.querySelector("defs")),this.pickers.button.style.backgroundColor=this._value.toCssColorString(),this._update(),t.getElementById("dropdown").addEventListener("pointerdown",this._onPointerDown,!0)}_onPointerDown(e){if(!this._swatchActive){if(e.target===this.pickers.hue.palette)this.pickHue(e),this._dragTarget="hue";else if(e.target===this.pickers.color.palette)this.pickColor(e),this._dragTarget="color";else{if(this.hideAlpha||!e.target.classList.contains("alphaGradient"))return;this.pickAlpha(e),this._dragTarget="alpha"}document.addEventListener("pointermove",this._onPointerMove,!0),document.addEventListener("pointerup",this._onPointerUp,!0),e.preventDefault(),e.stopPropagation()}}_onPointerMove(e){"hue"===this._dragTarget?this.pickHue(e):"color"===this._dragTarget?this.pickColor(e):this.hideAlpha||"alpha"!==this._dragTarget||this.pickAlpha(e),e.preventDefault(),e.stopPropagation()}_onPointerUp(){document.removeEventListener("pointermove",this._onPointerMove,!0),document.removeEventListener("pointerup",this._onPointerUp,!0)}_closeDropdown(e){-1===e.composedPath().indexOf(this)&&this._toggle()}_update(){if(!e.defined(this.pickers.color))return;this.pickers.color.palette.setAttribute("fill",`hsl(${this.hue}, 100%, 50%)`);let t=this.pickers.hue.palette.getBoundingClientRect();this.pickers.hue.handler.setAttribute("cx",Math.min(Math.max(this.hue/360*t.width,5),t.width-5)),t=this.pickers.color.palette.getBoundingClientRect(),this.pickers.color.handler.setAttribute("cx",this.saturation/100*t.width),this.pickers.color.handler.setAttribute("cy",(1-this.brightness/100)*t.height),this.hideAlpha||(t=this.pickers.alpha.palette.getBoundingClientRect(),this.pickers.alpha.handler.setAttribute("cx",Math.min(Math.max(this.alpha*t.width,5),t.width-5)),this.pickers.alpha.gradients.forEach((e=>{e.setAttribute("stop-color",this._value.withAlpha(1,lr).toCssColorString())}))),this._value=function(e,t,n,i,r){e/=360;const o=Math.floor(6*e),a=6*e-o,s=(n/=100)*(1-(t/=100)),l=n*(1-a*t),c=n*(1-(1-a)*t),d=o%6;let u;return u=0===d?[n,c,s]:1===d?[l,n,s]:2===d?[s,n,c]:3===d?[s,l,n]:4===d?[c,s,n]:[n,s,l],r.red=u[0],r.green=u[1],r.blue=u[2],r.alpha=i,r}(this.hue,this.saturation,this.brightness,this.alpha,this._value),this.pickers.button.style.backgroundColor=this._value.toCssColorString(),this.requestUpdate()}pickColor(e){const{x:t,y:n,width:i,height:r}=pr(this.pickers.color.palette,e);this.saturation=function(e,t){return e>t?100:e<0?0:e/t*100}(t,i),this.brightness=function(e,t){return e>t?0:e<0?100:100*(1-e/t)}(n,r),this._update(),this.dispatchEvent(new CustomEvent("change",{detail:{value:this._value}}))}pickHue(e){const{x:t,width:n}=pr(this.pickers.hue.palette,e);this.hue=function(e,t){return e>t?360:e<0?0:e/t*360}(t,n),this._update(),e.preventDefault(),this.dispatchEvent(new CustomEvent("change",{detail:{value:this._value}}))}pickAlpha(e){if(this.hideAlpha)return;const{x:t,width:n}=pr(this.pickers.alpha.palette,e);this.alpha=function(e,t){return e>t?1:e<0?0:e/t}(t,n),this._update(),e.preventDefault(),this.dispatchEvent(new CustomEvent("change",{detail:{value:this._value}}))}_toggle(){this.readonly||(this._active=!this._active,this.requestUpdate(),this._active?(this.pickers.button.classList.add("active"),document.addEventListener("pointerdown",this._closeDropdown),window.addEventListener("wheel",this._closeDropdown),this._update()):(this.pickers.button.classList.remove("active"),document.removeEventListener("pointerdown",this._closeDropdown),window.removeEventListener("wheel",this._closeDropdown)))}_renderPickerPanel(){const e=this.hideAlpha?175:200;return Y`
            <svg width="200" height="${e}">
                <defs>
                    <linearGradient id="pickerHue">
                        <stop offset="0" stop-color="#fff" stop-opacity="1"/>
                        <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="pickerBrightness" x2="0" y2="1">
                        <stop offset="0" stop-color="#000" stop-opacity="0"/>
                        <stop offset="1" stop-color="#000" stop-opacity="1"/>
                    </linearGradient>
                    <linearGradient id="alphaHue">
                        <stop offset="0" stop-color="#F00" stop-opacity="0"/>
                        <stop offset="1" stop-color="#F00" stop-opacity="1"/>
                    </linearGradient>
                    <pattern id="checks" height="1" width=".05">
                        <rect style="fill: white" width="10" height="10"></rect>
                        <rect style="fill: #BFBFBF" width="5" height="5"></rect>
                        <rect style="fill: #BFBFBF" width="5" height="5" x="5" y="5"></rect>
                    </pattern>
                </defs>
                <rect id="picker" width="200" height="150" fill="#FF0000" rx="3" ry="3"/>
                <rect class="pickerGradient" width="200" height="150" fill="url(#pickerHue)" rx="2" ry="2"/>
                <rect class="pickerGradient" width="200" height="150" fill="url(#pickerBrightness)" rx="2" ry="2"/>

                <circle id="pickerHandler" r="3" fill="none" stroke="#fff" stroke-width="2"/>

                <rect id="slider" width="200" height="10" y="160" rx="5" ry="5"/>
                <circle id="sliderHandler" r="3" cx="5" cy="165" fill="none" stroke="#fff" stroke-width="2"/>

                ${this.hideAlpha?Y``:Y`
                <rect id="alphaSlider" width="200" height="10" y="175" rx="5" ry="5"/>
                <rect class="alphaGradient" width="200" height="10" fill="url(#checks)" y="175"  rx="5" ry="5"/>
                <rect class="alphaGradient" width="200" height="10" fill="url(#alphaHue)" y="175" rx="5" ry="5"/>
                <circle id="alphaHandler" r="3" cx="5" cy="180" fill="none" stroke="#fff" stroke-width="2"/>`}
            </svg>
        `}_setCssColorString(t){let n=e.Color.fromCssColorString(t,this._value);this.hideAlpha||(n=n.withAlpha(this.alpha,this._value)),this.value=n,this.dispatchEvent(new CustomEvent("change",{detail:{value:this._value}}))}_renderSwatch(e){return G`<div
      class="swatch"
      style=${`background: ${e}`}
      @click=${()=>this._setCssColorString(e)}
    ></div>`}_renderSwatchesPanel(){return G`
      <div id="swatches">
        ${mr.map((e=>this._renderSwatch(e)))}
      </div>
    `}render(){const e=this._value,t=.2126*e.red+.7152*e.green+.0722*e.blue<.7;return G`
      <div id="swatch" class="${t?"light":"dark"}" @click=${this._toggle}>
        ${this.readonly?"":G`${this.fillDripIcon}`}
      </div>
      <cesium-popover
        anchor="swatch"
        direction=${this.direction}
        ?open=${this._active}
      >
        <div id="dropdown">
          <cesium-tabs @change=${this._onTabChange}>
            <div slot="tabs">
              <cesium-tab title="Swatches"
                ><cesium-icon name="swatches" alt="Swatches"></cesium-icon
              ></cesium-tab>
              <cesium-tab title="HSL"
                ><cesium-icon
                  name="sliders"
                  alt="Hue Saturation Luminance"
                ></cesium-icon
              ></cesium-tab>
            </div>
            <div slot="tab-panels">
              <cesium-tab-panel>
                ${this._renderSwatchesPanel()}
              </cesium-tab-panel>
              <cesium-tab-panel>
                ${this._renderPickerPanel()}
              </cesium-tab-panel>
            </div>
          </cesium-tabs>
        </div>
      </cesium-popover>
    `}_onTabChange(e){this._swatchActive=0===e.detail.selected,this._update()}});const gr=e=>t=>class extends t{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=e.subscribe((()=>this.stateChanged(e.getState()))),this.stateChanged(e.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(e){}},br={AWAITING_FILES:"AWAITING_FILES",NOT_STARTED:"NOT_STARTED",QUEUED:"QUEUED",IN_PROGRESS:"IN_PROGRESS",COMPLETE:"COMPLETE",ERROR:"ERROR",DATA_ERROR:"DATA_ERROR",isValid:function(e){switch(e){case br.AWAITING_FILES:case br.NOT_STARTED:case br.QUEUED:case br.IN_PROGRESS:case br.COMPLETE:case br.ERROR:case br.DATA_ERROR:return!0}return!1},isError:function(e){return e===br.ERROR||e===br.DATA_ERROR},isPending:function(e){return e===br.AWAITING_FILES||e===br.NOT_STARTED||e===br.QUEUED||e===br.IN_PROGRESS}};var vr=Object.freeze(br);const yr={IMAGERY:"IMAGERY",TERRAIN:"TERRAIN","3DTILES":"3DTILES",GLTF:"GLTF",CZML:"CZML",KML:"KML",GEOJSON:"GEOJSON",isValid:function(e){switch(e){case yr.IMAGERY:case yr.TERRAIN:case yr["3DTILES"]:case yr.GLTF:case yr.CZML:case yr.KML:case yr.GEOJSON:return!0}return!1},toString:function(e){return e===yr.IMAGERY?"Imagery":e===yr.TERRAIN?"Terrain":e===yr.GLTF?"glTF Model":e===yr["3DTILES"]?"3D Tiles":e===yr.CZML?"CZML":e===yr.KML?"KML":e===yr.GEOJSON?"GeoJSON":""},getTypes:function(){return Object.keys(yr).filter((e=>"string"==typeof yr[e])).sort()}};var _r=Object.freeze(yr);const{Check:wr,defaultValue:kr}=e,xr=1e3,Cr=100/30.48,Sr={METRIC:"METRIC",US_CUSTOMARY:"US_CUSTOMARY"};function Er(e,t){return t=kr(t,1),e*Math.pow(.001,t)}function Tr(e,t){return t=kr(t,1),e*Math.pow(100,t)}function Ar(e,t){return t=kr(t,1),e*Math.pow(12,t)}function Pr(e,t){return t=kr(t,1),e*Math.pow(.0001893939393939394,t)}Sr.toString=function(e){return e===Sr.METRIC?"Metric":e===Sr.US_CUSTOMARY?"US Customary":""},Sr.distanceToString=function(e,t,n){let i;return n=kr(n,3),t===Sr.METRIC?(i=Math.abs(e),i<1?`${Tr(e).toFixed(n)}cm`:i>=xr?`${Er(e).toFixed(n)}km`:`${e.toFixed(n)}m`):(r=e,o=kr(o,1),e=r*Math.pow(Cr,o),i=Math.abs(e),i<1?`${Ar(e).toFixed(n)}in`:i>=5280?`${Pr(e).toFixed(n)}mi`:`${e.toFixed(n)}ft`);var r,o},Sr.areaToString=function(e,t,n){n=kr(n,3);const i=Math.abs(e);return t===Sr.METRIC?i<.1?`${Tr(e,2).toFixed(n)}sq cm`:i>=1e6?`${Er(e,2).toFixed(n)}sq km`:`${e.toFixed(n)}sq m`:i<1?`${Ar(e,2).toFixed(n)}sq in`:i>=278784?`${Pr(e,2).toFixed(n)}sq mi`:`${e.toFixed(n)}sq ft`};var Mr=Object.freeze(Sr);const Ir={MAP:"MAP",FULLSCREEN:"FULLSCREEN",toString:function(e){if(e===Ir.MAP)return"Map";if(e===Ir.FULLSCREEN)return"Fullscreen";throw new Error("Unrecognized slide type")}};var qr=Object.freeze(Ir);const Nr={CATEGORIZED:"CATEGORIZED",GRADUATED:"GRADUATED",toString:function(e){if(e===Nr.CATEGORIZED)return"Categorized";if(e===Nr.GRADUATED)return"Graduated";throw new Error}};var Dr=Object.freeze(Nr);const Or={NUMERIC:"NUMERIC",STRING:"STRING",toString:function(e){if(e===Or.NUMERIC)return"Numeric";if(e===Or.STRING)return"String";throw new Error}};var Lr={AssetStatus:vr,AssetType:_r,DistanceUnitSystems:Mr,SlideType:qr,StyleType:Dr,StyleablePropertyType:Object.freeze(Or)};const $r="SET_MODAL",Rr="ADD_ASSET",zr="UPDATE_ASSET",jr="DELETE_ASSET",Br="UPDATE_STORY_METADATA",Hr="UPDATE_ASSET_UPLOAD_PROGRESS",Ur="SET_STORY",Fr="SET_SHARED",Vr="ADD_SLIDE",Gr="UPDATE_SLIDE",Yr="DELETE_SLIDE",Wr="UPDATE_ASSET_ORDER",Jr="UPDATE_SLIDES_ORDER",Kr="SET_DATE_MODIFIED",Xr="SHOW_ERROR",Zr="SHOW_INFO",Qr="CLOSE_NOTIFICATION",eo="SET_ACTIVE_SLIDE_INDEX",to="UPDATE_SLIDE_ASSET_SETTINGS",no="SET_TRANSFORM_EDITOR_ASSET_ID",io="SET_TILESET_STYLE_ASSET_ID",ro="ADD_STYLE",oo="UPDATE_STYLE",ao="DELETE_STYLE",so=e=>t=>{t({type:eo,index:e})},lo=e=>t=>{t({type:$r,modalType:e})},co=(e,t)=>n=>{n({type:Xr,id:e,message:t})},uo=e=>t=>{t({type:no,assetId:e})},ho=e=>t=>{t({type:io,assetId:e})},po=(e,t)=>n=>{n({type:Hr,assetId:e,percentComplete:t})};var fo={},mo={},go={},bo={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});var yo,_o,wo,ko,xo,Co;vo.NewLine="\n",function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"}(yo||(yo={})),vo.ListType=yo,function(e){e.Sub="sub",e.Super="super"}(_o||(_o={})),vo.ScriptType=_o,function(e){e.Rtl="rtl"}(wo||(wo={})),vo.DirectionType=wo,function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(ko||(ko={})),vo.AlignType=ko,function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"}(xo||(xo={})),vo.DataType=xo,function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"}(Co||(Co={})),vo.GroupType=Co;var So={};Object.defineProperty(So,"__esModule",{value:!0});var Eo=function(e,t){this.type=e,this.value=t};So.InsertDataQuill=Eo;var To=function(e,t){this.type=e,this.value=t};So.InsertDataCustom=To;var Ao={},Po={get exports(){return Ao},set exports(e){Ao=e}};!function(e,t){var n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",m="[object Map]",g="[object Number]",b="[object Null]",v="[object Object]",y="[object Promise]",_="[object Proxy]",w="[object RegExp]",k="[object Set]",x="[object String]",C="[object Symbol]",S="[object Undefined]",E="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",P=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[s]=I[l]=I[T]=I[d]=I[A]=I[u]=I[h]=I[p]=I[m]=I[g]=I[v]=I[w]=I[k]=I[x]=I[E]=!1;var q="object"==typeof r&&r&&r.Object===Object&&r,N="object"==typeof self&&self&&self.Object===Object&&self,D=q||N||Function("return this")(),O=t&&!t.nodeType&&t,L=O&&e&&!e.nodeType&&e,$=L&&L.exports===O,R=$&&q.process,z=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),j=z&&z.isTypedArray;function B(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var F,V,G,Y=Array.prototype,W=Function.prototype,J=Object.prototype,K=D["__core-js_shared__"],X=W.toString,Z=J.hasOwnProperty,Q=(F=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",ee=J.toString,te=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=$?D.Buffer:void 0,ie=D.Symbol,re=D.Uint8Array,oe=J.propertyIsEnumerable,ae=Y.splice,se=ie?ie.toStringTag:void 0,le=Object.getOwnPropertySymbols,ce=ne?ne.isBuffer:void 0,de=(V=Object.keys,G=Object,function(e){return V(G(e))}),ue=ze(D,"DataView"),he=ze(D,"Map"),pe=ze(D,"Promise"),fe=ze(D,"Set"),me=ze(D,"WeakMap"),ge=ze(Object,"create"),be=Ue(ue),ve=Ue(he),ye=Ue(pe),_e=Ue(fe),we=Ue(me),ke=ie?ie.prototype:void 0,xe=ke?ke.valueOf:void 0;function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ee;++t<n;)this.add(e[t])}function Ae(e){var t=this.__data__=new Se(e);this.size=t.size}function Pe(e,t){var n=Ge(e),i=!n&&Ve(e),r=!n&&!i&&Ye(e),o=!n&&!i&&!r&&Ze(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!Z.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||He(c,l))||s.push(c);return s}function Me(e,t){for(var n=e.length;n--;)if(Fe(e[n][0],t))return n;return-1}function Ie(e){return null==e?void 0===e?S:b:se&&se in Object(e)?function(e){var t=Z.call(e,se),n=e[se];try{e[se]=void 0;var i=!0}catch(e){}var r=ee.call(e);i&&(t?e[se]=n:delete e[se]);return r}(e):function(e){return ee.call(e)}(e)}function qe(e){return Xe(e)&&Ie(e)==s}function Ne(e,t,n,r,a){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!=e&&t!=t:function(e,t,n,r,a,c){var p=Ge(e),f=Ge(t),b=p?l:Be(e),y=f?l:Be(t),_=(b=b==s?v:b)==v,S=(y=y==s?v:y)==v,E=b==y;if(E&&Ye(e)){if(!Ye(t))return!1;p=!0,_=!1}if(E&&!_)return c||(c=new Ae),p||Ze(e)?Le(e,t,n,r,a,c):function(e,t,n,r,a,s,l){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case d:case u:case g:return Fe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case x:return e==t+"";case m:var c=H;case k:var p=r&i;if(c||(c=U),e.size!=t.size&&!p)return!1;var f=l.get(e);if(f)return f==t;r|=o,l.set(e,t);var b=Le(c(e),c(t),r,a,s,l);return l.delete(e),b;case C:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,b,n,r,a,c);if(!(n&i)){var P=_&&Z.call(e,"__wrapped__"),M=S&&Z.call(t,"__wrapped__");if(P||M){var I=P?e.value():e,q=M?t.value():t;return c||(c=new Ae),a(I,q,n,r,c)}}if(!E)return!1;return c||(c=new Ae),function(e,t,n,r,o,a){var s=n&i,l=$e(e),c=l.length,d=$e(t),u=d.length;if(c!=u&&!s)return!1;var h=c;for(;h--;){var p=l[h];if(!(s?p in t:Z.call(t,p)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++h<c;){var b=e[p=l[h]],v=t[p];if(r)var y=s?r(v,b,p,t,e,a):r(b,v,p,e,t,a);if(!(void 0===y?b===v||o(b,v,n,r,a):y)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,a,c)}(e,t,n,r,Ne,a))}function De(e){return!(!Ke(e)||function(e){return!!Q&&Q in e}(e))&&(We(e)?te:P).test(Ue(e))}function Oe(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||J;return e===n}(e))return de(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Le(e,t,n,r,a,s){var l=n&i,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var h=-1,p=!0,f=n&o?new Te:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var m=e[h],g=t[h];if(r)var b=l?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(void 0!==b){if(b)continue;p=!1;break}if(f){if(!B(t,(function(e,t){if(i=t,!f.has(i)&&(m===e||a(m,e,n,r,s)))return f.push(t);var i}))){p=!1;break}}else if(m!==g&&!a(m,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function $e(e){return function(e,t,n){var i=t(e);return Ge(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Qe,je)}function Re(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ce.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ce.prototype.get=function(e){var t=this.__data__;if(ge){var i=t[e];return i===n?void 0:i}return Z.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Ce.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ge&&void 0===t?n:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=Me(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,!0)},Se.prototype.get=function(e){var t=this.__data__,n=Me(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return Me(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,i=Me(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(he||Se),string:new Ce}},Ee.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},Ee.prototype.get=function(e){return Re(this,e).get(e)},Ee.prototype.has=function(e){return Re(this,e).has(e)},Ee.prototype.set=function(e,t){var n=Re(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,n),this},Te.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Se,this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var i=n.__data__;if(!he||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ee(i)}return n.set(e,t),this.size=n.size,this};var je=le?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(le(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Be=Ie;function He(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(ue&&Be(new ue(new ArrayBuffer(1)))!=A||he&&Be(new he)!=m||pe&&Be(pe.resolve())!=y||fe&&Be(new fe)!=k||me&&Be(new me)!=E)&&(Be=function(e){var t=Ie(e),n=t==v?e.constructor:void 0,i=n?Ue(n):"";if(i)switch(i){case be:return A;case ve:return m;case ye:return y;case _e:return k;case we:return E}return t});var Ve=qe(function(){return arguments}())?qe:function(e){return Xe(e)&&Z.call(e,"callee")&&!oe.call(e,"callee")},Ge=Array.isArray;var Ye=ce||function(){return!1};function We(e){if(!Ke(e))return!1;var t=Ie(e);return t==p||t==f||t==c||t==_}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return null!=e&&"object"==typeof e}var Ze=j?function(e){return function(t){return e(t)}}(j):function(e){return Xe(e)&&Je(e.length)&&!!I[Ie(e)]};function Qe(e){return null!=(t=e)&&Je(t.length)&&!We(t)?Pe(e):Oe(e);var t}e.exports=function(e,t){return Ne(e,t)}}(Po,Ao);var Mo=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bo,"__esModule",{value:!0});var Io=vo,qo=So,No=Mo(Ao),Do=function(){function e(e,t){"string"==typeof e&&(e=new qo.InsertDataQuill(Io.DataType.Text,e+"")),this.insert=e,this.attributes=t||{}}return e.createNewLineOp=function(){return new e(Io.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},e.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},e.prototype.hasSameAttr=function(e){return No.default(this.attributes,e.attributes)},e.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===Io.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===Io.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===Io.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===Io.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===Io.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==Io.ListType.Unchecked||this.attributes.list===Io.ListType.Checked},e.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},e.prototype.isText=function(){return this.insert.type===Io.DataType.Text},e.prototype.isImage=function(){return this.insert.type===Io.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===Io.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===Io.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof qo.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();bo.DeltaInsertOp=Do;var Oo={},Lo={},$o={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.sanitize=function(e){var t=e;return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t};var zo,jo={};function Bo(e){return Ho(zo.Html).reduce(Fo,e)}function Ho(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===zo.Html?t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("(")&&-1===t.indexOf(")")})):t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("/")}))}function Uo(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function Fo(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}Object.defineProperty(jo,"__esModule",{value:!0}),function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"}(zo||(zo={})),jo.makeStartTag=function(e,t){if(void 0===t&&(t=void 0),!e)return"";var n="";t&&(n=[].concat(t).map((function(e){return e.key+(e.value?'="'+e.value+'"':"")})).join(" "));var i=">";return"img"!==e&&"br"!==e||(i="/>"),n?"<"+e+" "+n+i:"<"+e+i},jo.makeEndTag=function(e){return void 0===e&&(e=""),e&&"</"+e+">"||""},jo.decodeHtml=Bo,jo.encodeHtml=function(e,t){return void 0===t&&(t=!0),t&&(e=Bo(e)),Ho(zo.Html).reduce(Uo,e)},jo.encodeLink=function(e){var t=Ho(zo.Url),n=t.reduce(Fo,e);return t.reduce(Uo,n)};var Vo=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty($o,"__esModule",{value:!0});var Go=Vo(Ro),Yo=jo,Wo=function(){function e(){}return e.sanitize=function(e,t){var n=function(){};t&&"function"==typeof t.urlSanitizer&&(n=t.urlSanitizer);var i=n(e);return"string"==typeof i?i:Yo.encodeLink(Go.sanitize(e))},e}();$o.OpLinkSanitizer=Wo,Object.defineProperty(Lo,"__esModule",{value:!0});var Jo=$o,Ko=function(){function e(){}return e.sanitize=function(t,n){var i={};return t&&"object"==typeof t?(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=Jo.OpLinkSanitizer.sanitize(t.avatar+"",n)),t["end-point"]&&(i["end-point"]=Jo.OpLinkSanitizer.sanitize(t["end-point"]+"",n)),t.slug&&(i.slug=t.slug+""),i):i},e.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},e}();Lo.MentionSanitizer=Ko;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.preferSecond=function(e){return 0===e.length?null:e.length>=2?e[1]:e[0]},Xo.flatten=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},Xo.find=function(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},Xo.groupConsecutiveElementsWhile=function(e,t){for(var n,i=[],r=0;r<e.length;r++)n=e[r],r>0&&t(n,e[r-1])?i[i.length-1].push(n):i.push([n]);return i.map((function(e){return 1===e.length?e[0]:e}))},Xo.sliceFromReverseWhile=function(e,t,n){for(var i={elements:[],sliceStartsAt:-1},r=t;r>=0&&n(e[r]);r--)i.sliceStartsAt=r,i.elements.unshift(e[r]);return i},Xo.intersperse=function(e,t){return e.reduce((function(n,i,r){return n.push(i),r<e.length-1&&n.push(t),n}),[])},Object.defineProperty(Oo,"__esModule",{value:!0});var Zo=vo,Qo=Lo,ea=Xo,ta=$o,na=function(){function e(){}return e.sanitize=function(t,n){var i={};if(!t||"object"!=typeof t)return i;var r=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],o=["background","color"],a=t.font,s=t.size,l=t.link,c=t.script,d=t.list,u=t.header,h=t.align,p=t.direction,f=t.indent,m=t.mentions,g=t.mention,b=t.width,v=t.target,y=t.rel,_=t["code-block"],w=r.concat(o,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(r.forEach((function(e){var n=t[e];n&&(i[e]=!!n)})),o.forEach((function(n){var r=t[n];r&&(e.IsValidHexColor(r+"")||e.IsValidColorLiteral(r+"")||e.IsValidRGBColor(r+""))&&(i[n]=r)})),a&&e.IsValidFontName(a+"")&&(i.font=a),s&&e.IsValidSize(s+"")&&(i.size=s),b&&e.IsValidWidth(b+"")&&(i.width=b),l&&(i.link=ta.OpLinkSanitizer.sanitize(l+"",n)),v&&e.isValidTarget(v)&&(i.target=v),y&&e.IsValidRel(y)&&(i.rel=y),_&&(e.IsValidLang(_)?i["code-block"]=_:i["code-block"]=!!_),c!==Zo.ScriptType.Sub&&Zo.ScriptType.Super!==c||(i.script=c),d!==Zo.ListType.Bullet&&d!==Zo.ListType.Ordered&&d!==Zo.ListType.Checked&&d!==Zo.ListType.Unchecked||(i.list=d),Number(u)&&(i.header=Math.min(Number(u),6)),ea.find([Zo.AlignType.Center,Zo.AlignType.Right,Zo.AlignType.Justify,Zo.AlignType.Left],(function(e){return e===h}))&&(i.align=h),p===Zo.DirectionType.Rtl&&(i.direction=p),f&&Number(f)&&(i.indent=Math.min(Number(f),30)),m&&g){var k=Qo.MentionSanitizer.sanitize(g,n);Object.keys(k).length>0&&(i.mentions=!!m,i.mention=g)}return Object.keys(t).reduce((function(e,n){return-1===w.indexOf(n)&&(e[n]=t[n]),e}),i)},e.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(e){return!!e.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},e.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(e){return"boolean"==typeof e||!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();Oo.OpAttributeSanitizer=na;var ia={},ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.tokenizeWithNewLines=function(e){var t="\n";if(e===t)return[e];var n=e.split(t);if(1===n.length)return n;var i=n.length-1;return n.reduce((function(e,n,r){return r!==i?""!==n?e=e.concat(n,t):e.push(t):""!==n&&e.push(n),e}),[])};var oa={};Object.defineProperty(oa,"__esModule",{value:!0}),oa.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),r=0;r<t.length;r++){var o=t[r];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i};var aa=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(ia,"__esModule",{value:!0});var sa=vo,la=aa(ra),ca=aa(oa),da=function(){function e(){}return e.denormalize=function(e){if(!e||"object"!=typeof e)return[];if("object"==typeof e.insert||e.insert===sa.NewLine)return[e];var t=la.tokenizeWithNewLines(e.insert+"");if(1===t.length)return[e];var n=ca.assign({},e,{insert:sa.NewLine});return t.map((function(t){return t===sa.NewLine?n:ca.assign({},e,{insert:t})}))},e}();ia.InsertOpDenormalizer=da,Object.defineProperty(go,"__esModule",{value:!0});var ua=bo,ha=vo,pa=So,fa=Oo,ma=ia,ga=$o,ba=function(){function e(){}return e.convert=function(t,n){if(!Array.isArray(t))return[];for(var i,r,o=[],a=0,s=[].concat.apply([],t.map(ma.InsertOpDenormalizer.denormalize));a<s.length;a++){var l=s[a];l.insert&&((i=e.convertInsertVal(l.insert,n))&&(r=fa.OpAttributeSanitizer.sanitize(l.attributes,n),o.push(new ua.DeltaInsertOp(i,r))))}return o},e.convertInsertVal=function(e,t){if("string"==typeof e)return new pa.InsertDataQuill(ha.DataType.Text,e);if(!e||"object"!=typeof e)return null;var n=Object.keys(e);return n.length?ha.DataType.Image in e?new pa.InsertDataQuill(ha.DataType.Image,ga.OpLinkSanitizer.sanitize(e[ha.DataType.Image]+"",t)):ha.DataType.Video in e?new pa.InsertDataQuill(ha.DataType.Video,ga.OpLinkSanitizer.sanitize(e[ha.DataType.Video]+"",t)):ha.DataType.Formula in e?new pa.InsertDataQuill(ha.DataType.Formula,e[ha.DataType.Formula]):new pa.InsertDataCustom(n[0],e[n[0]]):null},e}();go.InsertOpsConverter=ba;var va={};!function(e){var t=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(e,"__esModule",{value:!0});var n=jo,i=vo,o=t(oa),a=t(Xo),s=Oo,l={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(e){return l[e]||"font-family:"+e},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(e,t){var n=3*parseInt(e,10);return"padding-"+("rtl"===t.attributes.direction?"right":"left")+":"+n+"em"},direction:function(e,t){return"rtl"===e?"direction:rtl"+(t.attributes.align?"":"; text-align:inherit"):void 0}};var c=function(){function t(e,t){this.op=e,this.options=o.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},t)}return t.prototype.prefixClass=function(e){return this.options.classPrefix?this.options.classPrefix+"-"+e:e+""},t.prototype.getHtml=function(){var e=this.getHtmlParts();return e.openingTag+e.content+e.closingTag},t.prototype.getHtmlParts=function(){var e=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:i.NewLine};var t=this.getTags(),r=this.getTagAttributes();!t.length&&r.length&&t.push("span");for(var o=[],a=[],s=function(t){return"img"===t&&!!e.op.attributes.link},l=0,c=t;l<c.length;l++){var d=c[l];s(d)&&o.push(n.makeStartTag("a",this.getLinkAttrs())),o.push(n.makeStartTag(d,r)),a.push("img"===d?"":n.makeEndTag(d)),s(d)&&a.push(n.makeEndTag("a")),r=[]}return a.reverse(),{openingTag:o.join(""),content:this.getContent(),closingTag:a.join("")}},t.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var e=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&n.encodeHtml(e)||e},t.prototype.getCssClasses=function(){var e=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),(this.getCustomCssClasses()||[]).concat(t.filter((function(t){return!!e[t]})).filter((function(t){return"background"!==t||s.OpAttributeSanitizer.IsValidColorLiteral(e[t])})).map((function(t){return t+"-"+e[t]})).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},t.prototype.getCssStyles=function(){var t=this,n=this.op.attributes,i=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||i.push(["background","background-color"]),this.options.inlineStyles&&(i=i.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(i.filter((function(e){return!!n[e[0]]})).map((function(i){var r=i[0],o=n[r],s=t.options.inlineStyles&&t.options.inlineStyles[r]||e.DEFAULT_INLINE_STYLES[r];return"object"==typeof s?s[o]:"function"==typeof s?s(o,t.op):a.preferSecond(i)+":"+o}))).filter((function(e){return void 0!==e}))},t.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var e=this.makeAttr.bind(this),t=this.getCustomTagAttributes(),n=t?Object.keys(this.getCustomTagAttributes()).map((function(n){return e(n,t[n])})):[],i=this.getCssClasses(),r=i.length?n.concat([e("class",i.join(" "))]):n;if(this.op.isImage())return this.op.attributes.width&&(r=r.concat(e("width",this.op.attributes.width))),r.concat(e("src",this.op.insert.value));if(this.op.isACheckList())return r.concat(e("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return r;if(this.op.isVideo())return r.concat(e("frameborder","0"),e("allowfullscreen","true"),e("src",this.op.insert.value));if(this.op.isMentions()){var o=this.op.attributes.mention;return o.class&&(r=r.concat(e("class",o.class))),r=o["end-point"]&&o.slug?r.concat(e("href",o["end-point"]+"/"+o.slug)):r.concat(e("href","about:blank")),o.target&&(r=r.concat(e("target",o.target))),r}var a=this.getCssStyles();return a.length&&r.push(e("style",a.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?r.concat(e("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(r=r.concat(this.getLinkAttrs())),r)},t.prototype.makeAttr=function(e,t){return{key:e,value:t}},t.prototype.getLinkAttrs=function(){var e=s.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,t=s.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,n=this.op.attributes.target||e,i=this.op.attributes.rel||t;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(n?this.makeAttr("target",n):[]).concat(i?this.makeAttr("rel",i):[])},t.prototype.getCustomTag=function(e){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[e,this.op])},t.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},t.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var e=this.options.customCssClasses.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},t.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var e=this.options.customCssStyles.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},t.prototype.getTags=function(){var e=this,t=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var n=this.options.paragraphTag||"p",r=0,o=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",n],["direction",n],["indent",n]];r<o.length;r++){var s,l=o[r],c=l[0];if(t[c])return(s=this.getCustomTag(c))?[s]:"header"===c?["h"+t[c]]:[a.preferSecond(l)]}if(this.op.isCustomTextBlock())return(s=this.getCustomTag("renderAsBlock"))?[s]:[n];var d=Object.keys(t).reduce((function(t,n){var i=e.getCustomTag(n);return i&&(t[n]=i),t}),{}),u=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return u.filter((function(e){return!!t[e[0]]})).concat(Object.keys(d).filter((function(e){return!u.some((function(t){return t[0]==e}))})).map((function(e){return[e,d[e]]}))).map((function(e){return d[e[0]]?d[e[0]]:"script"===e[0]?t[e[0]]===i.ScriptType.Sub?"sub":"sup":a.preferSecond(e)}))},t}();e.OpToHtmlConverter=c}(va);var ya,_a={},wa={},ka=r&&r.__extends||(ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}ya(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(wa,"__esModule",{value:!0});var xa=function(e){this.ops=e};wa.InlineGroup=xa;var Ca=function(e){this.op=e},Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t}(Ca);wa.VideoItem=Sa;var Ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ka(t,e),t}(Ca);wa.BlotBlock=Ea;var Ta=function(e,t){this.op=e,this.ops=t};wa.BlockGroup=Ta;var Aa=function(e){this.items=e};wa.ListGroup=Aa;var Pa=function(e,t){void 0===t&&(t=null),this.item=e,this.innerList=t};wa.ListItem=Pa;var Ma=function(e){this.rows=e};wa.TableGroup=Ma;var Ia=function(e){this.cells=e};wa.TableRow=Ia;var qa=function(e){this.item=e};wa.TableCell=qa,Object.defineProperty(_a,"__esModule",{value:!0});var Na=bo,Da=Xo,Oa=wa,La=function(){function e(){}return e.pairOpsWithTheirBlock=function(e){for(var t,n=[],i=function(e){return!(e.isJustNewline()||e.isCustomEmbedBlock()||e.isVideo()||e.isContainerBlock())},r=function(e){return e.isInline()},o=e.length-1;o>=0;o--){var a=e[o];a.isVideo()?n.push(new Oa.VideoItem(a)):a.isCustomEmbedBlock()?n.push(new Oa.BlotBlock(a)):a.isContainerBlock()?(t=Da.sliceFromReverseWhile(e,o-1,i),n.push(new Oa.BlockGroup(a,t.elements)),o=t.sliceStartsAt>-1?t.sliceStartsAt:o):(t=Da.sliceFromReverseWhile(e,o-1,r),n.push(new Oa.InlineGroup(t.elements.concat(a))),o=t.sliceStartsAt>-1?t.sliceStartsAt:o)}return n.reverse(),n},e.groupConsecutiveSameStyleBlocks=function(t,n){return void 0===n&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),Da.groupConsecutiveElementsWhile(t,(function(t,i){return t instanceof Oa.BlockGroup&&i instanceof Oa.BlockGroup&&(n.codeBlocks&&e.areBothCodeblocksWithSameLang(t,i)||n.blockquotes&&e.areBothBlockquotesWithSameAdi(t,i)||n.header&&e.areBothSameHeadersWithSameAdi(t,i)||n.customBlocks&&e.areBothCustomBlockWithSameAttr(t,i))}))},e.reduceConsecutiveSameStyleBlocksToOne=function(e){var t=Na.DeltaInsertOp.createNewLineOp();return e.map((function(e){if(!Array.isArray(e))return e instanceof Oa.BlockGroup&&!e.ops.length&&e.ops.push(t),e;var n=e.length-1;return e[0].ops=Da.flatten(e.map((function(e,i){return e.ops.length?e.ops.concat(i<n?[t]:[]):[t]}))),e[0]}))},e.areBothCodeblocksWithSameLang=function(e,t){return e.op.isCodeBlock()&&t.op.isCodeBlock()&&e.op.hasSameLangAs(t.op)},e.areBothSameHeadersWithSameAdi=function(e,t){return e.op.isSameHeaderAs(t.op)&&e.op.hasSameAdiAs(t.op)},e.areBothBlockquotesWithSameAdi=function(e,t){return e.op.isBlockquote()&&t.op.isBlockquote()&&e.op.hasSameAdiAs(t.op)},e.areBothCustomBlockWithSameAttr=function(e,t){return e.op.isCustomTextBlock()&&t.op.isCustomTextBlock()&&e.op.hasSameAttr(t.op)},e}();_a.Grouper=La;var $a={};Object.defineProperty($a,"__esModule",{value:!0});var Ra=wa,za=Xo,ja=function(){function e(){}return e.prototype.nest=function(e){var t=this,n=this.convertListBlocksToListGroups(e),i=this.groupConsecutiveListGroups(n),r=za.flatten(i.map((function(e){return Array.isArray(e)?t.nestListSection(e):e})));return za.groupConsecutiveElementsWhile(r,(function(e,t){return e instanceof Ra.ListGroup&&t instanceof Ra.ListGroup&&e.items[0].item.op.isSameListAs(t.items[0].item.op)})).map((function(e){if(!Array.isArray(e))return e;var t=e.map((function(e){return e.items}));return new Ra.ListGroup(za.flatten(t))}))},e.prototype.convertListBlocksToListGroups=function(e){var t=za.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof Ra.BlockGroup&&t instanceof Ra.BlockGroup&&e.op.isList()&&t.op.isList()&&e.op.isSameListAs(t.op)&&e.op.hasSameIndentationAs(t.op)}));return t.map((function(e){return Array.isArray(e)?new Ra.ListGroup(e.map((function(e){return new Ra.ListItem(e)}))):e instanceof Ra.BlockGroup&&e.op.isList()?new Ra.ListGroup([new Ra.ListItem(e)]):e}))},e.prototype.groupConsecutiveListGroups=function(e){return za.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof Ra.ListGroup&&t instanceof Ra.ListGroup}))},e.prototype.nestListSection=function(e){var t=this,n=this.groupByIndent(e);return Object.keys(n).map(Number).sort().reverse().forEach((function(i){n[i].forEach((function(n){var i=e.indexOf(n);t.placeUnderParent(n,e.slice(0,i))&&e.splice(i,1)}))})),e},e.prototype.groupByIndent=function(e){return e.reduce((function(e,t){var n=t.items[0].item.op.attributes.indent;return n&&(e[n]=e[n]||[],e[n].push(t)),e}),{})},e.prototype.placeUnderParent=function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];if(e.items[0].item.op.hasHigherIndentThan(i.items[0].item.op)){var r=i.items[i.items.length-1];return r.innerList?r.innerList.items=r.innerList.items.concat(e.items):r.innerList=e,!0}}return!1},e}();$a.ListNester=ja;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});var Ha=wa,Ua=Xo,Fa=function(){function e(){}return e.prototype.group=function(e){return this.convertTableBlocksToTableGroups(e)},e.prototype.convertTableBlocksToTableGroups=function(e){var t=this,n=Ua.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof Ha.BlockGroup&&t instanceof Ha.BlockGroup&&e.op.isTable()&&t.op.isTable()}));return n.map((function(e){return Array.isArray(e)?new Ha.TableGroup(t.convertTableBlocksToTableRows(e)):e instanceof Ha.BlockGroup&&e.op.isTable()?new Ha.TableGroup([new Ha.TableRow([new Ha.TableCell(e)])]):e}))},e.prototype.convertTableBlocksToTableRows=function(e){var t=Ua.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof Ha.BlockGroup&&t instanceof Ha.BlockGroup&&e.op.isTable()&&t.op.isTable()&&e.op.isSameTableRowAs(t.op)}));return t.map((function(e){return new Ha.TableRow(Array.isArray(e)?e.map((function(e){return new Ha.TableCell(e)})):[new Ha.TableCell(e)])}))},e}();Ba.TableGrouper=Fa;var Va=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(mo,"__esModule",{value:!0});var Ga=go,Ya=va,Wa=_a,Ja=wa,Ka=$a,Xa=jo,Za=Va(oa),Qa=vo,es=Ba,ts="<br/>",ns=function(){function e(e,t){var n;this.rawDeltaOps=[],this.callbacks={},this.options=Za.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},t,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),n=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:n,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return e.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()||e.isCheckedList()||e.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var e=Ga.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=Wa.Grouper.pairOpsWithTheirBlock(e),n=Wa.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),i=Wa.Grouper.reduceConsecutiveSameStyleBlocksToOne(n);return i=(new es.TableGrouper).group(i),(new Ka.ListNester).nest(i)},e.prototype.convert=function(){var e=this;return this.getGroupedOps().map((function(t){if(t instanceof Ja.ListGroup)return e._renderWithCallbacks(Qa.GroupType.List,t,(function(){return e._renderList(t)}));if(t instanceof Ja.TableGroup)return e._renderWithCallbacks(Qa.GroupType.Table,t,(function(){return e._renderTable(t)}));if(t instanceof Ja.BlockGroup){var n=t;return e._renderWithCallbacks(Qa.GroupType.Block,t,(function(){return e._renderBlock(n.op,n.ops)}))}return t instanceof Ja.BlotBlock?e._renderCustom(t.op,null):t instanceof Ja.VideoItem?e._renderWithCallbacks(Qa.GroupType.Video,t,(function(){var n=t;return new Ya.OpToHtmlConverter(n.op,e.converterOptions).getHtml()})):e._renderWithCallbacks(Qa.GroupType.InlineGroup,t,(function(){return e._renderInlines(t.ops,!0)}))})).join("")},e.prototype._renderWithCallbacks=function(e,t,n){var i="",r=this.callbacks.beforeRender_cb;(i="function"==typeof r?r.apply(null,[e,t]):"")||(i=n());var o=this.callbacks.afterRender_cb;return i="function"==typeof o?o.apply(null,[e,i]):i},e.prototype._renderList=function(e){var t=this,n=e.items[0];return Xa.makeStartTag(this._getListTag(n.item.op))+e.items.map((function(e){return t._renderListItem(e)})).join("")+Xa.makeEndTag(this._getListTag(n.item.op))},e.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var t=new Ya.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),n=this._renderInlines(e.item.ops,!1);return t.openingTag+n+(e.innerList?this._renderList(e.innerList):"")+t.closingTag},e.prototype._renderTable=function(e){var t=this;return Xa.makeStartTag("table")+Xa.makeStartTag("tbody")+e.rows.map((function(e){return t._renderTableRow(e)})).join("")+Xa.makeEndTag("tbody")+Xa.makeEndTag("table")},e.prototype._renderTableRow=function(e){var t=this;return Xa.makeStartTag("tr")+e.cells.map((function(e){return t._renderTableCell(e)})).join("")+Xa.makeEndTag("tr")},e.prototype._renderTableCell=function(e){var t=new Ya.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),n=this._renderInlines(e.item.ops,!1);return Xa.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+t.openingTag+n+t.closingTag+Xa.makeEndTag("td")},e.prototype._renderBlock=function(e,t){var n=this,i=new Ya.OpToHtmlConverter(e,this.converterOptions).getHtmlParts();if(e.isCodeBlock())return i.openingTag+Xa.encodeHtml(t.map((function(t){return t.isCustomEmbed()?n._renderCustom(t,e):t.insert.value})).join(""))+i.closingTag;var r=t.map((function(t){return n._renderInline(t,e)})).join("");return i.openingTag+(r||ts)+i.closingTag},e.prototype._renderInlines=function(e,t){var n=this;void 0===t&&(t=!0);var i=e.length-1,r=e.map((function(e,t){return t>0&&t===i&&e.isJustNewline()?"":n._renderInline(e,null)})).join("");if(!t)return r;var o=Xa.makeStartTag(this.options.paragraphTag),a=Xa.makeEndTag(this.options.paragraphTag);return r===ts||this.options.multiLineParagraph?o+r+a:o+r.split(ts).map((function(e){return""===e?ts:e})).join(a+o)+a},e.prototype._renderInline=function(e,t){return e.isCustomEmbed()?this._renderCustom(e,t):new Ya.OpToHtmlConverter(e,this.converterOptions).getHtml().replace(/\n/g,ts)},e.prototype._renderCustom=function(e,t){var n=this.callbacks.renderCustomOp_cb;return"function"==typeof n?n.apply(null,[e,t]):""},e.prototype.beforeRender=function(e){"function"==typeof e&&(this.callbacks.beforeRender_cb=e)},e.prototype.afterRender=function(e){"function"==typeof e&&(this.callbacks.afterRender_cb=e)},e.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},e}();mo.QuillDeltaToHtmlConverter=ns,Object.defineProperty(fo,"__esModule",{value:!0});var is=mo,rs=fo.QuillDeltaToHtmlConverter=is.QuillDeltaToHtmlConverter,os=va;fo.OpToHtmlConverter=os.OpToHtmlConverter;var as=wa;fo.InlineGroup=as.InlineGroup,fo.VideoItem=as.VideoItem,fo.BlockGroup=as.BlockGroup,fo.ListGroup=as.ListGroup,fo.ListItem=as.ListItem,fo.BlotBlock=as.BlotBlock;var ss=bo;fo.DeltaInsertOp=ss.DeltaInsertOp;var ls=So;fo.InsertDataQuill=ls.InsertDataQuill,fo.InsertDataCustom=ls.InsertDataCustom;var cs=vo;fo.NewLine=cs.NewLine,fo.ListType=cs.ListType,fo.ScriptType=cs.ScriptType,fo.DirectionType=cs.DirectionType,fo.AlignType=cs.AlignType,fo.DataType=cs.DataType,fo.GroupType=cs.GroupType,e.Resource._ionSendJson=async function(t,n){n=e.clone(n);let i=e.defaultValue(n.data,null);"object"==typeof i&&(i=JSON.stringify(i)),n.data=i;let r=n.headers;e.defined(r)||(r={},n.headers=r),r.Accept=e.defaultValue(r.Accept,"application/json,*/*;q=0.01"),r["Content-Type"]=e.defaultValue(r["Content-Type"],"application/json");const o=await t(n);return o?JSON.parse(o):o},e.Resource.patchJson=function(t){return e.Resource._ionSendJson(e.Resource.patch,t)},e.Resource.postJson=function(t){return e.Resource._ionSendJson(e.Resource.post,t)},e.Resource.putJson=function(t){return e.Resource._ionSendJson(e.Resource.put,t)},e.Resource.deleteJson=function(t){return e.Resource._ionSendJson(e.Resource.delete,t)},e.Resource.simpleFetch=async function(t,n){return new Promise((function(i,r){const o=new XMLHttpRequest;e.TrustedServers.contains(t)&&(o.withCredentials=!0),o.open("GET",t,!0),e.defined(n)&&(o.responseType=n),o.onload=function(){o.status<200||o.status>=300?r(new e.RequestErrorEvent(o.status,o.response,o.getAllResponseHeaders())):i(o)},o.onerror=function(){r(new e.RequestErrorEvent)},o.send()}))};const ds=window.location.protocol,us=window.location.hostname;let hs=`api.${us}`;"ion-staging.cesium.com"===us?hs="api-staging.cesium.com":"ion.cesium.com"===us&&(hs="api.cesium.com");let ps=Number(window.location.port);(isNaN(ps)||0===ps)&&(ps="https:"===ds?443:80),e.TrustedServers.add(hs,ps),80!==ps&&443!==ps&&(hs+=`:${ps}`);let fs=`${ds}//${hs}`;async function ms(t,n){return e.Resource.patchJson({url:`${fs}stories/${t}`,data:n})}async function gs(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT);const n={limit:e.defaultValue(t.limit,50)};e.defined(t.page)&&(n.page=t.page),e.defined(t.search)&&(n.search=t.search),e.defined(t.status)&&(n.status=t.status),e.defined(t.type)&&(n.type=t.type),e.defined(t.sortBy)&&(n.sortBy=t.sortBy),e.defined(t.sortOrder)&&(n.sortOrder=t.sortOrder);return function(t){return e.Resource.simpleFetch(t,"json").then((function(t){const n=t.response,i="string"==typeof n?JSON.parse(t.response):n,r=t.getResponseHeader("Link"),o={};if(e.defined(r)){const e=r.split(/,\s*/);for(let t=0;t<e.length;t++){let n=e[t].match(/<?([^>]*)>(.*)/);const i=n[1];n=n[2].match(/.*rel="([^"]*)"/),o[n[1]]=i}}return{items:i.items,links:o}}))}(new e.Resource({url:`${fs}v1/assets`,queryParameters:n}).url)}async function bs(t){return e.Resource.fetchJson({url:`${fs}v1/assets/${t}`})}function vs(){return`${fs}stories/imagecredentials`}e.Ion.defaultServer=fs,fs+="/";const ys={code:"InternalServer",message:"Internal server error"};function _s(t){if(!e.defined(t))return ys;let n;if(e.defined(t.message))n=t;else if("object"==typeof t.response)n=t.response;else if("string"==typeof t.response)try{n=JSON.parse(t.response)}catch(e){}return n=e.defaultValue(n,ys),n.message=e.defined(n.message)&&""!==n.message?n.message:ys.message,n.code=e.defined(n.code)&&""!==n.code?n.code:ys.code,n}function ws(e){return e.story.slides.byId[e.story.slides.ids[e.app.activeSlideIndex]]}const ks=Uint32Array.BYTES_PER_ELEMENT;function xs(t,n){let i=0;i+=ks;if(1!==n.getUint32(i,!0))return;i+=ks,i+=ks;const r=n.getUint32(i,!0);if(0===r)return;i+=ks;const o=n.getUint32(i,!0);i+=ks;const a=n.getUint32(i,!0);if(0===a)return;i+=ks,i+=ks;const s=e.getStringFromTypedArray(t,i,r),l=JSON.parse(s),c=e.defined(l.extensions)?l.extensions["3DTILES_draco_point_compression"]:void 0;if(e.defined(l.BATCH_ID)||e.defined(c)&&e.defined(c.properties)&&e.defined(c.properties.BATCH_ID))return;i+=r,i+=o;const d=e.getStringFromTypedArray(t,i,a),u=JSON.parse(d);if(e.defined(u.extensions)){const t=u.extensions["3DTILES_batch_table_hierarchy"];e.defined(t)&&t.classes.forEach((e=>{Object.keys(e.instances).forEach((t=>{u[t]=e.instances[t]}))})),delete u.extensions}return u}const Cs=Uint32Array.BYTES_PER_ELEMENT;function Ss(t,n){let i=0;i+=Cs;if(1!==n.getUint32(i,!0))return;i+=Cs,i+=Cs;const r=n.getUint32(i,!0);let o;i+=Cs;for(let a=0;a<r;++a){const r=e.getMagic(t,i),a=n.getUint32(i+2*Cs,!0),s=new DataView(t.buffer,i,a);let l;l="cmpt"===r?Ss(t,s):xs(t,s),l&&(o||(o={}),o=Object.assign(o,l)),i+=a}return o}async function Es(t,n){try{const i=await e.IonResource.fromAssetId(t);let r;if(e.defined(n.root.content))r=n.root.content.uri;else{const t=e.defaultValue(n.root.children,[]);for(;t.length>0;){const n=t.pop();if(e.defined(n.content)){r=n.content.uri;break}e.defined(n.children)&&n.children.length>0&&t.push(...n.children)}}if(!e.defined(r))return{};const o=i.getDerivedResource({url:r}),a=await o.fetchArrayBuffer(),s=new Uint8Array(a),l=e.getMagic(s);let c;const d=new DataView(a);return c="cmpt"===l?Ss(s,d):xs(s,d),e.defined(c)&&0!==Object.keys(c).length?{type:l,styleableProperties:c}:{}}catch(e){console.log(e)}return{}}async function Ts(t){const n=await e.IonResource.fromAssetId(t),i=await n.fetchJson();let r;if(e.defined(i.asset.extras)&&e.defined(i.asset.extras.ion))r=i.asset.extras.ion;else{const t=e.defined(i.root.transform)&&!e.Matrix4.equals(i.root.transform,e.Matrix4.IDENTTIY);r={type:void 0,defaultStyle:void 0,styleableProperties:void 0,movable:t,georeferenced:t}}const o=await Es(t,i);return r.type=o.type,r.styleableProperties=o.styleableProperties,r}class As{static initialize(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT);const n="UA-30040272-3";"ion.cesium.com"!==window.location.hostname&&(window[`ga-disable-${n}`]=!0),function(e,t,n,i,r,o,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"ga"),window.ga("create",n,{storage:t.anonymize?"none":"auto"}),t.anonymize&&window.ga("set","anonymizeIp",!0)}static sendEvent(t,n,i,r){e.defined(window.ga)&&window.ga("send","event",t,n,i,r)}static get category(){return{STORIES_EDITOR:"Cesium Stories Editor",STORIES_VIEWER:"Cesium Stories Viewer"}}static get action(){return{NEW_STORY:"New Story",OPEN_STORY:"Open Story",OPEN_CONTEXT_MENU:"Open context menu",VIEW_FEATURE_DATA:"View feature data",FOLLOW_FEATURE:"Follow feature",STOP_FOLLOW_FEATURE:"Stop follow feature",OPEN_SUPPORT:"Open support",CLICK_COMMUNITY_SUPPORT:"Click community support",CLICK_PRIVATE_SUPPORT:"Click private support"}}static get label(){return{APPLICATION:"Application",CESIUM_CONTEXT_MENU:"CesiumJS Context Menu"}}}const Ps=500;let Ms,Is;const qs={},Ns={},Ds="autosaveErrorNotification";function Os(e){return`No connection... retrying in ${e}`}let Ls;async function $s(t,n,i){try{await n(),async function(t,n){clearTimeout(Ms),Ms=setTimeout((()=>{Is=Promise.resolve(Is).then((()=>async function(t){return e.Resource.fetchJson({url:`${fs}stories/${t}/dateModified`})}(t))).then((e=>{n({type:Kr,dateModified:e})})).finally((()=>{Is=void 0}))}),Ps)}(t().story.id,i),window.hasUnsavedChanges&&(window.hasUnsavedChanges=!1,Ls=void 0,i({type:Qr,id:Ds}))}catch(r){if(e.defined(r.statusCode)&&404!==r.statusCode){let e="Unexpected server error";if("string"==typeof r.response)try{e=JSON.parse(r.response).message}catch(t){e=t.response}return void i({type:Xr,message:e})}if(!e.defined(Ls)){window.hasUnsavedChanges=!0;let e=10;i({type:Xr,id:Ds,message:Os(e)}),Ls=new Promise((t=>{const n=setInterval((()=>{e--,i({type:Xr,id:Ds,message:Os(e)}),e<=0&&(clearInterval(n),t(),Ls=void 0)}),1e3)}))}Ls=Ls.then((()=>$s(t,n,i)))}}const Rs=(t,n=0)=>async i=>{try{const r=await async function(t,n){let i=`${fs}stories/${t}`;return e.defined(n)&&(i+=`?access_token=${n}`),e.Resource.fetchJson({url:i})}(t);await Promise.all(r.assets.ids.map((async e=>{const t=r.assets.byId[e];t.status===Lr.AssetStatus.COMPLETE&&t.type===Lr.AssetType["3DTILES"]&&(t.ionExtras=await Ts(t.id))}))),As.sendEvent(As.category.STORIES_EDITOR,As.action.OPEN_STORY,t),i({type:Ur,storyJson:r}),(n<0||n>=r.slides.ids.length)&&(n=0),i({type:eo,index:n})}catch(t){404!==t.statusCode&&e.defined(t.statusCode)?(i({type:Xr,message:"Unable to load story"}),console.error(t)):window.location.replace("../../404.html")}},zs=t=>async n=>{const i={name:"Untitled"};e.defined(t)&&(i.assetIds=[t]);try{const t=await async function(t){return e.Resource.postJson({url:`${fs}stories`,data:t})}(i);As.sendEvent(As.category.STORIES_EDITOR,As.action.NEW_STORY,t.id),n({type:Ur,storyJson:t})}catch(e){n({type:Xr,message:_s(e).message}),console.error(e)}},js=t=>async(n,i)=>{const r=i(),o=r.story.id,a=r.app.activeSlideIndex+1;t.index=a,$s(i,(async()=>{const i=await async function(t,n){return e.Resource.postJson({url:`${fs}stories/${t}/slides`,data:n})}(o,t);n({type:Vr,slide:i,index:a}),n({type:eo,index:a})}),n)},Bs=(t,r)=>async(o,a)=>{clearTimeout(qs[t]);const s=e.defaultValue(Ns[t],{});Ns[t]={...s,...r};const l=a().story.id;if(n(t),qs[t]=setTimeout((async()=>{const n=Ns[t];delete Ns[t],$s(a,(async()=>{await async function(t,n,i){return e.Resource.patchJson({url:`${fs}stories/${t}/slides/${n}`,data:i})}(l,t,n),i(t)}),o)}),Ps),e.defined(r.description)&&e.defined(r.description.ops)){const e=new rs(r.description.ops,{});r.html=e.convert()}o({type:Gr,slideId:t,options:r})},Hs=(t,r,o)=>async(a,s)=>{const l=`${t}-${r}`;clearTimeout(qs[l]);const c=e.defaultValue(Ns[l],{});Ns[l]={...c,...o};const d=s().story.id;n(l),qs[l]=setTimeout((()=>{const n=Ns[l];delete Ns[l],$s(s,(async()=>{await async function(t,n,i,r){return e.Resource.patchJson({url:`${fs}stories/${t}/slides/${n}/assets/${i}`,data:r})}(d,t,r,n),i(l)}),a)}),Ps),a({type:to,slideId:t,assetId:r,assetSettings:o})},Us=t=>async(n,i)=>{const r=i().story,o=r.id;$s(i,(async()=>{await async function(t,n){return e.Resource.deleteJson({url:`${fs}stories/${t}/slides/${n}`})}(o,t);const a=r.slides.ids.length;i().app.activeSlideIndex===a-1&&n({type:eo,index:Math.max(0,a-2)}),n({type:Yr,slideId:t})}),n)},Fs=t=>async(n,i)=>{const r=i(),o=r.story.id;$s(i,(async()=>{const a=await async function(t,n){return e.Resource.postJson({url:`${fs}stories/${t}/assets`,data:{assetId:n}})}(o,t);a.status===Lr.AssetStatus.COMPLETE&&a.type===Lr.AssetType["3DTILES"]&&(a.ionExtras=await Ts(t));const s=r.story.slides.ids[r.app.activeSlideIndex];n({type:Rr,asset:a}),Hs(s,t,{show:!0})(n,i)}),n)},Vs=t=>async(n,i)=>{const r=i().story.id;$s(i,(async()=>{await async function(t,n){return e.Resource.deleteJson({url:`${fs}stories/${t}/assets/${n}`})}(r,t),n({type:jr,assetId:t})}),n)},Gs=t=>async(n,i)=>{const r=i().story.id;$s(i,(()=>async function(t,n){return e.Resource.putJson({url:`${fs}stories/${t}/shared`,data:{shared:n}})}(r,t)),n),n({type:Fr,shared:t})},Ys=t=>(r,o)=>{const a="story";clearTimeout(qs[a]);const s=e.defaultValue(Ns[a],{});Ns[a]={...s,...t};const l=o().story.id;n(a),qs[a]=setTimeout((()=>{const e=Ns[a];delete Ns[a],$s(o,(async()=>{await ms(l,e),i(a)}),r)}),Ps),r({type:Br,options:t})},Ws=(t,n)=>async(i,r)=>{const o=r(),a=ws(o).terrainAssetId,s=o.story.assets.byId[t].ionExtras;$s(r,(async()=>{await async function(t,n,i){return e.Resource.putJson({url:`${fs}assets/${t}/transform`,data:{transform:e.Matrix4.toArray(n),terrainId:i}})}(t,n,a),i({type:zr,assetId:t,assetMetadata:{ionExtras:{...s,georeferenced:!0,movable:!0}}})}),i)},Js=t=>async(n,i)=>{let r;return await $s(i,(async()=>{r=await async function(t){return e.Resource.postJson({url:`${fs}styles`,data:t})}(t),n({type:ro,style:r})}),n),r},Ks=(t,n)=>async(i,r)=>{await $s(r,(async()=>async function(t,n){return await e.Resource.patchJson({url:`${fs}styles/${t}`,data:n})}(t,n)),i),i({type:oo,styleId:t,options:n})},Xs=t=>async(n,i)=>{await $s(i,(async()=>{await async function(t){return await e.Resource.deleteJson({url:`${fs}styles/${t}`})}(t),n({type:ao,styleId:t})}),n)};function Zs(e){return/^\s*$/g.test(e)}var Qs="NONE",el="ADD_ASSET",tl="SHARING_OPTIONS",nl="SETTINGS",il="THUMBNAIL",rl="UPLOAD",ol="NAME_PROMPT",al="EMBED_CODE";function sl(e){return.2126*e.red+.7152*e.green+.0722*e.blue<.7}function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(e){var t=function(e,t){if("object"!==ll(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ll(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ll(t)?t:String(t)}function dl(e,t,n){return(t=cl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fl="function"==typeof Symbol&&Symbol.observable||"@@observable",ml=function(){return Math.random().toString(36).substring(7).split("").join(".")},gl={INIT:"@@redux/INIT"+ml(),REPLACE:"@@redux/REPLACE"+ml(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ml()}};function bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function vl(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}var yl=vl();yl.withExtraArgument=vl;var _l=yl,wl="INFO",kl="SUCCESS",xl="ERROR";const Cl={modalType:Qs,pendingUploads:{},notifications:{byId:{},ids:[]},transformEditorAssetId:void 0,tilesetStyleAssetId:void 0,sidePanelTabsEnabled:!0,activeSlideIndex:0},Sl={id:void 0,name:"",unit:void 0,dateModified:void 0,assets:{byId:{},ids:[]},slides:{byId:{},ids:[]},styles:{byId:{},ids:[]},shared:!1};function El(e,t,n,i){const r=e.slides.byId[t],o=r.assetSettings[n];return{...e,slides:{byId:{...e.slides.byId,[t]:{...r,assetSettings:{...r.assetSettings,[n]:{...o,...i}}}},ids:e.slides.ids}}}const Tl=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:gl.INIT}))throw new Error(pl(12));if(void 0===n(void 0,{type:gl.PROBE_UNKNOWN_ACTION()}))throw new Error(pl(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},s=0;s<a.length;s++){var l=a[s],c=n[l],d=e[l],u=c(d,t);if(void 0===u)throw t&&t.type,new Error(pl(14));r[l]=u,i=i||u!==d}return(i=i||a.length!==Object.keys(e).length)?r:e}}({app:(t=Cl,n)=>{switch(n.type){case eo:return{...t,activeSlideIndex:n.index};case $r:return{...t,modalType:n.modalType};case io:return{...t,tilesetStyleAssetId:n.assetId};case no:return{...t,transformEditorAssetId:n.assetId};case Xr:{const i=e.defaultValue(n.id,e.createGuid());let r=t.notifications.ids;return-1===r.indexOf(i)&&(r=[...r,i]),{...t,notifications:{byId:{...t.notifications.byId,[i]:{id:i,message:n.message,type:xl,timeout:0}},ids:r}}}case Zr:{const i=e.defaultValue(n.id,e.createGuid());let r=t.notifications.ids;return-1===r.indexOf(i)&&(r=[...r,i]),{...t,notifications:{byId:{...t.notifications.byId,[i]:{id:i,message:n.message,type:wl,timeout:5e3}},ids:r}}}case"SHOW_SUCCESS":{const i=e.defaultValue(n.id,e.createGuid());let r=t.notifications.ids;return-1===r.indexOf(i)&&(r=[...r,i]),{...t,notifications:{byId:{...t.notifications.byId,[i]:{id:i,message:n.message,type:kl,timeout:5e3}},ids:r}}}case Qr:{const i=t.notifications.byId[n.id];return e.defined(i)?(delete t.notifications.byId[n.id],{...t,notifications:{byId:{...t.notifications.byId},ids:t.notifications.ids.filter((e=>e!==n.id))}}):t}case Hr:return 100===n.percentComplete?(delete t.pendingUploads[n.assetId],{...t}):{...t,pendingUploads:{...t.pendingUploads,[n.assetId]:n.percentComplete}};default:return t}},story:(t=Sl,n)=>{switch(n.type){case Ur:return{...t,id:n.storyJson.id,name:n.storyJson.name,unit:n.storyJson.unit,assets:n.storyJson.assets,slides:n.storyJson.slides,styles:n.storyJson.styles,shared:n.storyJson.shared,dateModified:n.storyJson.dateModified};case Br:return{...t,...n.options};case Kr:return{...t,dateModified:n.dateModified};case Rr:return{...t,assets:{byId:{...t.assets.byId,[n.asset.id]:n.asset},ids:[...t.assets.ids,n.asset.id]}};case zr:return{...t,assets:{byId:{...t.assets.byId,[n.assetId]:{...t.assets.byId[n.assetId],...n.assetMetadata}},ids:t.assets.ids}};case Wr:return{...t,assets:{byId:t.assets.byId,ids:n.assetIds}};case jr:{delete t.assets.byId[n.assetId];const i=function(t,n){const i={},r=n.byId;return n.ids.forEach((n=>{const o=r[n],a=e.defaultValue(o.assetSettings,e.defaultValue.EMPTY_OBJECT);delete a[t],i[n]={...o,assetSettings:{...a}}})),i}(n.assetId,t.slides);return{...t,assets:{byId:{...t.assets.byId},ids:t.assets.ids.filter((e=>e!==n.assetId))},slides:{byId:i,ids:t.slides.ids}}}case Vr:{const i=t.slides.ids.slice();return e.defined(n.index)?i.splice(n.index,0,n.slide.id):i.push(n.slide.id),{...t,slides:{byId:{...t.slides.byId,[n.slide.id]:n.slide},ids:i}}}case Jr:return{...t,slides:{byId:t.slides.byId,ids:n.slideIds}};case Gr:return{...t,slides:{byId:{...t.slides.byId,[n.slideId]:{...t.slides.byId[n.slideId],...n.options}},ids:t.slides.ids}};case to:return El(t,n.slideId,n.assetId,n.assetSettings);case Yr:{delete t.slides.byId[n.slideId];const e=t.slides.ids.filter((e=>e!==n.slideId));return{...t,slides:{byId:{...t.slides.byId},ids:e}}}case Fr:return{...t,shared:n.shared};case ro:return{...t,styles:{byId:{...t.styles.byId,[n.style.id]:n.style},ids:[...t.styles.ids,n.style.id]}};case oo:return{...t,styles:{byId:{...t.styles.byId,[n.styleId]:{...t.styles.byId[n.styleId],...n.options}},ids:t.styles.ids}};case ao:{const e=n.styleId;delete t.styles.byId[e];const i=t.slides;return i.ids.forEach((n=>{const r=i.byId[n].assetSettings;Object.keys(r).forEach((i=>{r[i].styleId===e&&(t=El(t,n,i,{styleId:null}))}))})),{...t,styles:{byId:{...t.styles.byId},ids:t.styles.ids.filter((e=>e!==n.styleId))}}}default:return t}}}),Al=function e(t,n,i){var r;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(pl(0));if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error(pl(1));return i(e)(t,n)}if("function"!=typeof t)throw new Error(pl(2));var o=t,a=n,s=[],l=s,c=!1;function d(){l===s&&(l=s.slice())}function u(){if(c)throw new Error(pl(3));return a}function h(e){if("function"!=typeof e)throw new Error(pl(4));if(c)throw new Error(pl(5));var t=!0;return d(),l.push(e),function(){if(t){if(c)throw new Error(pl(6));t=!1,d();var n=l.indexOf(e);l.splice(n,1),s=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(pl(7));if(void 0===e.type)throw new Error(pl(8));if(c)throw new Error(pl(9));try{c=!0,a=o(a,e)}finally{c=!1}for(var t=s=l,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:gl.INIT}),(r={dispatch:p,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(pl(10));o=e,p({type:gl.REPLACE})}})[fl]=function(){var e,t=h;return e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(pl(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}},e[fl]=function(){return this},e},r}(Tl,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(pl(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=bl.apply(void 0,o)(n.dispatch),hl(hl({},n),{},{dispatch:i})}}}(_l)),Pl=new e.Ray,Ml=new e.Cartesian3;class Il{constructor(t,n){this._mapViewer=n,this._transformPanel=t,this._assetId=void 0,this._tilesetShow=void 0,this._tileset=void 0,this._transformEditor=void 0,this._transformEditorSubscription=[],this._unsavedChanges=!1,this._sseh=void 0,this._position=new e.Cartesian3,this._headingPitchRoll=new e.HeadingPitchRoll,this._scale=new e.Cartesian3,this._setViewModelPosition=this._setViewModelPosition.bind(this),this._setViewModelHpr=this._setViewModelHpr.bind(this),this._setViewModelScale=this._setViewModelScale.bind(this),this._setViewModelNonUniformScaling=this._setViewModelNonUniformScaling.bind(this),this._handlePicking=this._handlePicking.bind(this),this._save=this._save.bind(this)}get assetId(){return this._assetId}set assetId(t){if(this._assetId===t)return;if(this._assetId=t,!e.defined(t))return e.defined(this._tileset)&&(this._tileset.show=this._tilesetShow),this._tileset=void 0,this._transformPanel.ready=!1,void this._deactivate();const n=this._mapViewer.getAssetInstance(t);this._tileset=n,this._tilesetShow=n.show,n.show=!0;const i=this._mapViewer.viewer;let r;e.Matrix4.equals(n._root.transform,e.Matrix4.IDENTITY)?r=n.modelMatrix:(r=e.Matrix4.clone(n._root.transform),n._root.transform=e.Matrix4.IDENTITY,n.modelMatrix=r);const o=new e.TransformEditor({container:i.container,scene:i.scene,transform:n.modelMatrix,boundingSphere:n.boundingSphere}),a=o.viewModel;this._transformEditor=o,this._position=e.Cartesian3.clone(a.position,this._position),this._headingPitchRoll=e.HeadingPitchRoll.clone(a.headingPitchRoll,this._headingPitchRoll),this._scale=e.Cartesian3.clone(a.scale,this._scale),this._initialize()}_initialize(){const t=this._transformEditorSubscription,n=this._tileset,i=this._transformEditor.viewModel,r=this._transformPanel,o=this._position,a=this._headingPitchRoll,s=this._scale;i.activate(),r.initializeValues(this._mapViewer.viewer,n,o,a,s,i.enableNonUniformScaling),t.push(e.knockout.getObservable(i,"position").subscribe((function(t){e.Cartesian3.equalsEpsilon(t,o,e.Math.EPSILON8)||(e.Cartesian3.clone(t,o),this._unsavedChanges=!0,r.position=t)}))),t.push(e.knockout.getObservable(i,"headingPitchRoll").subscribe((function(t){e.HeadingPitchRoll.equals(t,a)||(e.HeadingPitchRoll.clone(t,a),this._unsavedChanges=!0,r.headingPitchRoll=t)}))),t.push(e.knockout.getObservable(i,"scale").subscribe((function(t){e.Cartesian3.equals(t,s)||(e.Cartesian3.clone(t,s),this._unsavedChanges=!0,r.scale=t)}))),t.push(e.knockout.getObservable(i,"enableNonUniformScaling").subscribe((function(e){r.enableNonUniformScaling=e}))),r.addEventListener("positionChange",this._setViewModelPosition),r.addEventListener("headingPitchRollChange",this._setViewModelHpr),r.addEventListener("scaleChange",this._setViewModelScale),r.addEventListener("enableNonUniformScalingChange",this._setViewModelNonUniformScaling),r.addEventListener("pickingChange",this._handlePicking),r.addEventListener("save",this._save)}_handlePicking(t){const n=this._mapViewer.viewer.scene;if(t.detail.picking){if(e.defined(this._sseh))return;const t=new e.ScreenSpaceEventHandler(n.canvas);this._sseh=t,t.setInputAction((t=>{const i=n.camera.getPickRay(t.position,Pl),r=n.globe.pick(i,n,Ml);e.defined(r)&&(this._transformPanel.position=r,this._transformEditor.viewModel.position=r,this._unsavedChanges=!0,this._transformPanel.cancelPicking())}),e.ScreenSpaceEventType.LEFT_CLICK)}else e.defined(this._sseh)&&(this._sseh.destroy(),this._sseh=void 0)}_setViewModelPosition(t){const n=t.detail.position,i=this._position;e.Cartesian3.equalsEpsilon(n,i,e.Math.EPSILON8)||(e.Cartesian3.clone(n,i),this._unsavedChanges=!0,this._transformEditor.viewModel.position=n)}_setViewModelHpr(t){const n=t.detail.headingPitchRoll,i=this._headingPitchRoll;e.HeadingPitchRoll.equals(n,i)||(e.HeadingPitchRoll.clone(n,i),this._unsavedChanges=!0,this._transformEditor.viewModel.headingPitchRoll=n)}_setViewModelScale(t){const n=t.detail.scale,i=this._scale;e.Cartesian3.equals(n,i)||(e.Cartesian3.clone(n,i),this._unsavedChanges=!0,this._transformEditor.viewModel.scale=n)}_setViewModelNonUniformScaling(e){this._transformEditor.viewModel.enableNonUniformScaling=e.detail.enableNonUniformScaling}_save(){Al.dispatch(Ws(this._assetId,this._tileset.modelMatrix))}_deactivate(){if(this._transformEditorSubscription.forEach((function(e){e.dispose()})),e.defined(this._transformEditor)&&this._transformEditor.destroy(),e.defined(this._transformPanel)){const e=this._transformPanel;e.removeEventListener("positionChange",this._setViewModelPosition),e.removeEventListener("headingPitchRollChange",this._setViewModelHpr),e.removeEventListener("scaleChange",this._setViewModelScale),e.removeEventListener("enableNonUniformScalingChange",this._setViewModelNonUniformScaling),e.removeEventListener("pickingChange",this._handlePicking),e.removeEventListener("save",this._save)}}}var ql=p`
  :host {
    display: block;
    box-sizing: border-box;
  }
  :host([hidden]),
  *[hidden] {
    display: none !important;
  }

  * {
    box-sizing: border-box;
  }

  a {
    text-decoration: none;
    color: var(--brand-primary);
    cursor: pointer;
  }
  a:hover {
    color: var(--brand-primary-shade);
  }

  h1,
  h2,
  h3 {
    font-family: var(--font-family-heading);
    margin-top: 0;
    font-weight: 600;
  }

  h1 {
    font-size: var(--font-size-h1);
  }
  h2 {
    font-size: var(--font-size-h2);
  }
  h3 {
    font-size: var(--font-size-h3);
  }
  label {
    color: var(--text-color);
    font-size: var(--font-size-large);
  }
  .small {
    font-size: var(--font-size-small);
  }

  .muted {
    color: var(--text-muted);
  }

  ion-button + ion-button {
    margin-left: 0.25rem;
  }

  .margin-bottom {
    margin-bottom: 1rem;
  }

  .alert {
    border: 1px solid transparent;
    margin: 1rem 0;
    border-radius: var(--border-radius);
    padding: 1rem;
    color: var(--text-color);
  }
  .alert svg {
    height: 1rem;
    width: 1rem;
    vertical-align: middle;
    margin-left: -0.5rem;
  }
  .alert-info {
    border-color: var(--brand-info);
    color: var(--brand-info-color);
    background-color: var(--brand-info-bg);
  }
  .alert-danger {
    border-color: var(--brand-danger);
    color: var(--brand-danger-color);
    background-color: var(--brand-danger-bg);
  }
`;const Nl=2,Dl=e=>(...t)=>({_$litDirective$:e,values:t});class Ol{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const{I:Ll}=ce,$l=()=>document.createComment(""),Rl=(e,t,n)=>{var i;const r=e._$AA.parentNode,o=void 0===t?e._$AB:t._$AA;if(void 0===n){const t=r.insertBefore($l(),o),i=r.insertBefore($l(),o);n=new Ll(t,i,e,e.options)}else{const t=n._$AB.nextSibling,a=n._$AM,s=a!==e;if(s){let t;null===(i=n._$AQ)||void 0===i||i.call(n,e),n._$AM=e,void 0!==n._$AP&&(t=e._$AU)!==a._$AU&&n._$AP(t)}if(t!==o||s){let e=n._$AA;for(;e!==t;){const t=e.nextSibling;r.insertBefore(e,o),e=t}}}return n},zl=(e,t,n=e)=>(e._$AI(t,n),e),jl={},Bl=e=>{var t;null===(t=e._$AP)||void 0===t||t.call(e,!1,!0);let n=e._$AA;const i=e._$AB.nextSibling;for(;n!==i;){const e=n.nextSibling;n.remove(),n=e}},Hl=(e,t,n)=>{const i=new Map;for(let r=t;r<=n;r++)i.set(e[r],r);return i},Ul=Dl(class extends Ol{constructor(e){if(super(e),e.type!==Nl)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let i;void 0===n?n=t:void 0!==t&&(i=t);const r=[],o=[];let a=0;for(const t of e)r[a]=i?i(t,a):a,o[a]=n(t,a),a++;return{values:o,keys:r}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,i]){var r;const o=(e=>e._$AH)(e),{values:a,keys:s}=this.dt(t,n,i);if(!Array.isArray(o))return this.ht=s,a;const l=null!==(r=this.ht)&&void 0!==r?r:this.ht=[],c=[];let d,u,h=0,p=o.length-1,f=0,m=a.length-1;for(;h<=p&&f<=m;)if(null===o[h])h++;else if(null===o[p])p--;else if(l[h]===s[f])c[f]=zl(o[h],a[f]),h++,f++;else if(l[p]===s[m])c[m]=zl(o[p],a[m]),p--,m--;else if(l[h]===s[m])c[m]=zl(o[h],a[m]),Rl(e,c[m+1],o[h]),h++,m--;else if(l[p]===s[f])c[f]=zl(o[p],a[f]),Rl(e,o[h],o[p]),p--,f++;else if(void 0===d&&(d=Hl(s,f,m),u=Hl(l,h,p)),d.has(l[h]))if(d.has(l[p])){const t=u.get(s[f]),n=void 0!==t?o[t]:null;if(null===n){const t=Rl(e,o[h]);zl(t,a[f]),c[f]=t}else c[f]=zl(n,a[f]),Rl(e,o[h],n),o[t]=null;f++}else Bl(o[p]),p--;else Bl(o[h]),h++;for(;f<=m;){const t=Rl(e,c[m+1]);zl(t,a[f]),c[f++]=t}for(;h<=p;){const e=o[h++];null!==e&&Bl(e)}return this.ht=s,((e,t=jl)=>{e._$AH=t})(e,c),W}});class Fl extends Ol{constructor(e){if(super(e),this.et=J,e.type!==Nl)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===J||null==e)return this.ft=void 0,this.et=e;if(e===W)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Fl.directiveName="unsafeHTML",Fl.resultType=1;const Vl=Dl(Fl);function Gl(e){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(e)}function Yl(e,t){return Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yl(e,t)}function Wl(e,t,n){return Wl=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Yl(r,n.prototype),r},Wl.apply(null,arguments)}function Jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||Xl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xl(e,t){if(e){if("string"==typeof e)return Zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ql=Object.entries,ec=Object.setPrototypeOf,tc=Object.isFrozen,nc=Object.getPrototypeOf,ic=Object.getOwnPropertyDescriptor,rc=Object.freeze,oc=Object.seal,ac=Object.create,sc="undefined"!=typeof Reflect&&Reflect,lc=sc.apply,cc=sc.construct;lc||(lc=function(e,t,n){return e.apply(t,n)}),rc||(rc=function(e){return e}),oc||(oc=function(e){return e}),cc||(cc=function(e,t){return Wl(e,Kl(t))});var dc,uc=kc(Array.prototype.forEach),hc=kc(Array.prototype.pop),pc=kc(Array.prototype.push),fc=kc(String.prototype.toLowerCase),mc=kc(String.prototype.toString),gc=kc(String.prototype.match),bc=kc(String.prototype.replace),vc=kc(String.prototype.indexOf),yc=kc(String.prototype.trim),_c=kc(RegExp.prototype.test),wc=(dc=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cc(dc,t)});function kc(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return lc(e,t,i)}}function xc(e,t,n){n=n||fc,ec&&ec(e,null);for(var i=t.length;i--;){var r=t[i];if("string"==typeof r){var o=n(r);o!==r&&(tc(t)||(t[i]=o),r=o)}e[r]=!0}return e}function Cc(e){var t,n=ac(null),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Xl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(Ql(e));try{for(i.s();!(t=i.n()).done;){var r=Jl(t.value,2),o=r[0],a=r[1];n[o]=a}}catch(e){i.e(e)}finally{i.f()}return n}function Sc(e,t){for(;null!==e;){var n=ic(e,t);if(n){if(n.get)return kc(n.get);if("function"==typeof n.value)return kc(n.value)}e=nc(e)}return function(e){return console.warn("fallback value for",e),null}}var Ec=rc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Tc=rc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ac=rc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pc=rc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mc=rc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ic=rc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qc=rc(["#text"]),Nc=rc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Dc=rc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Oc=rc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lc=rc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$c=oc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Rc=oc(/<%[\w\W]*|[\w\W]*%>/gm),zc=oc(/\${[\w\W]*}/gm),jc=oc(/^data-[\-\w.\u00B7-\uFFFF]/),Bc=oc(/^aria-[\-\w]+$/),Hc=oc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Uc=oc(/^(?:\w+script|data):/i),Fc=oc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Vc=oc(/^html$/i),Gc=function(){return"undefined"==typeof window?null:window};var Yc=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc(),n=function(t){return e(t)};if(n.version="3.0.1",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,o=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=Sc(m,"cloneNode"),b=Sc(m,"nextSibling"),v=Sc(m,"childNodes"),y=Sc(m,"parentNode");if("function"==typeof a){var _=r.createElement("template");_.content&&_.content.ownerDocument&&(r=_.content.ownerDocument)}var w=function(e,t){if("object"!==Gl(e)||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(f,i),k=w?w.createHTML(""):"",x=r,C=x.implementation,S=x.createNodeIterator,E=x.createDocumentFragment,T=x.getElementsByTagName,A=i.importNode,P={};n.isSupported="function"==typeof Ql&&"function"==typeof y&&C&&void 0!==C.createHTMLDocument;var M,I,q=$c,N=Rc,D=zc,O=jc,L=Bc,$=Uc,R=Fc,z=Hc,j=null,B=xc({},[].concat(Kl(Ec),Kl(Tc),Kl(Ac),Kl(Mc),Kl(qc))),H=null,U=xc({},[].concat(Kl(Nc),Kl(Dc),Kl(Oc),Kl(Lc))),F=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,G=null,Y=!0,W=!0,J=!1,K=!0,X=!1,Z=!1,Q=!1,ee=!1,te=!1,ne=!1,ie=!1,re=!0,oe=!1,ae=!0,se=!1,le={},ce=null,de=xc({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,he=xc({},["audio","video","img","source","image","track"]),pe=null,fe=xc({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml",ve=be,ye=!1,_e=null,we=xc({},[me,ge,be],mc),ke=["application/xhtml+xml","text/html"],xe=null,Ce=r.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){xe&&xe===e||(e&&"object"===Gl(e)||(e={}),e=Cc(e),M=M=-1===ke.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,I="application/xhtml+xml"===M?mc:fc,j="ALLOWED_TAGS"in e?xc({},e.ALLOWED_TAGS,I):B,H="ALLOWED_ATTR"in e?xc({},e.ALLOWED_ATTR,I):U,_e="ALLOWED_NAMESPACES"in e?xc({},e.ALLOWED_NAMESPACES,mc):we,pe="ADD_URI_SAFE_ATTR"in e?xc(Cc(fe),e.ADD_URI_SAFE_ATTR,I):fe,ue="ADD_DATA_URI_TAGS"in e?xc(Cc(he),e.ADD_DATA_URI_TAGS,I):he,ce="FORBID_CONTENTS"in e?xc({},e.FORBID_CONTENTS,I):de,V="FORBID_TAGS"in e?xc({},e.FORBID_TAGS,I):{},G="FORBID_ATTR"in e?xc({},e.FORBID_ATTR,I):{},le="USE_PROFILES"in e&&e.USE_PROFILES,Y=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,X=e.SAFE_FOR_TEMPLATES||!1,Z=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,ie=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||z,ve=e.NAMESPACE||be,F=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(F.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(W=!1),ne&&(te=!0),le&&(j=xc({},Kl(qc)),H=[],!0===le.html&&(xc(j,Ec),xc(H,Nc)),!0===le.svg&&(xc(j,Tc),xc(H,Dc),xc(H,Lc)),!0===le.svgFilters&&(xc(j,Ac),xc(H,Dc),xc(H,Lc)),!0===le.mathMl&&(xc(j,Mc),xc(H,Oc),xc(H,Lc))),e.ADD_TAGS&&(j===B&&(j=Cc(j)),xc(j,e.ADD_TAGS,I)),e.ADD_ATTR&&(H===U&&(H=Cc(H)),xc(H,e.ADD_ATTR,I)),e.ADD_URI_SAFE_ATTR&&xc(pe,e.ADD_URI_SAFE_ATTR,I),e.FORBID_CONTENTS&&(ce===de&&(ce=Cc(ce)),xc(ce,e.FORBID_CONTENTS,I)),ae&&(j["#text"]=!0),Z&&xc(j,["html","head","body"]),j.table&&(xc(j,["tbody"]),delete V.tbody),rc&&rc(e),xe=e)},Te=xc({},["mi","mo","mn","ms","mtext"]),Ae=xc({},["foreignobject","desc","title","annotation-xml"]),Pe=xc({},["title","style","font","a","script"]),Me=xc({},Tc);xc(Me,Ac),xc(Me,Pc);var Ie=xc({},Mc);xc(Ie,Ic);var qe=function(e){pc(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Ne=function(e,t){try{pc(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){pc(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(te||ne)try{qe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e){var t,n;if(ee)e="<remove></remove>"+e;else{var i=gc(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===M&&ve===be&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=w?w.createHTML(e):e;if(ve===be)try{t=(new p).parseFromString(o,M)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ye?k:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ve===be?T.call(t,Z?"html":"body")[0]:Z?t.documentElement:a},Oe=function(e){return S.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Le=function(e){return"object"===Gl(s)?e instanceof s:e&&"object"===Gl(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},$e=function(e,t,i){P[e]&&uc(P[e],(function(e){e.call(n,t,i,xe)}))},Re=function(e){var t,i;if($e("beforeSanitizeElements",e,null),(i=e)instanceof h&&("string"!=typeof i.nodeName||"string"!=typeof i.textContent||"function"!=typeof i.removeChild||!(i.attributes instanceof u)||"function"!=typeof i.removeAttribute||"function"!=typeof i.setAttribute||"string"!=typeof i.namespaceURI||"function"!=typeof i.insertBefore||"function"!=typeof i.hasChildNodes))return qe(e),!0;var r=I(e.nodeName);if($e("uponSanitizeElement",e,{tagName:r,allowedTags:j}),e.hasChildNodes()&&!Le(e.firstElementChild)&&(!Le(e.content)||!Le(e.content.firstElementChild))&&_c(/<[/\w]/g,e.innerHTML)&&_c(/<[/\w]/g,e.textContent))return qe(e),!0;if(!j[r]||V[r]){if(!V[r]&&je(r)){if(F.tagNameCheck instanceof RegExp&&_c(F.tagNameCheck,r))return!1;if(F.tagNameCheck instanceof Function&&F.tagNameCheck(r))return!1}if(ae&&!ce[r]){var o=y(e)||e.parentNode,a=v(e)||e.childNodes;if(a&&o)for(var s=a.length-1;s>=0;--s)o.insertBefore(g(a[s],!0),b(e))}return qe(e),!0}return e instanceof l&&!function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});var n=fc(e.tagName),i=fc(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===be?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===i||Te[i]):Boolean(Me[n]):e.namespaceURI===me?t.namespaceURI===be?"math"===n:t.namespaceURI===ge?"math"===n&&Ae[i]:Boolean(Ie[n]):e.namespaceURI===be?!(t.namespaceURI===ge&&!Ae[i])&&!(t.namespaceURI===me&&!Te[i])&&!Ie[n]&&(Pe[n]||!Me[n]):!("application/xhtml+xml"!==M||!_e[e.namespaceURI]))}(e)?(qe(e),!0):"noscript"!==r&&"noembed"!==r||!_c(/<\/no(script|embed)/i,e.innerHTML)?(X&&3===e.nodeType&&(t=e.textContent,t=bc(t,q," "),t=bc(t,N," "),t=bc(t,D," "),e.textContent!==t&&(pc(n.removed,{element:e.cloneNode()}),e.textContent=t)),$e("afterSanitizeElements",e,null),!1):(qe(e),!0)},ze=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ce))return!1;if(W&&!G[t]&&_c(O,t));else if(Y&&_c(L,t));else if(!H[t]||G[t]){if(!(je(e)&&(F.tagNameCheck instanceof RegExp&&_c(F.tagNameCheck,e)||F.tagNameCheck instanceof Function&&F.tagNameCheck(e))&&(F.attributeNameCheck instanceof RegExp&&_c(F.attributeNameCheck,t)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(t))||"is"===t&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&_c(F.tagNameCheck,n)||F.tagNameCheck instanceof Function&&F.tagNameCheck(n))))return!1}else if(pe[t]);else if(_c(z,bc(n,R,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==vc(n,"data:")||!ue[e]){if(J&&!_c($,bc(n,R,"")));else if(n)return!1}else;return!0},je=function(e){return e.indexOf("-")>0},Be=function(e){var t,i,r,o;$e("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(o=a.length;o--;){var l=t=a[o],c=l.name,d=l.namespaceURI;if(i="value"===c?t.value:yc(t.value),r=I(c),s.attrName=r,s.attrValue=i,s.keepAttr=!0,s.forceKeepAttr=void 0,$e("uponSanitizeAttribute",e,s),i=s.attrValue,!s.forceKeepAttr&&(Ne(c,e),s.keepAttr))if(K||!_c(/\/>/i,i)){X&&(i=bc(i,q," "),i=bc(i,N," "),i=bc(i,D," "));var u=I(e.nodeName);if(ze(u,r,i)){if(!oe||"id"!==r&&"name"!==r||(Ne(c,e),i="user-content-"+i),w&&"object"===Gl(f)&&"function"==typeof f.getAttributeType)if(d);else switch(f.getAttributeType(u,r)){case"TrustedHTML":i=w.createHTML(i);break;case"TrustedScriptURL":i=w.createScriptURL(i)}try{d?e.setAttributeNS(d,c,i):e.setAttribute(c,i),hc(n.removed)}catch(e){}}}else Ne(c,e)}$e("afterSanitizeAttributes",e,null)}},He=function e(t){var n,i=Oe(t);for($e("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)$e("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof o&&e(n.content),Be(n));$e("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){var t,r,a,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ye=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Le(e)){if("function"!=typeof e.toString)throw wc("toString is not a function");if("string"!=typeof(e=e.toString()))throw wc("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ee(c),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){var d=I(e.nodeName);if(!j[d]||V[d])throw wc("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)1===(r=(t=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?t=r:t.appendChild(r);else{if(!te&&!X&&!Z&&-1===e.indexOf("<"))return w&&ie?w.createHTML(e):e;if(!(t=De(e)))return te?null:ie?k:""}t&&ee&&qe(t.firstChild);for(var u=Oe(se?e:t);a=u.nextNode();)Re(a)||(a.content instanceof o&&He(a.content),Be(a));if(se)return e;if(te){if(ne)for(l=E.call(t.ownerDocument);t.firstChild;)l.appendChild(t.firstChild);else l=t;return(H.shadowroot||H.shadowrootmod)&&(l=A.call(i,l,!0)),l}var h=Z?t.outerHTML:t.innerHTML;return Z&&j["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&_c(Vc,t.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+h),X&&(h=bc(h,q," "),h=bc(h,N," "),h=bc(h,D," ")),w&&ie?w.createHTML(h):h},n.setConfig=function(e){Ee(e),Q=!0},n.clearConfig=function(){xe=null,Q=!1},n.isValidAttribute=function(e,t,n){xe||Ee({});var i=I(e),r=I(t);return ze(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(P[e]=P[e]||[],pc(P[e],t))},n.removeHook=function(e){if(P[e])return hc(P[e])},n.removeHooks=function(e){P[e]&&(P[e]=[])},n.removeAllHooks=function(){P={}},n}(),Wc={},Jc={get exports(){return Wc},set exports(e){Wc=e}};!function(e){(function(){function t(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i].defaultValue);return n}var n={},i={},r={},o=t(!0),a="vanilla",s={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:function(){var e=t(!0),n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}()};function l(e,t){var i=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};n.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var a=i+" sub-extension "+o+": ",s=e[o];if("object"!=typeof s)return r.valid=!1,r.error=a+"must be an object, but "+typeof s+" given",r;if(!n.helper.isString(s.type))return r.valid=!1,r.error=a+'property "type" must be a string, but '+typeof s.type+" given",r;var l=s.type=s.type.toLowerCase();if("language"===l&&(l=s.type="lang"),"html"===l&&(l=s.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=a+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(n.helper.isUndefined(s.listeners))return r.valid=!1,r.error=a+'. Extensions of type "listener" must have a property called "listeners"',r}else if(n.helper.isUndefined(s.filter)&&n.helper.isUndefined(s.regex))return r.valid=!1,r.error=a+l+' extensions must define either a "regex" property or a "filter" method',r;if(s.listeners){if("object"!=typeof s.listeners)return r.valid=!1,r.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",r;for(var c in s.listeners)if(s.listeners.hasOwnProperty(c)&&"function"!=typeof s.listeners[c])return r.valid=!1,r.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof s.listeners[c]+" given",r}if(s.filter){if("function"!=typeof s.filter)return r.valid=!1,r.error=a+'"filter" must be a function, but '+typeof s.filter+" given",r}else if(s.regex){if(n.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return r.valid=!1,r.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",r;if(n.helper.isUndefined(s.replace))return r.valid=!1,r.error=a+'"regex" extensions must implement a replace string or function',r}}return r}function c(e,t){return"¨E"+t.charCodeAt(0)+"E"}n.helper={},n.extensions={},n.setOption=function(e,t){return o[e]=t,this},n.getOption=function(e){return o[e]},n.getOptions=function(){return o},n.resetOptions=function(){o=t(!0)},n.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");n.resetOptions();var t=s[e];for(var i in a=e,t)t.hasOwnProperty(i)&&(o[i]=t[i])},n.getFlavor=function(){return a},n.getFlavorOptions=function(e){if(s.hasOwnProperty(e))return s[e]},n.getDefaultOptions=function(e){return t(e)},n.subParser=function(e,t){if(n.helper.isString(e)){if(void 0===t){if(i.hasOwnProperty(e))return i[e];throw Error("SubParser named "+e+" not registered!")}i[e]=t}},n.extension=function(e,t){if(!n.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=n.helper.stdExtName(e),n.helper.isUndefined(t)){if(!r.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return r[e]}"function"==typeof t&&(t=t()),n.helper.isArray(t)||(t=[t]);var i=l(t,e);if(!i.valid)throw Error(i.error);r[e]=t},n.getAllExtensions=function(){return r},n.removeExtension=function(e){delete r[e]},n.resetExtensions=function(){r={}},n.validateExtension=function(e){var t=l(e,null);return!!t.valid||(console.warn(t.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(e){return"string"==typeof e||e instanceof String},n.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.helper.isArray=function(e){return Array.isArray(e)},n.helper.isUndefined=function(e){return void 0===e},n.helper.forEach=function(e,t){if(n.helper.isUndefined(e))throw new Error("obj param is required");if(n.helper.isUndefined(t))throw new Error("callback param is required");if(!n.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(n.helper.isArray(e))for(var i=0;i<e.length;i++)t(e[i],i,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},n.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=c,n.helper.escapeCharacters=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return e=e.replace(r,c)},n.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var d=function(e,t,n,i){var r,o,a,s,l,c=i||"",d=c.indexOf("g")>-1,u=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),h=new RegExp(t,c.replace(/g/g,"")),p=[];do{for(r=0;a=u.exec(e);)if(h.test(a[0]))r++||(s=(o=u.lastIndex)-a[0].length);else if(r&&!--r){l=a.index+a[0].length;var f={left:{start:s,end:o},match:{start:o,end:a.index},right:{start:a.index,end:l},wholeMatch:{start:s,end:l}};if(p.push(f),!d)return p}}while(r&&(u.lastIndex=o));return p};n.helper.matchRecursiveRegExp=function(e,t,n,i){for(var r=d(e,t,n,i),o=[],a=0;a<r.length;++a)o.push([e.slice(r[a].wholeMatch.start,r[a].wholeMatch.end),e.slice(r[a].match.start,r[a].match.end),e.slice(r[a].left.start,r[a].left.end),e.slice(r[a].right.start,r[a].right.end)]);return o},n.helper.replaceRecursiveRegExp=function(e,t,i,r,o){if(!n.helper.isFunction(t)){var a=t;t=function(){return a}}var s=d(e,i,r,o),l=e,c=s.length;if(c>0){var u=[];0!==s[0].wholeMatch.start&&u.push(e.slice(0,s[0].wholeMatch.start));for(var h=0;h<c;++h)u.push(t(e.slice(s[h].wholeMatch.start,s[h].wholeMatch.end),e.slice(s[h].match.start,s[h].match.end),e.slice(s[h].left.start,s[h].left.end),e.slice(s[h].right.start,s[h].right.end))),h<c-1&&u.push(e.slice(s[h].wholeMatch.end,s[h+1].wholeMatch.start));s[c-1].wholeMatch.end<e.length&&u.push(e.slice(s[c-1].wholeMatch.end)),l=u.join("")}return l},n.helper.regexIndexOf=function(e,t,i){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(i||0).search(t);return r>=0?r+(i||0):r},n.helper.splitAtIndex=function(e,t){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},n.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e})),e},n.helper.padEnd=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),n.helper.regexes={asteriskDashAndColon:/([*_:~])/g},n.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},n.Converter=function(e){var t={},i=[],c=[],d={},u=a,h={parsed:{},raw:"",format:""};function p(e,t){if(t=t||null,n.helper.isString(e)){if(t=e=n.helper.stdExtName(e),n.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new n.Converter));n.helper.isArray(e)||(e=[e]);var r=l(e,t);if(!r.valid)throw Error(r.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":i.push(e[o]);break;case"output":c.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(n.extensions[e],e);if(n.helper.isUndefined(r[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=r[e]}"function"==typeof e&&(e=e()),n.helper.isArray(e)||(e=[e]);var o=l(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a){switch(e[a].type){case"lang":i.push(e[a]);break;case"output":c.push(e[a])}if(e[a].hasOwnProperty("listeners"))for(var s in e[a].listeners)e[a].listeners.hasOwnProperty(s)&&f(s,e[a].listeners[s])}}function f(e,t){if(!n.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");d.hasOwnProperty(e)||(d[e]=[]),d[e].push(t)}!function(){for(var i in e=e||{},o)o.hasOwnProperty(i)&&(t[i]=o[i]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.extensions&&n.helper.forEach(t.extensions,p)}(),this._dispatch=function(e,t,n,i){if(d.hasOwnProperty(e))for(var r=0;r<d[e].length;++r){var o=d[e][r](e,t,this,n,i);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return f(e,t),this},this.makeHtml=function(e){if(!e)return e;var r={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:i,outputModifiers:c,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=n.subParser("detab")(e,t,r)).replace(/^[ \t]+$/gm,""),n.helper.forEach(i,(function(i){e=n.subParser("runExtension")(i,e,t,r)})),e=n.subParser("metadata")(e,t,r),e=n.subParser("hashPreCodeTags")(e,t,r),e=n.subParser("githubCodeBlocks")(e,t,r),e=n.subParser("hashHTMLBlocks")(e,t,r),e=n.subParser("hashCodeTags")(e,t,r),e=n.subParser("stripLinkDefinitions")(e,t,r),e=n.subParser("blockGamut")(e,t,r),e=n.subParser("unhashHTMLSpans")(e,t,r),e=(e=(e=n.subParser("unescapeSpecialChars")(e,t,r)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=n.subParser("completeHTMLDocument")(e,t,r),n.helper.forEach(c,(function(i){e=n.subParser("runExtension")(i,e,t,r)})),h=r.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var i=t.createElement("div");i.innerHTML=e;var r={preList:function(e){for(var t=e.querySelectorAll("pre"),i=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var o=t[r].firstChild.innerHTML.trim(),a=t[r].firstChild.getAttribute("data-language")||"";if(""===a)for(var s=t[r].firstChild.className.split(" "),l=0;l<s.length;++l){var c=s[l].match(/^language-(.+)$/);if(null!==c){a=c[1];break}}o=n.helper.unescapeHTMLEntities(o),i.push(o),t[r].outerHTML='<precode language="'+a+'" precodenum="'+r.toString()+'"></precode>'}else i.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return i}(i)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var i=t.childNodes[n];3===i.nodeType?/\S/.test(i.nodeValue)||/^[ ]+$/.test(i.nodeValue)?(i.nodeValue=i.nodeValue.split("\n").join(" "),i.nodeValue=i.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(i),--n):1===i.nodeType&&e(i)}}(i);for(var o=i.childNodes,a="",s=0;s<o.length;s++)a+=n.subParser("makeMarkdown.node")(o[s],r);return a},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){p(e,t=t||null)},this.useExtension=function(e){p(e)},this.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=s[e];for(var i in u=e,n)n.hasOwnProperty(i)&&(t[i]=n[i])},this.getFlavor=function(){return u},this.removeExtension=function(e){n.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var r=e[t],o=0;o<i.length;++o)i[o]===r&&i.splice(o,1);for(var a=0;a<c.length;++a)c[a]===r&&c.splice(a,1)}},this.getAllExtensions=function(){return{language:i,output:c}},this.getMetadata=function(e){return e?h.raw:h.parsed},this.getMetadataFormat=function(){return h.format},this._setMetadataPair=function(e,t){h.parsed[e]=t},this._setMetadataFormat=function(e){h.format=e},this._setMetadataRaw=function(e){h.raw=e}},n.subParser("anchors",(function(e,t,i){var r=function(e,r,o,a,s,l,c){if(n.helper.isUndefined(c)&&(c=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(!a){if(o||(o=r.toLowerCase().replace(/ ?\n/g," ")),a="#"+o,n.helper.isUndefined(i.gUrls[o]))return e;a=i.gUrls[o],n.helper.isUndefined(i.gTitles[o])||(c=i.gTitles[o])}var d='<a href="'+(a=a.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(d+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(a)&&(d+=' rel="noopener noreferrer" target="¨E95Eblank"'),d+=">"+r+"</a>"};return e=(e=(e=(e=(e=i.converter._dispatch("anchors.before",e,t,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[([^\[\]]+)]()()()()()/g,r),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,i,r,o,a){if("\\"===r)return i+o;if(!n.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,a),l="";return t.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),i+'<a href="'+s+'"'+l+">"+o+"</a>"}))),e=i.converter._dispatch("anchors.after",e,t,i)}));var u=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,p=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,f=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,m=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(e){return function(t,i,r,o,a,s,l){var c=r=r.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),d="",u="",h=i||"",p=l||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(d=s),e.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="¨E95Eblank"'),h+'<a href="'+r+'"'+u+">"+c+"</a>"+d+p}},b=function(e,t){return function(i,r,o){var a="mailto:";return r=r||"",o=n.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(a=n.helper.encodeEmailAddress(a+o),o=n.helper.encodeEmailAddress(o)):a+=o,r+'<a href="'+a+'">'+o+"</a>"}};n.subParser("autoLinks",(function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(p,g(t))).replace(m,b(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)})),n.subParser("simplifiedAutoLinks",(function(e,t,n){return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(h,g(t)):e.replace(u,g(t))).replace(f,b(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),n.subParser("blockGamut",(function(e,t,i){return e=i.converter._dispatch("blockGamut.before",e,t,i),e=n.subParser("blockQuotes")(e,t,i),e=n.subParser("headers")(e,t,i),e=n.subParser("horizontalRule")(e,t,i),e=n.subParser("lists")(e,t,i),e=n.subParser("codeBlocks")(e,t,i),e=n.subParser("tables")(e,t,i),e=n.subParser("hashHTMLBlocks")(e,t,i),e=n.subParser("paragraphs")(e,t,i),e=i.converter._dispatch("blockGamut.after",e,t,i)})),n.subParser("blockQuotes",(function(e,t,i){e=i.converter._dispatch("blockQuotes.before",e,t,i),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=n.subParser("githubCodeBlocks")(e,t,i),e=(e=(e=n.subParser("blockGamut")(e,t,i)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),n.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,i)})),e=i.converter._dispatch("blockQuotes.after",e,t,i)})),n.subParser("codeBlocks",(function(e,t,i){e=i.converter._dispatch("codeBlocks.before",e,t,i);return e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,r,o){var a=r,s=o,l="\n";return a=n.subParser("outdent")(a,t,i),a=n.subParser("encodeCode")(a,t,i),a=(a=(a=n.subParser("detab")(a,t,i)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),a="<pre><code>"+a+l+"</code></pre>",n.subParser("hashBlock")(a,t,i)+s})),e=e.replace(/¨0/,""),e=i.converter._dispatch("codeBlocks.after",e,t,i)})),n.subParser("codeSpans",(function(e,t,i){return void 0===(e=i.converter._dispatch("codeSpans.before",e,t,i))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,r,o,a){var s=a;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=r+"<code>"+(s=n.subParser("encodeCode")(s,t,i))+"</code>",s=n.subParser("hashHTMLSpans")(s,t,i)})),e=i.converter._dispatch("codeSpans.after",e,t,i)})),n.subParser("completeHTMLDocument",(function(e,t,n){if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var i="html",r="<!DOCTYPE HTML>\n",o="",a='<meta charset="utf-8">\n',s="",l="";for(var c in void 0!==n.metadata.parsed.doctype&&(r="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(a='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":o="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":a="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return e=r+"<html"+s+">\n<head>\n"+o+a+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),n.subParser("detab",(function(e,t,n){return e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var n=t,i=4-n.length%4,r=0;r<i;r++)n+=" ";return n})),e=(e=e.replace(/¨A/g,"    ")).replace(/¨B/g,""),e=n.converter._dispatch("detab.after",e,t,n)})),n.subParser("ellipsis",(function(e,t,n){return t.ellipsis?(e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),e=n.converter._dispatch("ellipsis.after",e,t,n)):e})),n.subParser("emoji",(function(e,t,i){if(!t.emoji)return e;return e=(e=i.converter._dispatch("emoji.before",e,t,i)).replace(/:([\S]+?):/g,(function(e,t){return n.helper.emojis.hasOwnProperty(t)?n.helper.emojis[t]:e})),e=i.converter._dispatch("emoji.after",e,t,i)})),n.subParser("encodeAmpsAndAngles",(function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),n.subParser("encodeBackslashEscapes",(function(e,t,i){return e=(e=(e=i.converter._dispatch("encodeBackslashEscapes.before",e,t,i)).replace(/\\(\\)/g,n.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,n.helper.escapeCharactersCallback),e=i.converter._dispatch("encodeBackslashEscapes.after",e,t,i)})),n.subParser("encodeCode",(function(e,t,i){return e=(e=i.converter._dispatch("encodeCode.before",e,t,i)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,n.helper.escapeCharactersCallback),e=i.converter._dispatch("encodeCode.after",e,t,i)})),n.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,i){return e=(e=(e=i.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,i)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)})),e=i.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,i)})),n.subParser("githubCodeBlocks",(function(e,t,i){return t.ghCodeBlocks?(e=i.converter._dispatch("githubCodeBlocks.before",e,t,i),e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,r,o,a){var s=t.omitExtraWLInCodeBlocks?"":"\n";return a=n.subParser("encodeCode")(a,t,i),a="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(a=(a=(a=n.subParser("detab")(a,t,i)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",a=n.subParser("hashBlock")(a,t,i),"\n\n¨G"+(i.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"})),e=e.replace(/¨0/,""),i.converter._dispatch("githubCodeBlocks.after",e,t,i)):e})),n.subParser("hashBlock",(function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)})),n.subParser("hashCodeTags",(function(e,t,i){e=i.converter._dispatch("hashCodeTags.before",e,t,i);return e=n.helper.replaceRecursiveRegExp(e,(function(e,r,o,a){var s=o+n.subParser("encodeCode")(r,t,i)+a;return"¨C"+(i.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=i.converter._dispatch("hashCodeTags.after",e,t,i)})),n.subParser("hashElement",(function(e,t,n){return function(e,t){var i=t;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\n¨K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"}})),n.subParser("hashHTMLBlocks",(function(e,t,i){e=i.converter._dispatch("hashHTMLBlocks.before",e,t,i);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,n,r){var o=e;return-1!==n.search(/\bmarkdown\b/)&&(o=n+i.converter.makeHtml(t)+r),"\n\n¨K"+(i.gHtmlBlocks.push(o)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var a=0;a<r.length;++a)for(var s,l=new RegExp("^ {0,3}(<"+r[a]+"\\b[^>]*>)","im"),c="<"+r[a]+"\\b[^>]*>",d="</"+r[a]+">";-1!==(s=n.helper.regexIndexOf(e,l));){var u=n.helper.splitAtIndex(e,s),h=n.helper.replaceRecursiveRegExp(u[1],o,c,d,"im");if(h===u[1])break;e=u[0].concat(h)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,i)),e=(e=n.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,i)),e=i.converter._dispatch("hashHTMLBlocks.after",e,t,i)})),n.subParser("hashHTMLSpans",(function(e,t,n){function i(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return i(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return i(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return i(e)}))).replace(/<[^>]+?>/gi,(function(e){return i(e)})),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),n.subParser("unhashHTMLSpans",(function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var i=0;i<n.gHtmlSpans.length;++i){for(var r=n.gHtmlSpans[i],o=0;/¨C(\d+)C/.test(r);){var a=RegExp.$1;if(r=r.replace("¨C"+a+"C",n.gHtmlSpans[a]),10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("¨C"+i+"C",r)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),n.subParser("hashPreCodeTags",(function(e,t,i){e=i.converter._dispatch("hashPreCodeTags.before",e,t,i);return e=n.helper.replaceRecursiveRegExp(e,(function(e,r,o,a){var s=o+n.subParser("encodeCode")(r,t,i)+a;return"\n\n¨G"+(i.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=i.converter._dispatch("hashPreCodeTags.after",e,t,i)})),n.subParser("headers",(function(e,t,i){e=i.converter._dispatch("headers.before",e,t,i);var r=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,(function(e,o){var a=n.subParser("spanGamut")(o,t,i),s=t.noHeaderId?"":' id="'+l(o)+'"',c="<h"+r+s+">"+a+"</h"+r+">";return n.subParser("hashBlock")(c,t,i)}))).replace(a,(function(e,o){var a=n.subParser("spanGamut")(o,t,i),s=t.noHeaderId?"":' id="'+l(o)+'"',c=r+1,d="<h"+c+s+">"+a+"</h"+c+">";return n.subParser("hashBlock")(d,t,i)}));var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var r,o;if(t.customizedHeaderId){var a=e.match(/\{([^{]+?)}\s*$/);a&&a[1]&&(e=a[1])}return r=e,o=n.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(r=o+r),r=t.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(r=o+r),i.hashLinkCounts[r]?r=r+"-"+i.hashLinkCounts[r]++:i.hashLinkCounts[r]=1,r}return e=e.replace(s,(function(e,o,a){var s=a;t.customizedHeaderId&&(s=a.replace(/\s?\{([^{]+?)}\s*$/,""));var c=n.subParser("spanGamut")(s,t,i),d=t.noHeaderId?"":' id="'+l(a)+'"',u=r-1+o.length,h="<h"+u+d+">"+c+"</h"+u+">";return n.subParser("hashBlock")(h,t,i)})),e=i.converter._dispatch("headers.after",e,t,i)})),n.subParser("horizontalRule",(function(e,t,i){e=i.converter._dispatch("horizontalRule.before",e,t,i);var r=n.subParser("hashBlock")("<hr />",t,i);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),e=i.converter._dispatch("horizontalRule.after",e,t,i)})),n.subParser("images",(function(e,t,i){function r(e,t,r,o,a,s,l,c){var d=i.gUrls,u=i.gTitles,h=i.gDimensions;if(r=r.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==r&&null!==r||(r=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,n.helper.isUndefined(d[r]))return e;o=d[r],n.helper.isUndefined(u[r])||(c=u[r]),n.helper.isUndefined(h[r])||(a=h[r].width,s=h[r].height)}t=t.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var p='<img src="'+(o=o.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&n.helper.isString(c)&&(p+=' title="'+(c=c.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),a&&s&&(p+=' width="'+(a="*"===a?"auto":a)+'"',p+=' height="'+(s="*"===s?"auto":s)+'"'),p+=" />"}return e=(e=(e=i.converter._dispatch("images.before",e,t,i)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,i,o,a,s,l){return r(e,t,n,i=i.replace(/\s/g,""),o,a,s,l)})),e=(e=(e=e.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r)).replace(/!\[([^\[\]]+)]()()()()()/g,r),e=i.converter._dispatch("images.after",e,t,i)})),n.subParser("italicsAndBold",(function(e,t,n){function i(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),t.literalMidWordUnderscores?e=(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return i(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return i(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return i(t,"<em>","</em>")})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e})),e=e.replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e})),e=e.replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e}))),t.literalMidWordAsterisks?e=(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return i(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return i(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return i(n,t+"<em>","</em>")})):(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e})),e=e.replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e})),e=e.replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e}))),e=n.converter._dispatch("italicsAndBold.after",e,t,n)})),n.subParser("lists",(function(e,t,i){function r(e,r){i.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=e.replace(o,(function(e,r,o,s,l,c,d){d=d&&""!==d.trim();var u=n.subParser("outdent")(l,t,i),h="";return c&&t.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return d&&(e+=" checked"),e+=">"}))),u=u.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),r||u.search(/\n{2,}/)>-1?(u=n.subParser("githubCodeBlocks")(u,t,i),u=n.subParser("blockGamut")(u,t,i)):(u=(u=n.subParser("lists")(u,t,i)).replace(/\n$/,""),u=(u=n.subParser("hashHTMLBlocks")(u,t,i)).replace(/\n\n+/g,"\n\n"),u=a?n.subParser("paragraphs")(u,t,i):n.subParser("spanGamut")(u,t,i)),u="<li"+h+">"+(u=u.replace("¨A",""))+"</li>\n"})),e=e.replace(/¨0/g,""),i.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function a(e,n,i){var a=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?a:s,c="";if(-1!==e.search(l))!function t(d){var u=d.search(l),h=o(e,n);-1!==u?(c+="\n\n<"+n+h+">\n"+r(d.slice(0,u),!!i)+"</"+n+">\n",l="ul"===(n="ul"===n?"ol":"ul")?a:s,t(d.slice(u))):c+="\n\n<"+n+h+">\n"+r(d,!!i)+"</"+n+">\n"}(e);else{var d=o(e,n);c="\n\n<"+n+d+">\n"+r(e,!!i)+"</"+n+">\n"}return c}return e=i.converter._dispatch("lists.before",e,t,i),e+="¨0",e=(e=i.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return a(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,i){return a(n,i.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=i.converter._dispatch("lists.after",e,t,i)})),n.subParser("metadata",(function(e,t,n){if(!t.metadata)return e;function i(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,i){return n.metadata.parsed[t]=i,""}))}return e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,n){return i(n),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,r){return t&&(n.metadata.format=t),i(r),"¨M"})),e=e.replace(/¨M/g,""),e=n.converter._dispatch("metadata.after",e,t,n)})),n.subParser("outdent",(function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=n.converter._dispatch("outdent.after",e,t,n)})),n.subParser("paragraphs",(function(e,t,i){for(var r=(e=(e=(e=i.converter._dispatch("paragraphs.before",e,t,i)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=r.length,s=0;s<a;s++){var l=r[s];l.search(/¨(K|G)(\d+)\1/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=n.subParser("spanGamut")(l,t,i)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(a=o.length,s=0;s<a;s++){for(var c="",d=o[s],u=!1;/¨(K|G)(\d+)\1/.test(d);){var h=RegExp.$1,p=RegExp.$2;c=(c="K"===h?i.gHtmlBlocks[p]:u?n.subParser("encodeCode")(i.ghCodeBlocks[p].text,t,i):i.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),d=d.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(d)&&(u=!0)}o[s]=d}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),i.converter._dispatch("paragraphs.after",e,t,i)})),n.subParser("runExtension",(function(e,t,n,i){if(e.filter)t=e.filter(t,i.converter,n);else if(e.regex){var r=e.regex;r instanceof RegExp||(r=new RegExp(r,"g")),t=t.replace(r,e.replace)}return t})),n.subParser("spanGamut",(function(e,t,i){return e=i.converter._dispatch("spanGamut.before",e,t,i),e=n.subParser("codeSpans")(e,t,i),e=n.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,i),e=n.subParser("encodeBackslashEscapes")(e,t,i),e=n.subParser("images")(e,t,i),e=n.subParser("anchors")(e,t,i),e=n.subParser("autoLinks")(e,t,i),e=n.subParser("simplifiedAutoLinks")(e,t,i),e=n.subParser("emoji")(e,t,i),e=n.subParser("underline")(e,t,i),e=n.subParser("italicsAndBold")(e,t,i),e=n.subParser("strikethrough")(e,t,i),e=n.subParser("ellipsis")(e,t,i),e=n.subParser("hashHTMLSpans")(e,t,i),e=n.subParser("encodeAmpsAndAngles")(e,t,i),t.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=i.converter._dispatch("spanGamut.after",e,t,i)})),n.subParser("strikethrough",(function(e,t,i){return t.strikethrough&&(e=(e=i.converter._dispatch("strikethrough.before",e,t,i)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,r){return function(e){return t.simplifiedAutoLink&&(e=n.subParser("simplifiedAutoLinks")(e,t,i)),"<del>"+e+"</del>"}(r)})),e=i.converter._dispatch("strikethrough.after",e,t,i)),e})),n.subParser("stripLinkDefinitions",(function(e,t,i){var r=function(r,o,a,s,l,c,d){return o=o.toLowerCase(),e.toLowerCase().split(o).length-1<2?r:(a.match(/^data:.+?\/.+?;base64,/)?i.gUrls[o]=a.replace(/\s/g,""):i.gUrls[o]=n.subParser("encodeAmpsAndAngles")(a,t,i),c?c+d:(d&&(i.gTitles[o]=d.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&l&&(i.gDimensions[o]={width:s,height:l}),""))};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,r)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,r)).replace(/¨0/,"")})),n.subParser("tables",(function(e,t,i){if(!t.tables)return e;function r(e,r){return"<td"+r+">"+n.subParser("spanGamut")(e,t,i)+"</td>\n"}function o(e){var o,a=e.split("\n");for(o=0;o<a.length;++o)/^ {0,3}\|/.test(a[o])&&(a[o]=a[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(a[o])&&(a[o]=a[o].replace(/\|[ \t]*$/,"")),a[o]=n.subParser("codeSpans")(a[o],t,i);var s,l,c,d,u=a[0].split("|").map((function(e){return e.trim()})),h=a[1].split("|").map((function(e){return e.trim()})),p=[],f=[],m=[],g=[];for(a.shift(),a.shift(),o=0;o<a.length;++o)""!==a[o].trim()&&p.push(a[o].split("|").map((function(e){return e.trim()})));if(u.length<h.length)return e;for(o=0;o<h.length;++o)m.push((s=h[o],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(o=0;o<u.length;++o)n.helper.isUndefined(m[o])&&(m[o]=""),f.push((l=u[o],c=m[o],d=void 0,d="",l=l.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(d=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+d+c+">"+(l=n.subParser("spanGamut")(l,t,i))+"</th>\n"));for(o=0;o<p.length;++o){for(var b=[],v=0;v<f.length;++v)n.helper.isUndefined(p[o][v]),b.push(r(p[o][v],m[v]));g.push(b)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",i=e.length,r=0;r<i;++r)n+=e[r];for(n+="</tr>\n</thead>\n<tbody>\n",r=0;r<t.length;++r){n+="<tr>\n";for(var o=0;o<i;++o)n+=t[r][o];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(f,g)}return e=(e=(e=(e=i.converter._dispatch("tables.before",e,t,i)).replace(/\\(\|)/g,n.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,o),e=i.converter._dispatch("tables.after",e,t,i)})),n.subParser("underline",(function(e,t,i){return t.underline?(e=i.converter._dispatch("underline.before",e,t,i),t.literalMidWordUnderscores?e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})),e=e.replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))),e=e.replace(/(_)/g,n.helper.escapeCharactersCallback),e=i.converter._dispatch("underline.after",e,t,i)):e})),n.subParser("unescapeSpecialChars",(function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),n.subParser("makeMarkdown.blockquote",(function(e,t){var i="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a){var s=n.subParser("makeMarkdown.node")(r[a],t);""!==s&&(i+=s)}return i="> "+(i=i.trim()).split("\n").join("\n> ")})),n.subParser("makeMarkdown.codeBlock",(function(e,t){var n=e.getAttribute("language"),i=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[i]+"\n```"})),n.subParser("makeMarkdown.codeSpan",(function(e){return"`"+e.innerHTML+"`"})),n.subParser("makeMarkdown.emphasis",(function(e,t){var i="";if(e.hasChildNodes()){i+="*";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);i+="*"}return i})),n.subParser("makeMarkdown.header",(function(e,t,i){var r=new Array(i+1).join("#"),o="";if(e.hasChildNodes()){o=r+" ";for(var a=e.childNodes,s=a.length,l=0;l<s;++l)o+=n.subParser("makeMarkdown.node")(a[l],t)}return o})),n.subParser("makeMarkdown.hr",(function(){return"---"})),n.subParser("makeMarkdown.image",(function(e){var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),n.subParser("makeMarkdown.links",(function(e,t){var i="";if(e.hasChildNodes()&&e.hasAttribute("href")){var r=e.childNodes,o=r.length;i="[";for(var a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);i+="](",i+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(i+=' "'+e.getAttribute("title")+'"'),i+=")"}return i})),n.subParser("makeMarkdown.list",(function(e,t,i){var r="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,a=o.length,s=e.getAttribute("start")||1,l=0;l<a;++l)if(void 0!==o[l].tagName&&"li"===o[l].tagName.toLowerCase()){r+=("ol"===i?s.toString()+". ":"- ")+n.subParser("makeMarkdown.listItem")(o[l],t),++s}return(r+="\n\x3c!-- --\x3e\n").trim()})),n.subParser("makeMarkdown.listItem",(function(e,t){for(var i="",r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);return/\n$/.test(i)?i=i.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):i+="\n",i})),n.subParser("makeMarkdown.node",(function(e,t,i){i=i||!1;var r="";if(3===e.nodeType)return n.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":i||(r=n.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":i||(r=n.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":i||(r=n.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":i||(r=n.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":i||(r=n.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":i||(r=n.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":i||(r=n.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":i||(r=n.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":i||(r=n.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":i||(r=n.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":i||(r=n.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":i||(r=n.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":i||(r=n.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":i||(r=n.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=n.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=n.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=n.subParser("makeMarkdown.strong")(e,t);break;case"del":r=n.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=n.subParser("makeMarkdown.links")(e,t);break;case"img":r=n.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r})),n.subParser("makeMarkdown.paragraph",(function(e,t){var i="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);return i=i.trim()})),n.subParser("makeMarkdown.pre",(function(e,t){var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),n.subParser("makeMarkdown.strikethrough",(function(e,t){var i="";if(e.hasChildNodes()){i+="~~";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);i+="~~"}return i})),n.subParser("makeMarkdown.strong",(function(e,t){var i="";if(e.hasChildNodes()){i+="**";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t);i+="**"}return i})),n.subParser("makeMarkdown.table",(function(e,t){var i,r,o="",a=[[],[]],s=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(i=0;i<s.length;++i){var c=n.subParser("makeMarkdown.tableCell")(s[i],t),d="---";if(s[i].hasAttribute("style"))switch(s[i].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":d=":---";break;case"text-align:right;":d="---:";break;case"text-align:center;":d=":---:"}a[0][i]=c.trim(),a[1][i]=d}for(i=0;i<l.length;++i){var u=a.push([])-1,h=l[i].getElementsByTagName("td");for(r=0;r<s.length;++r){var p=" ";void 0!==h[r]&&(p=n.subParser("makeMarkdown.tableCell")(h[r],t)),a[u].push(p)}}var f=3;for(i=0;i<a.length;++i)for(r=0;r<a[i].length;++r){var m=a[i][r].length;m>f&&(f=m)}for(i=0;i<a.length;++i){for(r=0;r<a[i].length;++r)1===i?":"===a[i][r].slice(-1)?a[i][r]=n.helper.padEnd(a[i][r].slice(-1),f-1,"-")+":":a[i][r]=n.helper.padEnd(a[i][r],f,"-"):a[i][r]=n.helper.padEnd(a[i][r],f);o+="| "+a[i].join(" | ")+" |\n"}return o.trim()})),n.subParser("makeMarkdown.tableCell",(function(e,t){var i="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)i+=n.subParser("makeMarkdown.node")(r[a],t,!0);return i.trim()})),n.subParser("makeMarkdown.txt",(function(e){var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/¨NBSP;/g," "),t=(t=(t=(t=(t=(t=(t=(t=(t=n.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));e.exports?e.exports=n:this.showdown=n}).call(r)}(Jc);var Kc=Wc;Kc.setFlavor("github"),Yc.addHook("afterSanitizeAttributes",(function(e){"target"in e&&e.setAttribute("target","_blank"),e.hasAttribute("target")||!e.hasAttribute("xlink:href")&&!e.hasAttribute("href")||e.setAttribute("xlink:show","new")}));const Xc=new Kc.Converter,Zc=document.createElement("div");var Qc={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]};qi.add({prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]}),qi.add({prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]}),qi.add(Hi),qi.add(Ui),qi.add({prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]}),qi.add({prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512a128 128 0 1 0 0-256 128 128 0 1 0 0 256z"]}),qi.add({prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"]}),qi.add({prefix:"far",iconName:"clipboard",icon:[384,512,[128203],"f328","M280 64h40c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h40 9.6C121 27.5 153.3 0 192 0s71 27.5 78.4 64H280zM64 112c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V128c0-8.8-7.2-16-16-16H304v24c0 13.3-10.7 24-24 24H192 104c-13.3 0-24-10.7-24-24V112H64zm128-8a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]}),qi.add(nr),qi.add(Oi),qi.add(tr),qi.add(Gi),qi.add({prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]}),qi.add(Qc),qi.add(Li),qi.add(zi),qi.add(Yi),qi.add({prefix:"fas",iconName:"grip-vertical",icon:[320,512,[],"f58e","M40 352l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zm192 0l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 320c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 192l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 160c-22.1 0-40-17.9-40-40L0 72C0 49.9 17.9 32 40 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40z"]}),qi.add(Qi),qi.add(Xi),qi.add(Ri),qi.add(Bi),qi.add(Fi),qi.add(Wi),qi.add(er),qi.add({prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"]}),qi.add($i),qi.add(ji),qi.add({prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]}),qi.add({prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]}),qi.add({prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]}),qi.add({prefix:"fas",iconName:"tv",icon:[640,512,[63717,"television","tv-alt"],"f26c","M64 64V352H576V64H64zM0 64C0 28.7 28.7 0 64 0H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM128 448H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]}),qi.add({prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]}),qi.add(Ki),qi.add({prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]}),qi.add({prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]}),qi.add({prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]}),qi.add({prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]}),qi.add({prefix:"far",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]}),qi.add({prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]}),qi.add(Vi);const ed=Di({prefix:"fas",iconName:"spinner"}),td=Di({prefix:"fas",iconName:"upload"}),nd=Di({prefix:"fas",iconName:"arrow-circle-left"});Di({prefix:"fas",iconName:"arrow-circle-right"});const id=Di({prefix:"fas",iconName:"ban"}),rd=Di({prefix:"fas",iconName:"shapes"}),od=Di({prefix:"fas",iconName:"share"}),ad=Di({prefix:"far",iconName:"clipboard"}),sd=Di({prefix:"fas",iconName:"search-plus"}),ld=Di({prefix:"fas",iconName:"trash-alt"}),cd=Di({prefix:"fas",iconName:"exclamation-triangle"}),dd=Di({prefix:"fas",iconName:"info-circle"}),ud=Di({prefix:"fas",iconName:"check-circle"}),hd=Di({prefix:"far",iconName:"square"}),pd=Di({prefix:"far",iconName:"check-square"}),fd=Di({prefix:"fas",iconName:"pencil-alt"}),md=Di({prefix:"fas",iconName:"grip-vertical"}),gd=Di({prefix:"fas",iconName:"times"});Di({prefix:"fas",iconName:"play-circle"});const bd=Di({prefix:"fas",iconName:"play"}),vd=Di({prefix:"fas",iconName:"pause"});Di({prefix:"fas",iconName:"pause-circle"});const yd=Di({prefix:"fas",iconName:"cog"}),_d=Di({prefix:"fas",iconName:"plus-circle"});Di({prefix:"fas",iconName:"external-link-alt"}),Di({prefix:"fas",iconName:"list"});const wd=Di({prefix:"fas",iconName:"chevron-down"});Di({prefix:"fas",iconName:"chevron-right"}),Di({prefix:"fas",iconName:"chevron-left"}),Di({prefix:"fas",iconName:"chevron-circle-up"}),Di({prefix:"fas",iconName:"chevron-circle-down"});const kd=Di({prefix:"fas",iconName:"tv"}),xd=Di({prefix:"fas",iconName:"camera"}),Cd=Di({prefix:"fas",iconName:"ellipsis-v"}),Sd=Di({prefix:"fas",iconName:"code"}),Ed=Di({prefix:"fab",iconName:"facebook-f"}),Td=Di({prefix:"fab",iconName:"twitter"}),Ad=Di({prefix:"fab",iconName:"linkedin-in"}),Pd=Di({prefix:"far",iconName:"envelope"}),Md=Di({prefix:"fas",iconName:"comment"}),Id=Di({prefix:"fas",iconName:"question-circle"});window.customElements.define("ion-button",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
          box-sizing: border-box;
          user-select: none;
        }
        :host(:focus) {
          outline: 0;
        }
        .btn {
          font-family: var(--font-family);
          font-size: var(--font-size);
          font-weight: normal;
          display: inline-block;
          text-align: center;
          white-space: nowrap;
          vertical-align: middle;
          border-color: var(--border-color, transparent);
          border-style: var(--border-style, solid);
          border-width: var(--border-width, 1px);
          padding: var(--button-padding, 0.4rem 1rem);
          user-select: none;
          line-height: 1.35;
          border-radius: var(--border-radius);
          cursor: pointer;
        }
        .btn:focus {
          outline: 0;
        }
        .btn > * {
          pointer-events: none;
        }
        :host(.btn-small) .btn {
          font-size: var(--font-size-small);
          padding: 0.2rem 0.4rem;
        }
        ::slotted(svg) {
          height: 0.8rem;
          width: 0.8rem;
          vertical-align: middle;
          margin-right: 0.3rem;
          margin-top: -0.2rem;
        }
        .btn-primary {
          color: var(--text-light);
          fill: var(--text-light);
          background-color: var(--brand-primary);
          border-color: var(--brand-primary-shade);
        }
        .btn-primary:hover {
          background-color: var(--brand-primary-shade);
        }
        .btn-primary:active {
          background-color: var(--brand-primary-dark);
        }
        .btn-dark {
          color: var(--text-light);
          fill: var(--text-light);
          background-color: var(--brand-dark);
          border-color: var(--brand-dark-shade);
        }
        .btn-dark:hover {
          background-color: var(--brand-primary);
          border-color: var(--brand-primary-shade);
        }
        .btn-dark:active {
          background-color: var(--brand-primary-shade);
        }
        .btn-default {
          fill: var(--text-color);
          color: var(--text-color);
          background-color: var(--container-bg);
          border-color: var(--border-color);
        }
        .btn-default:hover {
          background-color: var(--brand-primary-tint);
        }
        .btn-default:active {
          background-color: var(--gray-lighter);
        }
        :host([disabled]) .btn {
          background-color: var(--gray-light);
          color: var(--text-muted);
          border-color: transparent;
          cursor: default;
        }
        :host([disabled]) .btn:active {
          border-color: transparent;
        }
      `]}static get properties(){return{theme:{type:String},disabled:{type:Boolean,reflect:!0}}}constructor(){super(),this.theme="default",this.disabled=!1}render(){return G`
      <button
        class="btn btn-${this.theme}"
        type="button"
        ?disabled=${this.disabled}
      >
        <slot></slot>
      </button>
    `}});var qd=p`
  :host {
    display: block;
    box-sizing: border-box;
    font-size: var(--font-size);
  }
  :host(:focus) {
    outline: 0;
  }
  :host([hidden]),
  *[hidden] {
    display: none;
  }
  label {
    color: var(--text-color);
    font-size: var(--font-size-large);
  }
  :host([required]) label::after {
    color: var(--text-muted);
    font-size: var(--font-size-small);
    content: " (required)";
  }
  .ion-form-input {
    width: 100%;
    height: 2.5rem;
    line-height: 1.5;
    color: var(--text-color);
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-family: var(--font-family);
    margin-top: 0.2rem;
    font-size: inherit;
    display: block;
    box-sizing: border-box;
  }
  .ion-form-input:invalid {
    border-color: var(--border-color);
    box-shadow: none;
  }
  .ion-form-input.invalid {
    border-color: var(--brand-danger);
    box-shadow: 0px 0px 3px 0px var(--brand-danger);
  }
  input.ion-form-input {
    padding: 0 1rem;
  }
  textarea.ion-form-input {
    padding: 0.5rem 1rem;
  }
  .ion-form-input:active,
  .ion-form-input:focus {
    border-color: var(--brand-primary-tint);
    outline: 0;
    box-shadow: 0 0 0.25rem rgba(45, 135, 196, 0.4);
  }
  textarea {
    border-radius: 15px;
    resize: vertical;
  }

  :host([disabled]) {
    pointer-events: none;
  }
  :host([disabled]) .ion-form-input {
    background-color: var(--gray-light);
    color: var(--text-muted);
  }
`;window.customElements.define("ion-select",class extends pe{static get styles(){return[qd,p`
        select {
          cursor: pointer;
        }
        .ion-form-input {
          padding: 0.63rem 1rem;
          width: 100%;
        }
      `]}static get properties(){return{label:{type:String},value:{type:Object},values:{type:Array}}}constructor(){super(),this.label="",this._value=void 0,this._values=[],this._elementId=`ion-${e.createGuid()}`}get value(){return this._value}set value(e){this._value=e,this.requestUpdate()}get values(){return this._values}set values(e){this._values=e,this.requestUpdate()}render(){return G`
      ${""!==this.label?G`<label for="${this._elementId}">${this.label}</label>`:""}
      <select class="ion-form-input" @change="${this._valueChange}">
        ${this._values.map((e=>G`<option ?disabled=${e.disabled} value="${e.id}">
              ${e.name}
            </option>`))}
      </select>
    `}updated(){this._setSelectValue()}_valueChange(e){const t=e.target.selectedIndex;t<0||(this._value=this._values[t].id,this.dispatchEvent(new CustomEvent("change")))}_setSelectValue(){const e=this.shadowRoot.querySelector("select");if(void 0===this._value)return this._value=this.values[0].id,e.selectedIndex=0,void this.dispatchEvent(new CustomEvent("change"));const t=this.values.findIndex((e=>e.id===this._value));e.selectedIndex=t}});window.customElements.define("ion-textfield",class extends pe{static get styles(){return[qd]}static get properties(){return{label:{type:String},value:{type:String},readonly:{type:Boolean},required:{type:Boolean},disabled:{type:Boolean}}}constructor(){super(),this.label="",this.readonly=!1,this.required=!1,this.disabled=!1,this._value="",this._elementId=`ion-${e.createGuid()}`}get value(){const t=this.shadowRoot?.querySelector(`#${this._elementId}`);return e.defined(t)&&(this._value=t.value),this._value}set value(t){this._value=t;const n=this.shadowRoot?.querySelector(`#${this._elementId}`);e.defined(n)&&(n.value=t),this.requestUpdate()}checkValidity(){const e=this.shadowRoot.querySelector(`#${this._elementId}`);return this.required&Zs(e.value)?(e.classList.add("invalid"),!1):(e.classList.remove("invalid"),!0)}clearValidation(){this.shadowRoot.querySelector(`#${this._elementId}`).classList.remove("invalid")}select(){const t=this.shadowRoot?.querySelector(`#${this._elementId}`);e.defined(t)&&select(t)}keyup(){this.dispatchEvent(new CustomEvent("keyup",{detail:{text:this.value}}))}render(){return G`
      ${""!==this.label?G`<label for="${this._elementId}">${this.label}</label>`:""}
      <input
        id="${this._elementId}"
        class="ion-form-input"
        type="text"
        .value="${this._value}"
        ?readonly=${this.readonly}
        ?required=${this.required}
        ?disabled=${this.disabled}
        @focus=${this.clearValidation}
        @keyup=${this.keyup}
      />
    `}});const Nd=[Lr.AssetType.GLTF,Lr.AssetType.TERRAIN],Dd=Lr.AssetType.getTypes().filter((e=>!Nd.includes(e)));let Od;const Ld=[Lr.AssetStatus.COMPLETE,Lr.AssetStatus.ERROR,Lr.AssetStatus.DATA_ERROR,Lr.AssetStatus.NOT_STARTED,Lr.AssetStatus.IN_PROGRESS];class $d extends(gr(Al)(pe)){static get styles(){return[ql,p`
        .assets {
          display: flex;
          width: 100%;
        }
        #assetList {
          width: calc(50% - 1rem);
          margin-right: 1rem;
          cursor: pointer;
          border-color: var(--border-color);
          border-radius: var(--border-radius);
          color: var(--text-color);
          font-family: var(--font-family);
          font-size: var(--font-size);
          outline: none;
        }
        #description {
          display: block;
          width: 50%;
          background-color: var(--container-bg);
          border: 1px solid var(--border-color);
          padding: 0 1rem;
          border-radius: var(--border-radius);
          max-height: 200px;
          overflow-y: auto;
        }
        #sort-filter {
          width: 100%;
          margin-bottom: 1rem;
          justify-content: space-around;
        }
        #sort-filter > * {
          display: inline-block;
          vertical-align: bottom;
          margin-right: 1rem;
        }
        #sort-filter > *:last-child {
          margin-right: 0;
        }
        #sort-filter > ion-textfield {
          width: calc(50% - 1rem);
        }
        #sort-filter > ion-select {
          width: calc(25% - 0.5rem);
        }
        #upload a svg {
          height: 0.75rem;
        }
      `]}static get properties(){return{_userAssets:{type:Array},_addedAssetIds:{type:Array},_selectedId:{type:Number},_filterType:{type:String},_searchText:{type:String}}}constructor(){super(),this._addedAssetIds=[],this._userAssets=[],this._selectedId=void 0,this._filterType=void 0,this._searchText="",this._polling=!1,this._sortBy="NAME",this._pollTimeout=void 0,this._searchTimeout=void 0}connectedCallback(){super.connectedCallback(),this.pollAssets()}disconnectedCallback(){super.disconnectedCallback(),this._polling=!1}_schedulePoll(e){this._polling&&(this._pollTimeout=setTimeout((()=>{this._polling&&this.pollAssets()}),e))}async _loadFivePages(){let t=[];for(let n=0;n<5;n++){const i=await gs({limit:1e3,search:this._searchText,sortBy:this._sortBy,type:e.defined(this._filterType)?this._filterType:Dd,status:Ld,page:n+1});if(t=t.concat(i.items),!e.defined(i.links.next))break}return t}async pollAssets(){let t,n;clearTimeout(this._pollTimeout),this._polling=!0;try{n=this._loadFivePages(),this._promise=n,t=await n}catch(e){return void this._schedulePoll(1e4)}this._polling&&this._promise===n&&(this._userAssets=t,this._selectedId=e.defined(t[0])?t[0].id:void 0,this._polling=this._userAssets.some((e=>Lr.AssetStatus.isPending(e.status))),this._schedulePoll(5e3))}render(){const t=this._userAssets.filter((e=>-1===this._addedAssetIds.findIndex((t=>t.id===e.id))));let n;e.defined(this._selectedId)&&(n=t.find((e=>e.id===this._selectedId)),e.defined(n)||(this._selectedId=void 0));const i=e.defined(n);let r="";return i&&(r=function(e,t){let n=Yc.sanitize(Xc.makeHtml(e));Zc.innerHTML=n;const i=Zc.querySelectorAll("a");for(let e=0;e<i.length;e++)i[e].setAttribute("target","_blank"),i[e].setAttribute("rel","noopener");return n=Zc.innerHTML,t&&(n=n.replace(/<p>/g,"<span>"),n=n.replace(/<\/p>/g,"</span>")),n}(n.description)),G`
      <h1>Select an asset</h1>
      <div id="sort-filter">
        <ion-textfield
          @input=${this._changeSearch}
          .label=${"Search"}
        ></ion-textfield
        ><ion-select
          @change=${this._changeTypeFilter}
          .label=${"Asset type"}
          .values=${e.defined(Od)||(Od=Dd.map((e=>({id:e,name:Lr.AssetType.toString(e)}))),Od.unshift({id:"ALL",name:"All"})),Od}
        ></ion-select
        ><ion-select
          @change=${this._changeSort}
          .label=${"Sort by"}
          .values=${[{id:"NAME",name:"Name"},{id:"DATE_ADDED",name:"Date added"}]}
        ></ion-select>
      </div>
      <div class="assets">
        <select
          size="10"
          id="assetList"
          @change=${this._selectAsset}
          data-selected=${this._selectedId}
        >
          ${Ul(t,(e=>e.id),(e=>{let t=e.name,n=!1;return e.status===Lr.AssetStatus.IN_PROGRESS||e.status===Lr.AssetStatus.NOT_STARTED?t+=` (${e.percentComplete}%)`:Lr.AssetStatus.isError(e.status)&&(n=!0,t+=" (Error)"),G`
                <option
                  value="${e.id}"
                  ?disabled=${n}
                  ?selected=${e.id===this._selectedId}
                  @dblclick=${this._addAsset}
                >
                  ${t}
                </option>
              `}))}
        </select>
        <div id="description">
          ${""!==r?G`${Vl(r)}`:G`<p class="muted">No description provided</p>`}
        </div>
      </div>
      <div id="upload" class="margin-bottom">
        <a @click=${this._uploadAsset}>${td.node} Upload new asset</a>
      </div>
      <ion-button
        theme="primary"
        @click=${this._addAsset}
        ?disabled=${!i}
        >Add</ion-button
      >
      <ion-button theme="default" @click=${this._cancel}>Cancel</ion-button>
    `}_changeSearch(e){this._searchText=e.target.value.toLowerCase(),clearTimeout(this._searchTimeout),this._searchTimeout=setTimeout((()=>{this.pollAssets()}),400)}_changeTypeFilter(e){const t="ALL"===e.target.value?void 0:e.target.value;t!==this._filterType&&(this._filterType=t,this.pollAssets())}_changeSort(e){e.target.value!==this._sortBy&&(this._sortBy=e.target.value,this.pollAssets())}_selectAsset(e){this._selectedId=Number(e.target.value)}_uploadAsset(){Al.dispatch(lo(rl))}async _addAsset(){const t=this._selectedId;if(e.defined(t)){const e=this._userAssets.find((e=>e.id===t));this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0,detail:{asset:e}}))}}_cancel(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}stateChanged(e){e.story.assets.ids!==this._addedAssetIds&&(this._addedAssetIds=e.story.assets.ids)}}window.customElements.define("ion-asset-selector",$d);class Rd extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          position: fixed;
          top: 3rem;
          bottom: 1.5rem;
          right: 0;
          left: 0;
          z-index: 3;
          background-color: var(--container-bg);
        }

        #storiesFrame {
          width: 100%;
          height: 100%;
        }
      `]}static get properties(){return{droppedFiles:{type:Object},iframeLoaded:{type:Boolean}}}constructor(){super(),this.droppedFiles=void 0,this.iframeLoaded=!1,this.onMessage=this.onMessage.bind(this),this._contentWindow=void 0,this._activeSlide=void 0}async addDroppedFiles(t){if(e.defined(t))if(this.iframeLoaded){const e=(t=await t).map((e=>e.__ionKey));this._contentWindow.postMessage({files:t,paths:e},window.location.origin,[])}else this.droppedFiles=t}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage,!1)}disconnectedCallback(){window.removeEventListener("message",this.onMessage,!1),super.disconnectedCallback()}createOnProgressUpdate(t,n,i){const r={loaded:0,total:0};let o=0;return a=>{e.defined(a.total)&&a.total>0?(r.loaded=a.loaded,r.total=a.total):a.loaded>0&&(r.loaded=r.total);const s=Math.round(99*(r.loaded/r.total+n)/i);s>o&&(o=s,Al.dispatch(po(t,s)))}}async onMessage(t){if(t.data.ready)return this.iframeLoaded=!0,void this.addDroppedFiles(this.droppedFiles);if(this.dispatchEvent(new CustomEvent("close")),t.data.cancel)return;const n=t.data,i=n.metadata,r=n.archiveToggled,o=await async function(t){return e.Resource.postJson({url:`${fs}v1/assets`,data:t})}(i);if(r)try{await async function(t,n){return e.Resource.postJson({url:`${fs}v1/assets/${t}/archives`,data:n})}(o.assetMetadata.id,{format:"ZIP"})}catch(e){Al.dispatch(co("archiveError","The asset was created but there was an error enabling archiving."))}const a=o.isExternal?o:o.assetMetadata;a.type===Lr.AssetType.TERRAIN?Al.dispatch(Bs(this._activeSlide.id,{terrainAssetId:a.id})):Al.dispatch(Fs(a.id));const s=o.uploadLocation;if(!e.defined(s))return;const l=n.keys,c=n.bodies,d=new AWS.S3({apiVersion:"2006-03-01",region:"us-east-1",signatureVersion:"v4",endpoint:s.endpoint,credentials:new AWS.Credentials(s.accessKey,s.secretAccessKey,s.sessionToken)});Al.dispatch(po(a.id,0));const u=c.length;for(let e=0;e<u;e++){const t=s.prefix+l[e],n=d.upload({Body:c[e],Bucket:s.bucket,ContentType:"application/octet-stream",Key:t});n.on("httpUploadProgress",this.createOnProgressUpdate(a.id,e,u)),await n.promise()}Al.dispatch(po(a.id,100));const h=o.onComplete;await e.Resource.postJson({url:h.url,method:h.method,body:h.fields})}render(){return G`
      <ion-loading-icon
        ?hidden=${this.iframeLoaded}
        ?centered=${!0}
      ></ion-loading-icon>
      <iframe
        ?hidden=${!this.iframeLoaded}
        id="storiesFrame"
        frameborder="0"
        src="../../addasset"
        @load=${this._onIframeLoaded}
      ></iframe>
    `}async _onIframeLoaded(e){this._contentWindow=e.target.contentWindow}stateChanged(e){this._activeSlide=ws(e)}}window.customElements.define("ion-asset-upload",Rd);window.customElements.define("ion-textarea",class extends pe{static get styles(){return[qd,p`
        .ion-form-input {
          height: initial;
        }
      `]}static get properties(){return{label:{type:String},value:{type:String},rows:{type:Number},readonly:{type:Boolean}}}constructor(){super(),this.label="",this.rows=5,this.readonly=!1,this._value="",this._elementId=`ion-${e.createGuid()}`}get value(){const t=this.shadowRoot?.querySelector(`#${this._elementId}`);return e.defined(t)&&(this._value=t.value),this._value}set value(t){this._value=t;const n=this.shadowRoot?.querySelector(`#${this._elementId}`);e.defined(n)&&(n.value=t),this.requestUpdate()}select(){const t=this.shadowRoot?.querySelector(`#${this._elementId}`);e.defined(t)&&select(t)}render(){return G`
      <label for="${this._elementId}">${this.label}</label>
      <textarea
        id="${this._elementId}"
        class="ion-form-input"
        rows="${this.rows}"
        ?readonly=${this.readonly}
      >
${this._value}</textarea
      >
    `}});window.customElements.define("ion-icon-button",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
          box-sizing: border-box;
          user-select: none;
          height: 100%;
          width: 1.5rem;
          cursor: pointer;
          text-align: center;
        }
        :host(:focus) {
          outline: 0;
        }
        :host(:hover) {
          color: var(--brand-primary);
        }
        :host(:active) {
          color: var(--brand-primary-shade);
        }
        :host([disabled]) {
          color: var(--text-muted);
          cursor: default;
        }
        a {
          text-align: center;
          white-space: nowrap;
          vertical-align: middle;
          padding: 0;
          user-select: none;
          height: 100%;
          width: 100%;
        }

        ::slotted(svg) {
          height: 100%;
          width: 100%;
          vertical-align: top;
        }
      `]}static get properties(){return{theme:{type:String},disabled:{type:Boolean,reflect:!0}}}constructor(){super(),this.theme="default",this.disabled=!1}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._onClick,!0)}disconnectedCallback(){this.removeEventListener("click",this._onClick,!0),super.disconnectedCallback()}render(){return G`
      <a>
        <slot></slot>
      </a>
    `}_onClick(e){this.disabled&&e.stopPropagation()}});class zd extends(gr(Al)(pe)){static get styles(){return[ql,p`
        button svg {
          height: 1rem;
          width: 1rem;
        }
        .copy-icon {
          margin-left: 5px;
        }
        .confirm-copy {
          float: right;
          color: var(--text-muted);
          opacity: 0;
          transition: opacity var(--transition-time) ease-out;
        }

        .confirm-copy.copied {
          opacity: 1;
        }

        #shareLink ion-textarea {
          display: inline-block;
          width: calc(100% - 2.5rem);
        }

        #shareLink ion-icon-button {
          vertical-align: top;
        }

        #shareOptions {
          display: flex;
        }
        .share-button {
          text-align: center;
          margin-right: 1.5rem;
        }
        .share-button > * {
          display: block;
        }
        .share-button > .icon {
          background-color: var(--container-bg);
          border-radius: 50%;
          width: 1.75rem;
          height: 1.75rem;
          border: 1rem solid white;
          box-sizing: content-box;
        }
        .share-button > .icon svg {
          width: 1.75rem;
          height: 1.75rem;
        }
      `]}constructor(){super(),this._storyId="",this._sharedUrl="",this._embedCode="",this._name="",this._copiedTimeout=void 0}render(){return G`
      <h1>Embed story</h1>
      <div id="shareLink" class="margin-bottom">
        <div>
          <label>Embed code</label><span class="confirm-copy">Copied</span>
        </div>
        <div>
          <ion-textarea
            id="code"
            value="${this._embedCode}"
            @click=${this._selectText("code")}
            readonly
          ></ion-textarea>
          <ion-icon-button class="copy-icon" @click=${this._copyCode}
            >${ad.node}</ion-icon-button
          >
        </div>
      </div>
      <ion-button theme="primary" @click=${this._close}>Okay</ion-button>
    `}_selectText(e){return function(){this.shadowRoot.querySelector(`#${e}`).select()}}_copyCode(){const e=this.shadowRoot.querySelector("#code");e.focus(),e.select();try{document.execCommand("copy");const e=this.shadowRoot.querySelector("#shareLink .confirm-copy");e.classList.add("copied"),clearTimeout(this._copiedTimeout),this._copiedTimeout=setTimeout((()=>{e.classList.remove("copied")}),1500)}catch(e){console.log(e)}}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}stateChanged(e){let t=!1;if(e.story.id!==this._storyId){this._storyId=e.story.id;const n=`${window.location.origin+window.location.pathname}?id=${e.story.id}`;this._sharedUrl=n.replace("editor","viewer"),t=!0,this.requestUpdate()}(t||e.story.name!==this._name)&&(this._name=e.story.name,this._embedCode=`<iframe title="${e.story.name}" width="1024" height="576" src="${this._sharedUrl}" frameborder="0" allow="fullscreen" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`,this.requestUpdate())}}window.customElements.define("ion-embed-dialog",zd);var jd=p`
  .ion-scrollbar {
    scrollbar-color: var(--gray) rgba(4, 5, 6, 0.2);
    scrollbar-width: thin;
  }

  .ion-scrollbar::-webkit-scrollbar-track {
    border-radius: 10px;
    background-color: rgba(4, 5, 6, 0.2);
  }

  .ion-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
    background-color: transparent;
  }

  .ion-scrollbar::-webkit-scrollbar-corner {
    background-color: transparent;
  }

  .ion-scrollbar::-webkit-scrollbar-thumb {
    border-radius: 10px;
    background-color: var(--gray);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #708c9e;
  }
`,Bd="/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n.ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n.ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n.ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n.ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n.ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.ql-editor > * {\n  cursor: text;\n}\n.ql-editor p,\n.ql-editor ol,\n.ql-editor ul,\n.ql-editor pre,\n.ql-editor blockquote,\n.ql-editor h1,\n.ql-editor h2,\n.ql-editor h3,\n.ql-editor h4,\n.ql-editor h5,\n.ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.ql-editor ol,\n.ql-editor ul {\n  padding-left: 1.5em;\n}\n.ql-editor ol > li,\n.ql-editor ul > li {\n  list-style-type: none;\n}\n.ql-editor ul > li::before {\n  content: '\\2022';\n}\n.ql-editor ul[data-checked=true],\n.ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n.ql-editor ul[data-checked=true] > li *,\n.ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n.ql-editor ul[data-checked=true] > li::before,\n.ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n.ql-editor ul[data-checked=true] > li::before {\n  content: '\\2611';\n}\n.ql-editor ul[data-checked=false] > li::before {\n  content: '\\2610';\n}\n.ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n.ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n.ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n.ql-editor ol li:not(.ql-direction-rtl),\n.ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n.ql-editor ol li.ql-direction-rtl,\n.ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n.ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n.ql-editor ol li:before {\n  content: counter(list-0, decimal) '. ';\n}\n.ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n.ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) '. ';\n}\n.ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n.ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) '. ';\n}\n.ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n.ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) '. ';\n}\n.ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n.ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) '. ';\n}\n.ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n.ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) '. ';\n}\n.ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n.ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) '. ';\n}\n.ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n.ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n.ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) '. ';\n}\n.ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n.ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n.ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) '. ';\n}\n.ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n.ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n.ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) '. ';\n}\n.ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n.ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n.ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n.ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n.ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n.ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n.ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n.ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n.ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n.ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n.ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n.ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n.ql-editor .ql-bg-black {\n  background-color: #000;\n}\n.ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n.ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n.ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n.ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n.ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n.ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n.ql-editor .ql-color-white {\n  color: #fff;\n}\n.ql-editor .ql-color-red {\n  color: #e60000;\n}\n.ql-editor .ql-color-orange {\n  color: #f90;\n}\n.ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n.ql-editor .ql-color-green {\n  color: #008a00;\n}\n.ql-editor .ql-color-blue {\n  color: #06c;\n}\n.ql-editor .ql-color-purple {\n  color: #93f;\n}\n.ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n.ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n.ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n.ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n.ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n.ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n.ql-editor .ql-align-center {\n  text-align: center;\n}\n.ql-editor .ql-align-justify {\n  text-align: justify;\n}\n.ql-editor .ql-align-right {\n  text-align: right;\n}\n.ql-editor.ql-blank::before {\n  color: rgba(0,0,0,0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n.ql-snow.ql-toolbar:after,\n.ql-snow .ql-toolbar:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n.ql-snow.ql-toolbar button,\n.ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n.ql-snow.ql-toolbar button svg,\n.ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n.ql-snow.ql-toolbar button:active:hover,\n.ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n.ql-snow.ql-toolbar input.ql-image[type=file],\n.ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n.ql-snow.ql-toolbar button:hover,\n.ql-snow .ql-toolbar button:hover,\n.ql-snow.ql-toolbar button:focus,\n.ql-snow .ql-toolbar button:focus,\n.ql-snow.ql-toolbar button.ql-active,\n.ql-snow .ql-toolbar button.ql-active,\n.ql-snow.ql-toolbar .ql-picker-label:hover,\n.ql-snow .ql-toolbar .ql-picker-label:hover,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active,\n.ql-snow.ql-toolbar .ql-picker-item:hover,\n.ql-snow .ql-toolbar .ql-picker-item:hover,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n.ql-snow.ql-toolbar button:hover .ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n.ql-snow.ql-toolbar button:hover .ql-stroke,\n.ql-snow .ql-toolbar button:hover .ql-stroke,\n.ql-snow.ql-toolbar button:focus .ql-stroke,\n.ql-snow .ql-toolbar button:focus .ql-stroke,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n.ql-snow {\n  box-sizing: border-box;\n}\n.ql-snow * {\n  box-sizing: border-box;\n}\n.ql-snow .ql-hidden {\n  display: none;\n}\n.ql-snow .ql-out-bottom,\n.ql-snow .ql-out-top {\n  visibility: hidden;\n}\n.ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n.ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n.ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n.ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n.ql-snow .ql-formats:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n.ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n.ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n.ql-snow .ql-fill,\n.ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n.ql-snow .ql-empty {\n  fill: none;\n}\n.ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n.ql-snow .ql-thin,\n.ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n.ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n.ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n.ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n.ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n.ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n.ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n.ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n.ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n.ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n.ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n.ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n.ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n.ql-snow .ql-editor code,\n.ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n.ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n.ql-snow .ql-editor code {\n  font-size: 85%;\n  padding: 2px 4px;\n}\n.ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n.ql-snow .ql-editor img {\n  max-width: 100%;\n}\n.ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n.ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n.ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n.ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n.ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n.ql-snow .ql-color-picker,\n.ql-snow .ql-icon-picker {\n  width: 28px;\n}\n.ql-snow .ql-color-picker .ql-picker-label,\n.ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n.ql-snow .ql-color-picker .ql-picker-label svg,\n.ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n.ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n.ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n.ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n.ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {\n  content: attr(data-label);\n}\n.ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: 'Normal';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: 'Heading 1';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: 'Heading 2';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: 'Heading 3';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: 'Heading 4';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  content: 'Heading 5';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  content: 'Heading 6';\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  font-size: 2em;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  font-size: 1.5em;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  font-size: 1.17em;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  font-size: 1em;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  font-size: 0.83em;\n}\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  font-size: 0.67em;\n}\n.ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: 'Sans Serif';\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: 'Serif';\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: 'Monospace';\n}\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n.ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: 'Normal';\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: 'Small';\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: 'Large';\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: 'Huge';\n}\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n.ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n.ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n.ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\n  padding: 8px;\n}\n.ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n.ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n.ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0,0,0,0.2) 0 2px 8px;\n}\n.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n.ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n.ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n.ql-snow .ql-tooltip::before {\n  content: \"Visit URL:\";\n  line-height: 26px;\n  margin-right: 8px;\n}\n.ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n.ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n.ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: 'Edit';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n.ql-snow .ql-tooltip a.ql-remove::before {\n  content: 'Remove';\n  margin-left: 8px;\n}\n.ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-preview,\n.ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n.ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: 'Save';\n  padding-right: 0px;\n}\n.ql-snow .ql-tooltip[data-mode=link]::before {\n  content: \"Enter link:\";\n}\n.ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: \"Enter formula:\";\n}\n.ql-snow .ql-tooltip[data-mode=video]::before {\n  content: \"Enter video:\";\n}\n.ql-snow a {\n  color: #06c;\n}\n.ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n";Yc.addHook("afterSanitizeAttributes",(function(e){"target"in e&&e.setAttribute("target","_blank"),e.hasAttribute("target")||!e.hasAttribute("xlink:href")&&!e.hasAttribute("href")||e.setAttribute("xlink:show","new")}));window.customElements.define("ion-infobox",class extends pe{static get styles(){return[ql,h(Bd),jd,p`
        :host {
          display: flex;
          padding: 1rem 0;
          background-color: var(--brand-dark);
          border-radius: var(--border-radius);
          color: var(--text-light);
        }

        #content {
          flex-grow: 1;
          padding: 0 1rem 2rem 1rem;
          word-break: break-word;
        }
        :host([allowScrolling]) #content {
          overflow-y: auto;
        }
        @media (min-width: 768px) {
          #content {
            padding-bottom: 0;
          }
        }

        img {
          max-width: 100%;
        }

        .ql-editor {
          all: unset;
          box-sizing: unset;
          line-height: unset;
          height: unset;
          outline: unset;
          overflow-y: unset;
          padding: unset;
          tab-size: unset;
          -moz-tab-size: unset;
          text-align: unset;
          white-space: unset;
          word-wrap: unset;
        }

        .cesium-infoBox-defaultTable {
          width: 100%;
          color: #edffff;
        }

        .cesium-infoBox-defaultTable tr:nth-child(odd) {
          background-color: rgba(84, 84, 84, 0.8);
        }

        .cesium-infoBox-defaultTable tr:nth-child(even) {
          background-color: rgba(84, 84, 84, 0.25);
        }

        .cesium-infoBox-defaultTable th {
          font-weight: normal;
          padding: 3px;
          vertical-align: middle;
          text-align: center;
          word-break: normal;
        }

        .cesium-infoBox-defaultTable td {
          padding: 3px;
          vertical-align: middle;
          text-align: left;
        }

        .dismiss {
          vertical-align: sub;
          width: 2rem;
          height: 2rem;
        }

        h1 {
          /* Minor hack for to account for tollbar width */
          max-width: calc(100% - 4rem);
        }

        #toolbar {
          position: fixed;
          right: 1rem;
          height: 2.75rem;
        }
      `]}static get properties(){return{allowScrolling:{type:Boolean,reflect:!0},hidden:{type:Boolean,reflect:!0},html:{type:String},title:{type:String},showDismiss:{type:Boolean}}}constructor(){super(),this.hidden=!0,this.html="",this.title="",this.showDismiss=!1,this.allowScrolling=!0}dismiss(){this.dispatchEvent(new CustomEvent("dismiss"))}updated(){this.shadowRoot.querySelector("#content").scrollTop=0}render(){return G`
      <div id="content" class="ion-scrollbar">
        <div id="toolbar"><slot name="toolbar"></slot></div>
        <h1>
          <ion-icon-button
            class="dismiss"
            title="Dismiss"
            ?hidden=${!this.showDismiss}
            @click=${this.dismiss}
            >${nd.node}</ion-icon-button
          >
          ${this.title}
        </h1>
        <div class="ql-editor">
          ${Vl(Yc.sanitize(this.html))}
        </div>
      </div>
    `}});customElements.define("ion-loading-icon",class extends pe{static get styles(){return[ql,p`
        :host {
          visibility: hidden;
          position: static;
        }
        :host([visible]) {
          visibility: visible;
        }

        :host([centered]) {
          position: absolute;
          top: calc(50% - 3rem);
          left: calc(50% - 3rem);
        }
        :host([centered]) svg {
          width: 6rem;
          height: 6rem;
        }

        svg {
          width: 100%;
          height: 100%;
          -webkit-animation: spin 1s steps(8) infinite;
          -moz-animation: spin 1s steps(8) infinite;
          animation: spin 1s steps(8) infinite;
        }

        @-moz-keyframes spin {
          0% {
            -moz-transform: rotate(0deg);
          }
          100% {
            -moz-transform: rotate(360deg);
          }
        }
        @-webkit-keyframes spin {
          0% {
            -webkit-transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
          }
        }
        @keyframes spin {
          0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
      `]}static get properties(){return{visible:{type:Boolean,reflect:!0},centered:{type:Boolean,reflect:!0}}}constructor(){super(),this.visible=!0,this.centered=!1}render(){return G` <span>${ed.node}</span> `}});window.customElements.define("ion-map-viewer-error",class extends pe{static get styles(){return[ql,p`
        :host {
          height: 100%;
          width: 100%;

          --body-bg: var(--brand-dark);
          --text-color: var(--text-light);
        }

        p {
          font-size: 16px;
        }
      `]}static get properties(){return{storyId:{type:String}}}constructor(){super(),this.storyId=""}render(){const e=this.storyId;return G`
      <div class="text-center" style="margin-bottom: 40px;">
        <img
          src="../../Images/logo.svg"
          alt="Cesium ion"
          style="width: 200px; max-width: 100%;"
        />
      </div>
      <h1 class="text-center margin-bottom">Whoops</h1>
      <p class="text-center">
        There was an unexpected error and this story cannot be loaded.
      </p>
      <p>
        For help,
        <a href="https://community.cesium.com/" target="_blank" rel="noopener"
          >post on the Cesium community forum</a
        >
        with this story's id: ${e}.
      </p>
    `}});var Hd=Object.freeze({LONGITUDE:"longitude",LATITUDE:"latitude",DISTANCE:"distance"}),Ud=p`
  :host {
    display: inline-block;
    font-family: var(--widgets-font-family);
    color: var(--widgets-text-color);
  }

  :host([hidden]) {
    display: none;
  }

  * {
    box-sizing: border-box;
  }

  input {
    padding: var(--widget-input-padding, 0.2rem 0.5rem);
    color: var(--widgets-text-color);
    background-color: var(--widgets-default-color);
    border: 1px solid var(--widgets-border-color);
    border-radius: var(--widgets-border-radius);
    font-family: var(--widgets-font-family);
  }

  button {
    border-radius: 50%;
    border: none;
    height: 1.5rem;
    width: 1.5rem;
    padding: 0.4rem;
    background: none;
    position: relative;
    bottom: 0;
    color: var(--widgets-text-color);
    cursor: pointer;
    vertical-align: middle;
  }

  button:hover {
    background: var(--widgets-default-color);
  }

  button.active {
    color: var(--widgets-active-color);
  }

  button:focus {
    outline: none;
    background: var(--widgets-default-color);
  }

  button:active {
    background: var(--widgets-lighter-color);
  }
`;const Fd={},Vd={};function Gd(e,t,n){Fd[e]=p`var(${h(t)}, ${h(n)})`,Vd[t]=n}Gd("baseHeight","--cesium-base-height","2.5rem"),Gd("borderWidth","--cesium-border-width","1px"),Gd("borderRadius","--cesium-border-radius","0.25rem"),Gd("fontFamily","--cesium-font-family","sans-serif"),Gd("fontSize","--cesium-font-size","1rem"),Gd("fontColor","--cesium-font-color","#222"),Gd("foregroundColor","--cesium-foreground-color","#aabac5"),Gd("backgroundColor","--cesium-background-color","#fff"),Gd("textColor","--cesium-text-color","#040506"),Gd("accentColor","--cesium-accent-color","#49b"),Gd("dangerColor","--cesium-danger-color","#b71b00"),Gd("focusColor","--cesium-focus-color","#c8e2f3"),Gd("focusWidth","--cesium-focus-width","3px"),Gd("tintColor","--cesium-tint-color","#ddf"),Gd("shadeColor","--cesium-shade-color","#000"),Object.freeze(Fd),Object.freeze(Vd);let Yd="";for(const[e,t]of Object.entries(Vd))Yd+=`        ${e}: ${t};\n`;const Wd=`\n  <style is="custom-style">\n    html {\n        ${Yd}\n        --widgets-font-family: sans-serif;\n        --widgets-font-size-sm: 11px;\n        --widgets-text-color: #edffff;\n        --widgets-text-color-secondary: #888;\n        --widgets-background-color: #222;\n        --widgets-transparent-background-color: #222D;\n        --widgets-darker-color: #111;\n        --widgets-default-color: #444;\n        --widgets-lighter-color: #555;\n        --widgets-container-border-radius: 4px;\n        --mediumGrey: #888;\n        --alpha-backdrop-light: #c8c8c8;\n        --alpha-backdrop-dark: #b4b4b4;\n        --widgets-active-color: #49b;\n        --widgets-active-color-shade: #1e3344;\n\n        --widgets-border-color: #444;\n        --widgets-border-radius: 4px;\n        --widgets-border-width: 0px;  /* include a unit with 0 so that it doesn't cause calc to fail */\n\n        --widgets-transition-time: 0.2s;\n        --shadow-color: #00000099;\n\n        --focus-color: #FFA726;\n        --focus-width: 2px;\n    }\n\n  </style>\n`,Jd=document.createElement("custom-style");Jd.innerHTML=Wd,document.head.appendChild(Jd);const Kd=new e.Ray,Xd=new e.Cartesian3,Zd=new e.Cartographic,Qd=[Hd.LONGITUDE,Hd.LATITUDE,Hd.DISTANCE,Hd.DISTANCE],eu=["Longitude","Latitude","Elevation"];function tu(e,t){console.error(t),e._updateFailed=!0}customElements.define("cesium-coordinates",class extends pe{static get styles(){return[Ud,p`
        :host {
          -moz-user-select: none;
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;

          background-color: var(--widgets-transparent-background-color);
          border-radius: var(--widgets-container-border-radius);
          padding: 0.25em;
          font-size: 0.75rem;
        }

        svg {
          width: 1em;
          margin-right: 0.25em;
          vertical-align: text-top;
        }

        span {
          display: inline-block;
        }

        span:not(:first-child) {
          margin-left: 1.5em;
          margin-block-start: 0.1em;
        }
      `]}constructor(){super(),this.show=!0,this.showAltitude=!0,this.showCameraAltitude=!0,this.degreesPrecision=2,this.distancePrecision=3,this._distanceUnits=e.DistanceUnits.METERS,this.locale=void 0,this.coordinateTransformFunction=void 0,this.coordinateFormat=[Hd.LONGITUDE,Hd.LATITUDE,Hd.DISTANCE,Hd.DISTANCE],this.getPositionCallback=void 0,this.isPickableCallback=void 0,this.mouseMoveTimeout=300,this.unavailablePlaceholder="Unavailable",this.longitudeLabel="",this.latitudeLabel="",this.altitudeLabel="",this.cameraLabel="Camera",this._pointerPosition=new e.Cartesian2,this.pointerPosition=void 0,this._moveTimeout=void 0,this._scene=void 0,this._lastCameraPosition=void 0,this._longitude=void 0,this._latitude=void 0,this._altitude=void 0,this._cameraAltitude=void 0,this._altitudeVisibleLimit=1e5,this._formattedCoordinates=void 0,this._mouseIsMoving=!1,this._updateInProgress=!1,this._updateFailed=!1,this._failedTransform=!1}static get properties(){return{show:{type:Boolean},showAltitude:{type:Boolean},showCameraAltitude:{type:Boolean},degreesPrecision:{type:Number},distancePrecision:{type:Number},latitudeLabel:{type:String},longitudeLabel:{type:String},altitudeLabel:{type:String},cameraLabel:{type:String},distanceUnits:{attribute:!1,type:String},locale:{attribute:!1,type:String},coordinateTransformFunction:{attribute:!1,type:Function},coordinateFormat:{attribute:!1,type:Array},getPositionCallback:{attribute:!1,type:Function},isPickableCallback:{attribute:!1,type:Function},unavailablePlaceholder:{attribute:!1,type:String},pointerPosition:{type:Object},scene:{attribute:!1,type:Object},mouseMoveTimeout:{type:Number},_longitude:{attribute:!1,type:Number},_latitude:{attribute:!1,type:Number},_altitude:{attribute:!1,type:Number},_cameraAltitude:{attribute:!1,type:Number}}}get scene(){return this._scene}set scene(t){this._preRenderSubscription&&this._preRenderSubscription(),this._scene=t;const n=t.camera;this._lastCameraPosition=n.position.clone(),this._preRenderSubscription=t.preRender.addEventListener((()=>{const t=n.position;e.defined(this.pointerPosition)&&!e.Cartesian3.equals(this._lastCameraPosition,t)&&(this._lastCameraPosition=t.clone(this._lastCameraPosition),this.handleMousePositionChanged())}),this)}get distanceUnits(){return this._distanceUnits}set distanceUnits(e){this._distanceUnits!==e&&(this._distanceUnits=e,this.updateUnits())}render(){if(this._updateFailed)return G`<p>${this.unavailablePlaceholder}</p>
        <p></p>`;if(!e.defined(this._formattedCoordinates))return G``;const t=this._formattedCoordinates.labels,n=this._formattedCoordinates.values;return G`
      ${t.map(((e,t)=>G`<span>${e?G`${e}&nbsp;`:""}${n[t]}</span>`))}
    `}updated(e){e.has("pointerPosition")&&this.handleMousePositionChanged()}handleMousePositionChanged(){this._pointerPosition.x=this.pointerPosition.x,this._pointerPosition.y=this.pointerPosition.y,this._mouseIsMoving?this.mouseContinuedMoving():(this._mouseIsMoving=!0,this.mouseStartedMoving()),e.defined(this._moveTimeout)&&clearTimeout(this._moveTimeout),this._moveTimeout=setTimeout((()=>{this._mouseIsMoving=!1,this.mouseStoppedMoving()}),this.mouseMoveTimeout)}_createPositionResult(){const e=this.scene.camera,t={longitude:void 0,latitude:void 0,altitude:void 0,cameraAltitude:void 0};return t.cameraAltitude=e.positionCartographic.height,t}_updatePositionResult(t,n){if(e.defined(n)){const i=this.scene.globe.ellipsoid.cartesianToCartographic(n,Zd);e.defined(i)&&(t.longitude=i.longitude,t.latitude=i.latitude,t.altitude=i.height)}return t}_fastPick(){const e=this.scene,t=e.canvas,n=this._createPositionResult();if(0===t.clientWidth||0===t.clientHeight)return;const i=e.camera.getPickRay(this._pointerPosition,Kd),r=e.globe.pick(i,e,Xd);return this._updatePositionResult(n,r)}async _slowPick(){const t=this.scene,n=this._createPositionResult(t);let i;return i=e.defined(this.getPositionCallback)?await this.getPositionCallback(t,this._pointerPosition,this.isPickableCallback,Xd):e.getWorldPosition(t,this._pointerPosition,this.isPickableCallback,Xd),this._updatePositionResult(n,i)}async transformCoordinates(){const t=[this._longitude,this._latitude,this._altitude];if(e.defined(this.coordinateTransformFunction)){const[n]=await this.coordinateTransformFunction([t]);if(e.defined(n))return this._failedTransform=!1,n;this._failedTransform=!0}return t}formatCoordinate(t,n){return n===Hd.LONGITUDE?e.MeasureUnits.longitudeToString(t,e.AngleUnits.DEGREES_MINUTES_SECONDS,this.locale,this.degreesPrecision):n===Hd.LATITUDE?e.MeasureUnits.latitudeToString(t,e.AngleUnits.DEGREES_MINUTES_SECONDS,this.locale,this.degreesPrecision):e.MeasureUnits.distanceToString(t,this.distanceUnits,this.locale,this.distancePrecision)}formatCoordinates(e){let t=[this.longitudeLabel,this.latitudeLabel,this.altitudeLabel,this.cameraLabel];const n=e.concat([this._cameraAltitude]);let i=this.coordinateFormat;this._failedTransform&&(t=[...eu,this.cameraLabel],i=Qd);const r=n.map(((e,t)=>this.formatCoordinate(e,i[t]))),[o,a,s,l]=t,[c,d,u,h]=r,p=[o,a],f=[c,d];this._cameraAltitude<this._altitudeVisibleLimit&&(this.showAltitude&&this._altitude<this._altitudeVisibleLimit&&Math.abs(this._altitude)>Math.abs(this._cameraAltitude)/1e3&&(p.push(s),f.push(u)),this.showCameraAltitude&&(p.push(l),f.push(h))),this._formattedCoordinates={labels:p,values:f}}async updateCoordinates(t){if(this._updateInProgress=!0,this._longitude=t.longitude,this._latitude=t.latitude,this._altitude=t.altitude,this._cameraAltitude=t.cameraAltitude,!e.defined(this._longitude)||!e.defined(this._latitude))return void(this._updateInProgress=!1);const n=await this.transformCoordinates();this.formatCoordinates(n),this._updateInProgress=!1,this._updateFailed=!1,this.requestUpdate()}mouseStartedMoving(){const t=this._fastPick();e.defined(t)&&this.updateCoordinates(t).catch((e=>tu(this,e)))}mouseContinuedMoving(){if(this._updateInProgress)return;const t=this._fastPick();e.defined(t)&&this.updateCoordinates(t).catch((e=>tu(this,e)))}mouseStoppedMoving(){this._slowPick().then((e=>this.updateCoordinates(e))).catch((e=>tu(this,e)))}updateUnits(){this.updateCoordinates({longitude:this._longitude,latitude:this._latitude,altitude:this._altitude,cameraAltitude:this._cameraAltitude}).catch((e=>tu(this,e)))}});const nu=new e.Ray;function iu(t,n,i){let r;const o=t.camera.getPickRay(n,nu);if(t.pickPositionSupported){const o=t.pick(n,1,1);e.defined(o)&&(o instanceof e.Cesium3DTileFeature||o.primitive instanceof e.Cesium3DTileset||o.primitive instanceof e.Model)&&(r=t.pickPosition(n,i))}if(e.defined(r)||(r=t.globe.pick(o,t,i)),e.defined(r))return i}const ru=[.1,.2,.3,.5,1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6,2e6,3e6,5e6,1e7,2e7,3e7,5e7],ou=[.5,1,2,3,6,9,15,30,60,90,150,300,600,900,1500,3e3,4500,5280,10560,15840,26400,52800,105600,158400,264e3,528e3,1056e3,1584e3,264e4,528e4,1056e4,1584e4,264e5,528e5,1056e5,1584e5,264e6],au=new e.EllipsoidGeodesic,su=new e.Cartesian2,lu=new e.Cartesian3,cu=new e.Cartesian3;let du=new e.Ray,uu=new e.Ray,hu=new e.Cartographic,pu=new e.Cartographic;function fu(e,t,n,i,r){return r?iu(i,e,lu):(du=t.getPickRay(e,du),n.pick(du,i,lu))}function mu(e,t,n,i,r){return r?iu(i,e,cu):(uu=t.getPickRay(e,uu),n.pick(uu,i,cu))}customElements.define("cesium-map-scale",class extends pe{static get styles(){return[Ud,p`
        :host {
          pointer-events: none;
          -moz-user-select: none;
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .map-scale {
          color: var(--widgets-text-color);
          text-shadow: 0 0 2px var(--widgets-background-color),
            0 0 2px var(--widgets-background-color),
            0 0 2px var(--widgets-background-color);
          height: 30px;
          width: 125px;
        }

        .map-scale-distance-label {
          line-height: 0px;
          text-align: center;
          width: 125px;
        }

        .map-scale-bar {
          border: 2px groove var(--widgets-text-color);
          border-top: none;
          position: absolute;
          height: 10px;
          top: 15px;
        }
      `]}constructor(){super(),this._pointerPosition=new e.Cartesian2,this.pointerPosition=void 0,this.show=!0,this.distanceUnits=e.DistanceUnits.METERS,this.locale=void 0,this._scene=void 0,this._lastCameraPosition=void 0,this._forceUpdate=!1,this.maximumDistance=Number.POSITIVE_INFINITY,this._useScenePick=!1,this._moveTimeout=void 0,this.mouseMoveTimeout=300,this._distance=0,this._barWidth="100px",this._barLeft="50px"}static get properties(){return{show:{type:Boolean},scene:{attribute:!1,type:Object},mouseMoveTimeout:{type:Number},pointerPosition:{type:Object},distanceUnits:{attribute:!1,type:String},locale:{attribute:!1,type:String},_distance:{attribute:!1,type:Number},_barWidth:{attribute:!1,type:Number},_barLeft:{attribute:!1,type:Number},maximumDistance:{attribute:!1,type:Number}}}get scene(){return this._scene}set scene(t){this._preRenderSubscription&&this._preRenderSubscription(),this._scene=t;const n=t.camera;this._lastCameraPosition=n.position.clone(),this._preRenderSubscription=t.preRender.addEventListener((()=>{const t=n.position;e.defined(this.pointerPosition)&&!e.Cartesian3.equals(this._lastCameraPosition,t)&&(this._lastCameraPosition=t.clone(this._lastCameraPosition),this._updateMapScale(),this._forceUpdate=!0)}),this)}get distance(){return this._distance}get distanceLabel(){return e.MeasureUnits.distanceToString(this._distance,this.distanceUnits,this.locale,1,0)}shouldUpdate(e){return this._forceUpdate||e.has("pointerPosition")||e.has("distanceUnits")||this._useScenePick}render(){if(this._forceUpdate=!1,!this.show||!e.defined(this.pointerPosition))return G``;if(this._useScenePick||(clearTimeout(this._moveTimeout),this._moveTimeout=setTimeout((()=>{this._moveTimeout=void 0,this._useScenePick=!0,this.requestUpdate()}),this.mouseMoveTimeout)),this._updateMapScale(),this._useScenePick=!1,!e.defined(this._distance)||0===this._distance||this._distance>this.maximumDistance)return G``;const t=`width: ${this._barWidth}; left: ${this._barLeft}`;return G`
      <div class="map-scale">
        <div class="map-scale-distance-label"><p>${this.distanceLabel}</p></div>
        <div class="map-scale-bar" style=${t}></div>
      </div>
    `}_updateMapScale(){const t=this._pointerPosition;t.x=this.pointerPosition.x,t.y=this.pointerPosition.y;const n=this.scene,i=n.canvas,r=i.clientWidth,o=i.clientHeight,a=n.camera,s=n.globe;if(0===r||0===o)return;let l,c,d,u;const h=this._useScenePick;if(l=fu(t,a,s,n,h),e.defined(l)?(su.x=t.x+1,su.y=t.y,c=mu(su,a,s,n,h)):(su.x=r/2|0,su.y=o-1,l=fu(su,a,s,n,h),su.x=1+r/2|0,c=mu(su,a,s,n,h)),e.defined(l)&&e.defined(c)||(su.x=r/2|0,su.y=o/2|0,l=fu(su,a,s,n,h),su.x=1+r/2|0,c=mu(su,a,s,n,h)),e.defined(l)&&e.defined(c)){const t=this.distanceUnits;d=function(e,t,n){const i=e.ellipsoid;return hu=i.cartesianToCartographic(t,hu),pu=i.cartesianToCartographic(n,pu),au.setEndPoints(hu,pu),au.surfaceDistance}(s,l,c),d=e.MeasureUnits.convertDistance(d,e.DistanceUnits.METERS,t);u=function(e,t){for(let n=t.length-1;n>=0;--n)if(t[n]/e<100)return t[n];return t[0]}(d,t===e.DistanceUnits.METERS?ru:ou),this._distance=e.MeasureUnits.convertDistance(u,t,e.DistanceUnits.METERS)}if(e.defined(u)&&u>0){const e=u/d|0;this._barWidth=`${e}px`,this._barLeft=(125-e)/2+"px"}}});const gu=new e.Cartesian3;class bu extends pe{static get styles(){return[Ud,p`
        :host {
          width: 30px;
        }
        .navigation-control {
          background-color: var(--widgets-background-color);
          cursor: pointer;
          border-bottom: 1px solid var(--widgets-text-color);
        }
        .navigation-control:hover {
          background-color: var(--widgets-active-color);
        }

        :host(:first-child) .navigation-control {
          padding-top: 5px;
          border-top-right-radius: 14px;
          border-top-left-radius: 14px;
        }
        :host(:last-child) .navigation-control {
          padding-bottom: 5px;
          border-bottom: none;
          border-bottom-right-radius: 14px;
          border-bottom-left-radius: 14px;
        }
        .navigation-control > div {
          position: relative;
          text-align: center;
          font-size: 20px;
          color: var(--widgets-text-color);
        }
        .navigation-control-icon-reset {
          font-size: 16px;
          fill: var(--widgets-text-color);
        }
        .navigation-control-icon-zoom-in {
          padding-bottom: 4px;
        }
      `]}constructor(){super(),this.scene=void 0,this.title="Unnamed Control",this.text=void 0,this.svgIcon=void 0,this.svgHeight=void 0,this.svgWidth=void 0,this.cssClass=void 0,this.ready=!1}attach(e){this.scene=e,this.ready=!0,this.requestUpdate()}render(){return G` <div
      class="navigation-control"
      @click=${this.activate}
      title=${this.title}
    >
      ${this.hasText?G`<div class="${this.cssClass}">${this.text}</div>`:G`<div class="${this.cssClass}">${this.svgIcon}</div>`}
    </div>`}get hasText(){return e.defined(this.text)&&"string"==typeof this.text}flyToPosition(t,n,i){const r=t.camera.position,o=n;i=e.defaultValue(i,200);const a=t.screenSpaceCameraController;a.enableInputs=!1,t.tweens.add({duration:i/1e3,easingFunction:e.EasingFunction.SINUSOIDAL_IN_OUT,startObject:{time:0},stopObject:{time:1},update:function(n){t.isDestroyed()||(t.camera.position.x=e.Math.lerp(r.x,o.x,n.time),t.camera.position.y=e.Math.lerp(r.y,o.y,n.time),t.camera.position.z=e.Math.lerp(r.z,o.z,n.time))},complete:function(){a.isDestroyed()||(a.enableInputs=!0)},cancel:function(){a.isDestroyed()||(a.enableInputs=!0)}})}getCameraFocus(t){const n=new e.Ray(t.camera.positionWC,t.camera.directionWC),i=t.globe.pick(n,t,gu);if(e.defined(i))return i;const r=e.IntersectionTests.rayEllipsoid(n,e.Ellipsoid.WGS84);return e.defined(r)?e.Ray.getPoint(n,r.start):e.IntersectionTests.grazingAltitudeLocation(n,e.Ellipsoid.WGS84)}}const vu=G`<svg height="28" width="28" viewBox="0 0 28 28">
  <path
    d="M14,4l-10,8.75h20l-4.25-3.7188v-4.6562h-2.812v2.1875l-2.938-2.5625zm-7.0938,9.906v10.094h14.094v-10.094h-14.094zm2.1876,2.313h3.3122v4.25h-3.3122v-4.25zm5.8442,1.281h3.406v6.438h-3.406v-6.438z"
  ></path>
</svg>`;customElements.define("cesium-navigation-reset",class extends bu{constructor(){super(),this.title="Reset View",this.svgIcon=vu,this.cssClass="navigation-control-icon-reset"}resetView(){this.scene.camera.flyHome()}activate(){this.resetView()}});const yu=new e.Cartesian3;customElements.define("cesium-navigation-zoom-in",class extends bu{constructor(){super(),this.title="Zoom In",this.text="+",this.cssClass="navigation-control-icon-zoom-in"}zoomIn(){const t=this.scene,n=t.camera,i=this.getCameraFocus(t),r=e.Cartesian3.subtract(i,n.position,yu),o=e.Cartesian3.multiplyByScalar(r,2/3,yu),a=e.Cartesian3.add(n.position,o,yu);this.flyToPosition(t,a)}activate(){this.zoomIn()}});const _u=new e.Cartesian3;customElements.define("cesium-navigation-zoom-out",class extends bu{constructor(e){super(e),this.title="Zoom Out",this.text="-",this.cssClass="navigation-control-icon-zoom-out"}zoomOut(){const t=this.scene,n=t.camera,i=this.getCameraFocus(t),r=e.Cartesian3.subtract(i,n.position,_u),o=e.Cartesian3.multiplyByScalar(r,-2,_u),a=e.Cartesian3.add(n.position,o,_u);this.flyToPosition(t,a)}activate(){this.zoomOut()}});const wu=G`<svg
  height="145"
  width="145"
  viewBox="0 0 145 145"
>
  <path
    d="m 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z"
  ></path>
</svg>`,ku=G`<svg height="145" width="145" viewBox="0 0 145 145">
  <path
    d="m 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z"
  ></path>
</svg>`,xu=G`<svg
  height="145"
  width="145"
  viewBox="0 0 145 145"
>
  <path
    d="M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z"
  ></path>
</svg>`,Cu=new e.Cartesian2,Su=new e.Matrix4,Eu=new e.Matrix4,Tu=new e.Cartesian3,Au=new e.Cartesian2,Pu=new e.Ray;function Mu(t,n,i){const r=Math.atan2(-n.y,n.x);t.orbitCursorAngle=e.Math.zeroToTwoPi(r-e.Math.PI_OVER_TWO);const o=e.Cartesian2.magnitude(n),a=i/2,s=Math.min(o/a,1),l=.5*s*s+.5;t.orbitCursorOpacity=l}customElements.define("cesium-navigation",class extends pe{static get styles(){return[Ud,p`
        :host {
          position: relative;
          -moz-user-select: none;
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }
        :host * {
          -webkit-box-sizing: content-box;
          -moz-box-sizing: content-box;
          box-sizing: content-box;
        }
        .navigation-controls {
          pointer-events: auto;
          position: absolute;
          right: 30px;
          top: 90px;
          width: 30px;
          font-weight: 300;
          -webkit-touch-callout: none;
          border: 1px solid var(--widgets-text-color);
          border-radius: 15px;
        }
        .compass {
          cursor: pointer;
          touch-action: none;
          pointer-events: auto;
          position: absolute;
          right: 0;
          top: 0;
          width: 95px;
          height: 95px;
        }
        .compass-outer-ring {
          position: absolute;
          top: 0;
          width: 95px;
          height: 95px;
          fill: var(--widgets-text-color);
          stroke: var(--widgets-default-color);
        }
        .compass-outer-ring-background {
          position: absolute;
          top: 14px;
          left: 14px;
          width: 44px;
          height: 44px;
          border-radius: 44px;
          border: 12px solid var(--widgets-background-color);
        }
        .compass-gyro {
          pointer-events: none;
          position: absolute;
          top: 0;
          width: 95px;
          height: 95px;
          fill: var(--widgets-text-color);
        }
        .compass-gyro-background {
          position: absolute;
          top: 30px;
          left: 30px;
          width: 33px;
          height: 33px;
          border-radius: 33px;
          background-color: var(--widgets-background-color);
          border: 1px solid var(--widgets-text-color);
        }
        .compass-gyro-background:hover,
        .compass-gyro-background.active {
          background-color: var(--widgets-active-color);
        }
        .compass-rotation-marker {
          position: absolute;
          top: 0;
          width: 95px;
          height: 95px;
          fill: var(--widgets-active-color);
        }

        svg {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
      `]}static get properties(){return{showCompass:{type:Boolean},heading:{type:Number},isOrbiting:{type:Boolean},orbitCursorAngle:{type:Number},orbitCursorOpacity:{type:Number},isRotating:{type:Boolean}}}constructor(){super(),this._scene=void 0,this.clock=void 0,this.controls=[],this._postRenderSubscription=void 0,this.svgCompassOuterRing=wu,this.svgCompassGyro=ku,this.svgCompassRotationMarker=xu,this.showCompass=!0,this.heading=0,this.isOrbiting=!1,this.orbitCursorAngle=0,this.orbitCursorOpacity=0,this.orbitLastTimestamp=0,this.orbitFrame=void 0,this.orbitIsLook=!1,this.orbitMouseMoveFunction=void 0,this.orbitMouseUpFunction=void 0,this.isRotating=!1,this.rotateInitialCursorAngle=void 0,this.rotateFrame=void 0,this.rotateIsLook=!1,this.rotateMouseMoveFunction=void 0,this.rotateMouseUpFunction=void 0,this.ready=!1}attach(e,t){this._scene=e,this.clock=t,this._postRenderSubscription=e.postRender.addEventListener((function(){this.heading=e.camera.heading}),this),this.ready=!0,this.requestUpdate()}firstUpdated(){this.shadowRoot.querySelectorAll(".navigation-controls > *").forEach((e=>e.attach(this._scene)))}handleMouseDown(t){const n=t.currentTarget,i=t.currentTarget.getBoundingClientRect(),r=i.width/2,o=new e.Cartesian2((i.right-i.left)/2,(i.bottom-i.top)/2),a=new e.Cartesian2(t.clientX-i.left,t.clientY-i.top),s=e.Cartesian2.subtract(a,o,Cu),l=e.Cartesian2.magnitude(s)/r;l<50/145?function(t,n,i){document.removeEventListener("pointermove",t.orbitMouseMoveFunction,!1),document.removeEventListener("pointerup",t.orbitMouseUpFunction,!1),e.defined(t.orbitTickFunction)&&t.clock.onTick.removeEventListener(t.orbitTickFunction),t.orbitMouseMoveFunction=void 0,t.orbitMouseUpFunction=void 0,t.orbitTickFunction=void 0,t.isOrbiting=!0,t.orbitLastTimestamp=e.getTimestamp();const r=t._scene,o=r.camera,a=Au;a.x=r.canvas.clientWidth/2,a.y=r.canvas.clientHeight/2;const s=o.getPickRay(a,Pu),l=r.globe.pick(s,r,Tu);e.defined(l)?(t.orbitFrame=e.Transforms.eastNorthUpToFixedFrame(l,e.Ellipsoid.WGS84,Eu),t.orbitIsLook=!1):(t.orbitFrame=e.Transforms.eastNorthUpToFixedFrame(o.positionWC,e.Ellipsoid.WGS84,Eu),t.orbitIsLook=!0),t.orbitTickFunction=function(){const n=e.getTimestamp(),i=(n-t.orbitLastTimestamp)*(2.5*(t.orbitCursorOpacity-.5)/1e3),r=t.orbitCursorAngle+e.Math.PI_OVER_TWO,o=Math.cos(r)*i,a=Math.sin(r)*i,s=t._scene.camera,l=e.Matrix4.clone(s.transform,Su);s.lookAtTransform(t.orbitFrame),t.orbitIsLook?(s.look(e.Cartesian3.UNIT_Z,-o),s.look(s.right,-a)):(s.rotateLeft(o),s.rotateUp(a)),s.lookAtTransform(l),t.orbitLastTimestamp=n},t.orbitMouseMoveFunction=function(i){const r=n.getBoundingClientRect(),o=new e.Cartesian2((r.right-r.left)/2,(r.bottom-r.top)/2),a=new e.Cartesian2(i.clientX-r.left,i.clientY-r.top),s=e.Cartesian2.subtract(a,o,Cu);Mu(t,s,r.width)},t.orbitMouseUpFunction=function(){t.isOrbiting=!1,document.removeEventListener("pointermove",t.orbitMouseMoveFunction,!1),document.removeEventListener("pointerup",t.orbitMouseUpFunction,!1),e.defined(t.orbitTickFunction)&&t.clock.onTick.removeEventListener(t.orbitTickFunction),t.orbitMouseMoveFunction=void 0,t.orbitMouseUpFunction=void 0,t.orbitTickFunction=void 0},document.addEventListener("pointermove",t.orbitMouseMoveFunction,!1),document.addEventListener("pointerup",t.orbitMouseUpFunction,!1),t.clock.onTick.addEventListener(t.orbitTickFunction),Mu(t,i,n.getBoundingClientRect().width)}(this,n,s):l<1&&function(t,n,i){document.removeEventListener("pointermove",t.rotateMouseMoveFunction,!1),document.removeEventListener("pointerup",t.rotateMouseUpFunction,!1),t.rotateMouseMoveFunction=void 0,t.rotateMouseUpFunction=void 0,t.isRotating=!0,t.rotateInitialCursorAngle=Math.atan2(-i.y,i.x);const r=t._scene,o=r.camera,a=Au;a.x=r.canvas.clientWidth/2,a.y=r.canvas.clientHeight/2;const s=o.getPickRay(a,Pu),l=r.globe.pick(s,r,Tu);e.defined(l)?(t.rotateFrame=e.Transforms.eastNorthUpToFixedFrame(l,e.Ellipsoid.WGS84,Eu),t.rotateIsLook=!1):(t.rotateFrame=e.Transforms.eastNorthUpToFixedFrame(o.positionWC,e.Ellipsoid.WGS84,Eu),t.rotateIsLook=!0);const c=e.Matrix4.clone(o.transform,Su);o.lookAtTransform(t.rotateFrame),t.rotateInitialCameraAngle=Math.atan2(o.position.y,o.position.x),t.rotateInitialCameraDistance=e.Cartesian3.magnitude(new e.Cartesian3(o.position.x,o.position.y,0)),o.lookAtTransform(c),t.rotateMouseMoveFunction=function(i){const r=n.getBoundingClientRect(),o=new e.Cartesian2((r.right-r.left)/2,(r.bottom-r.top)/2),a=new e.Cartesian2(i.clientX-r.left,i.clientY-r.top),s=e.Cartesian2.subtract(a,o,Cu),l=Math.atan2(-s.y,s.x)-t.rotateInitialCursorAngle,c=e.Math.zeroToTwoPi(t.rotateInitialCameraAngle-l),d=t._scene.camera,u=e.Matrix4.clone(d.transform,Su);d.lookAtTransform(t.rotateFrame);const h=Math.atan2(d.position.y,d.position.x);d.rotateRight(c-h),d.lookAtTransform(u)},t.rotateMouseUpFunction=function(){t.isRotating=!1,document.removeEventListener("pointermove",t.rotateMouseMoveFunction,!1),document.removeEventListener("pointerup",t.rotateMouseUpFunction,!1),t.rotateMouseMoveFunction=void 0,t.rotateMouseUpFunction=void 0},document.addEventListener("pointermove",t.rotateMouseMoveFunction,!1),document.addEventListener("pointerup",t.rotateMouseUpFunction,!1)}(this,n,s)}handleDoubleClick(){const t=this._scene,n=t.camera,i=Au;i.x=t.canvas.clientWidth/2,i.y=t.canvas.clientHeight/2;const r=n.getPickRay(i,Pu),o=t.globe.pick(r,t,Tu);if(!e.defined(o))return void this.controls[1].resetView();const a=e.Transforms.eastNorthUpToFixedFrame(o),s=e.Cartesian3.subtract(o,n.position,new e.Cartesian3),l=e.CameraFlightPath.createTween(t,{destination:e.Matrix4.multiplyByPoint(a,new e.Cartesian3(0,0,e.Cartesian3.magnitude(s)),new e.Cartesian3),direction:e.Matrix4.multiplyByPointAsVector(a,new e.Cartesian3(0,0,-1),new e.Cartesian3),up:e.Matrix4.multiplyByPointAsVector(a,new e.Cartesian3(0,1,0),new e.Cartesian3),duration:1.5});t.tweens.add(l)}get rotationStyle(){return`transform: rotate(-${this.orbitCursorAngle}rad); -webkit-transform: rotate(-${this.orbitCursorAngle}rad); opacity: ${this.orbitCursorOpacity};`}get outerRingStyle(){return`transform: rotate(-${this.heading}rad); -webkit-transform: rotate(-${this.heading}rad);`}render(){return this.ready?G`
      <div
        class="compass"
        ?hidden=${!this.showCompass}
        touch-action="none"
        @pointerdown=${this.handleMouseDown}
        @dblclick=${this.handleDoubleClick}
      >
        <div class="compass-outer-ring-background"></div>
        <div
          class="compass-rotation-marker"
          ?hidden=${!this.isOrbiting}
          style=${this.rotationStyle}
        >
          ${xu}
        </div>
        <div
          class="compass-outer-ring"
          title="Click and drag to rotate the camera"
          style=${this.outerRingStyle}
        >
          ${wu}
        </div>
        <div
          class="compass-gyro-background ${this.isOrbiting?"active":""}"
        ></div>
        <div class="compass-gyro">${ku}</div>
      </div>
      <div class="navigation-controls">
        <cesium-navigation-zoom-in></cesium-navigation-zoom-in>
        <cesium-navigation-reset></cesium-navigation-reset>
        <cesium-navigation-zoom-out></cesium-navigation-zoom-out>
      </div>
    `:G``}});function Iu(t,n,i){const r=t.scene.camera;if(t.trackedEntity=void 0,n instanceof e.CzmlDataSource||n instanceof e.KmlDataSource||n instanceof e.GeoJsonDataSource){const r=t.clockViewModel.clock,o=n.clock;if(e.defined(o)){const t=o.startTime,n=o.stopTime;(e.JulianDate.lessThan(r.currentTime,t)||e.JulianDate.greaterThan(r.currentTime,n))&&(r.currentTime=t.clone())}t.flyTo(n,{duration:i})}else{if(!(n instanceof e.ImageryLayer)){if(n instanceof e.Cesium3DTileset)return n.boundingSphere.radius>e.Ellipsoid.WGS84.minimumRadius?void r.flyTo({destination:e.Rectangle.MAX_VALUE,endTransform:e.Matrix4.IDENTITY,duration:i}):void r.flyToBoundingSphere(n.boundingSphere,{endTransform:e.Matrix4.IDENTITY,duration:i});throw new e.DeveloperError("Failed to zoom to unrecognized data type.")}t.flyTo(n,{duration:i})}}customElements.define("ion-context-menu",class extends pe{static get properties(){return{_open:{type:Boolean,reflect:!0}}}static get styles(){return[ql,p`
        :host {
          display: none;
          z-index: 10;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
        }
        .popover-wrapper {
          background-color: var(--container-bg);
          border-radius: var(--border-radius);
          position: absolute;
          box-shadow: 0 0 10px var(--shadow-color);
          max-height: 90%;
          overflow-y: auto;
        }
        :host([_open]) {
          display: inline-block;
        }
        :host([_open]) .popover-wrapper {
          pointer-events: all;
        }
      `]}constructor(){super(),this._open=!1,this.top=0,this.left=0,this._closeDropdown=this._closeDropdown.bind(this)}firstUpdated(){this.addEventListener("click",(e=>{e.stopPropagation()})),this.addEventListener("pointerdown",(e=>{e.stopPropagation()})),this.addEventListener("pointerup",(e=>{e.stopPropagation()}))}render(){const e=`top: ${this.top}px; left: ${this.left}px`;return G`
      <div class="popover-wrapper" style="${e}">
        <slot></slot>
      </div>
    `}_closeDropdown(t){e.defined(t)&&-1!==t.composedPath().indexOf(this)||this.close()}open(e,t){this.left=e,this.top=t,this._open=!0,document.addEventListener("pointerdown",this._closeDropdown),document.addEventListener("wheel",this._closeDropdown)}close(){this._open=!1,document.removeEventListener("pointerdown",this._closeDropdown),document.removeEventListener("wheel",this._closeDropdown),this.dispatchEvent(new CustomEvent("closed"))}});var qu=[p`
    ${h('/* packages/widgets/Source/shared.css */\n.cesium-svgPath-svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.cesium-button {\n  display: inline-block;\n  position: relative;\n  background: #303336;\n  border: 1px solid #444;\n  color: #edffff;\n  fill: #edffff;\n  border-radius: 4px;\n  padding: 5px 12px;\n  margin: 2px 3px;\n  cursor: pointer;\n  overflow: hidden;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.cesium-button:focus {\n  color: #fff;\n  fill: #fff;\n  border-color: #ea4;\n  outline: none;\n}\n.cesium-button:hover {\n  color: #fff;\n  fill: #fff;\n  background: #48b;\n  border-color: #aef;\n  box-shadow: 0 0 8px #fff;\n}\n.cesium-button:active {\n  color: #000;\n  fill: #000;\n  background: #adf;\n  border-color: #fff;\n  box-shadow: 0 0 8px #fff;\n}\n.cesium-button:disabled,\n.cesium-button-disabled,\n.cesium-button-disabled:focus,\n.cesium-button-disabled:hover,\n.cesium-button-disabled:active {\n  background: #303336;\n  border-color: #444;\n  color: #646464;\n  fill: #646464;\n  box-shadow: none;\n  cursor: default;\n}\n.cesium-button option {\n  background-color: #000;\n  color: #eee;\n}\n.cesium-button option:disabled {\n  color: #777;\n}\n.cesium-button input,\n.cesium-button label {\n  cursor: pointer;\n}\n.cesium-button input {\n  vertical-align: sub;\n}\n.cesium-toolbar-button {\n  box-sizing: border-box;\n  width: 32px;\n  height: 32px;\n  border-radius: 14%;\n  padding: 0;\n  vertical-align: middle;\n  z-index: 0;\n}\n.cesium-performanceDisplay-defaultContainer {\n  position: absolute;\n  top: 50px;\n  right: 10px;\n  text-align: right;\n}\n.cesium-performanceDisplay {\n  background-color: rgba(40, 40, 40, 0.7);\n  padding: 7px;\n  border-radius: 5px;\n  border: 1px solid #444;\n  font: bold 12px sans-serif;\n}\n.cesium-performanceDisplay-fps {\n  color: #e52;\n}\n.cesium-performanceDisplay-throttled {\n  color: #a42;\n}\n.cesium-performanceDisplay-ms {\n  color: #de3;\n}\n\n/* packages/widgets/Source/Animation/Animation.css */\n.cesium-animation-theme {\n  visibility: hidden;\n  display: block;\n  position: absolute;\n  z-index: -100;\n}\n.cesium-animation-themeNormal {\n  color: #222;\n}\n.cesium-animation-themeHover {\n  color: #4488b0;\n}\n.cesium-animation-themeSelect {\n  color: #242;\n}\n.cesium-animation-themeDisabled {\n  color: #333;\n}\n.cesium-animation-themeKnob {\n  color: #222;\n}\n.cesium-animation-themePointer {\n  color: #2e2;\n}\n.cesium-animation-themeSwoosh {\n  color: #8ac;\n}\n.cesium-animation-themeSwooshHover {\n  color: #aef;\n}\n.cesium-animation-svgText {\n  fill: #edffff;\n  font-family: Sans-Serif;\n  font-size: 15px;\n  text-anchor: middle;\n}\n.cesium-animation-blank {\n  fill: #000;\n  fill-opacity: 0.01;\n  stroke: none;\n}\n.cesium-animation-rectButton {\n  cursor: pointer;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.cesium-animation-rectButton .cesium-animation-buttonGlow {\n  fill: #fff;\n  stroke: none;\n  display: none;\n}\n.cesium-animation-rectButton:hover .cesium-animation-buttonGlow {\n  display: block;\n}\n.cesium-animation-rectButton .cesium-animation-buttonPath {\n  fill: #edffff;\n}\n.cesium-animation-rectButton .cesium-animation-buttonMain {\n  stroke: #444;\n  stroke-width: 1.2;\n}\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain {\n  stroke: #aef;\n}\n.cesium-animation-rectButton:active .cesium-animation-buttonMain {\n  fill: #abd6ff;\n}\n.cesium-animation-buttonDisabled {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain {\n  stroke: #555;\n}\n.cesium-animation-buttonDisabled .cesium-animation-buttonPath {\n  fill: #818181;\n}\n.cesium-animation-buttonDisabled .cesium-animation-buttonGlow {\n  display: none;\n}\n.cesium-animation-buttonToggled .cesium-animation-buttonGlow {\n  display: block;\n  fill: #2e2;\n}\n.cesium-animation-buttonToggled .cesium-animation-buttonMain {\n  stroke: #2e2;\n}\n.cesium-animation-buttonToggled:hover .cesium-animation-buttonGlow {\n  fill: #fff;\n}\n.cesium-animation-buttonToggled:hover .cesium-animation-buttonMain {\n  stroke: #2e2;\n}\n.cesium-animation-shuttleRingG {\n  cursor: pointer;\n}\n.cesium-animation-shuttleRingPointer {\n  cursor: pointer;\n}\n.cesium-animation-shuttleRingPausePointer {\n  cursor: pointer;\n}\n.cesium-animation-shuttleRingBack {\n  fill: #181818;\n  fill-opacity: 0.8;\n  stroke: #333;\n  stroke-width: 1.2;\n}\n.cesium-animation-shuttleRingSwoosh line {\n  stroke: #8ac;\n  stroke-width: 3;\n  stroke-opacity: 0.2;\n  stroke-linecap: round;\n}\n.cesium-animation-knobOuter {\n  cursor: pointer;\n  stroke: #444;\n  stroke-width: 1.2;\n}\n.cesium-animation-knobInner {\n  cursor: pointer;\n}\n\n/* packages/widgets/Source/BaseLayerPicker/BaseLayerPicker.css */\n.cesium-baseLayerPicker-selected {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n.cesium-baseLayerPicker-dropDown {\n  display: block;\n  position: absolute;\n  box-sizing: content-box;\n  top: auto;\n  right: 0;\n  width: 320px;\n  max-height: 500px;\n  margin-top: 5px;\n  background-color: rgba(38, 38, 38, 0.75);\n  border: 1px solid #444;\n  padding: 6px;\n  overflow: auto;\n  border-radius: 10px;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transform: translate(0, -20%);\n  visibility: hidden;\n  opacity: 0;\n  transition:\n    visibility 0s 0.2s,\n    opacity 0.2s ease-in,\n    transform 0.2s ease-in;\n}\n.cesium-baseLayerPicker-dropDown-visible {\n  transform: translate(0, 0);\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.2s ease-out, transform 0.2s ease-out;\n}\n.cesium-baseLayerPicker-sectionTitle {\n  display: block;\n  font-family: sans-serif;\n  font-size: 16pt;\n  text-align: left;\n  color: #edffff;\n  margin-bottom: 4px;\n}\n.cesium-baseLayerPicker-choices {\n  margin-bottom: 5px;\n}\n.cesium-baseLayerPicker-categoryTitle {\n  color: #edffff;\n  font-size: 11pt;\n}\n.cesium-baseLayerPicker-choices {\n  display: block;\n  border: 1px solid #888;\n  border-radius: 5px;\n  padding: 5px 0;\n}\n.cesium-baseLayerPicker-item {\n  display: inline-block;\n  vertical-align: top;\n  margin: 2px 5px;\n  width: 64px;\n  text-align: center;\n  cursor: pointer;\n}\n.cesium-baseLayerPicker-itemLabel {\n  display: block;\n  font-family: sans-serif;\n  font-size: 8pt;\n  text-align: center;\n  vertical-align: middle;\n  color: #edffff;\n  cursor: pointer;\n  word-wrap: break-word;\n}\n.cesium-baseLayerPicker-item:hover .cesium-baseLayerPicker-itemLabel,\n.cesium-baseLayerPicker-item:focus .cesium-baseLayerPicker-itemLabel {\n  text-decoration: underline;\n}\n.cesium-baseLayerPicker-itemIcon {\n  display: inline-block;\n  position: relative;\n  width: inherit;\n  height: auto;\n  background-size: 100% 100%;\n  border: solid 1px #444;\n  border-radius: 9px;\n  color: #edffff;\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.cesium-baseLayerPicker-item:hover .cesium-baseLayerPicker-itemIcon {\n  border-color: #fff;\n  box-shadow: 0 0 8px #fff, 0 0 8px #fff;\n}\n.cesium-baseLayerPicker-selectedItem .cesium-baseLayerPicker-itemLabel {\n  color: rgb(189, 236, 248);\n}\n.cesium-baseLayerPicker-selectedItem .cesium-baseLayerPicker-itemIcon {\n  border: double 4px rgb(189, 236, 248);\n}\n\n/* packages/engine/Source/Widget/CesiumWidget.css */\n.cesium-widget {\n  font-family: sans-serif;\n  font-size: 16px;\n  overflow: hidden;\n  display: block;\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.cesium-widget,\n.cesium-widget canvas {\n  width: 100%;\n  height: 100%;\n  touch-action: none;\n}\n.cesium-widget-credits {\n  display: block;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  color: #fff;\n  font-size: 10px;\n  text-shadow: 0px 0px 2px #000000;\n  padding-right: 5px;\n}\n.cesium-widget-credits a,\n.cesium-widget-credits a:visited {\n  color: #fff;\n}\n.cesium-widget-errorPanel {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 99999;\n}\n.cesium-widget-errorPanel:before {\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n  content: "";\n}\n.cesium-widget-errorPanel-content {\n  width: 75%;\n  max-width: 500px;\n  display: inline-block;\n  text-align: left;\n  vertical-align: middle;\n  border: 1px solid #510c00;\n  border-radius: 7px;\n  background-color: #f0d9d5;\n  font-size: 14px;\n  color: #510c00;\n}\n.cesium-widget-errorPanel-content.expanded {\n  max-width: 75%;\n}\n.cesium-widget-errorPanel-header {\n  font-size: 18px;\n  font-family:\n    "Open Sans",\n    Verdana,\n    Geneva,\n    sans-serif;\n  background: #d69d93;\n  border-bottom: 2px solid #510c00;\n  padding-bottom: 10px;\n  border-radius: 3px 3px 0 0;\n  padding: 15px;\n}\n.cesium-widget-errorPanel-scroll {\n  overflow: auto;\n  font-family:\n    "Open Sans",\n    Verdana,\n    Geneva,\n    sans-serif;\n  white-space: pre-wrap;\n  padding: 0 15px;\n  margin: 10px 0 20px 0;\n}\n.cesium-widget-errorPanel-buttonPanel {\n  padding: 0 15px;\n  margin: 10px 0 20px 0;\n  text-align: right;\n}\n.cesium-widget-errorPanel-buttonPanel button {\n  border-color: #510c00;\n  background: #d69d93;\n  color: #202020;\n  margin: 0;\n}\n.cesium-widget-errorPanel-buttonPanel button:focus {\n  border-color: #510c00;\n  background: #f0d9d5;\n  color: #510c00;\n}\n.cesium-widget-errorPanel-buttonPanel button:hover {\n  border-color: #510c00;\n  background: #f0d9d5;\n  color: #510c00;\n}\n.cesium-widget-errorPanel-buttonPanel button:active {\n  border-color: #510c00;\n  background: #b17b72;\n  color: #510c00;\n}\n.cesium-widget-errorPanel-more-details {\n  text-decoration: underline;\n  cursor: pointer;\n}\n.cesium-widget-errorPanel-more-details:hover {\n  color: #2b0700;\n}\n\n/* packages/widgets/Source/CesiumInspector/CesiumInspector.css */\n.cesium-cesiumInspector {\n  border-radius: 5px;\n  transition: width ease-in-out 0.25s;\n  background: rgba(48, 51, 54, 0.8);\n  border: 1px solid #444;\n  color: #edffff;\n  display: inline-block;\n  position: relative;\n  padding: 4px 12px;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  overflow: hidden;\n}\n.cesium-cesiumInspector-button {\n  text-align: center;\n  font-size: 11pt;\n}\n.cesium-cesiumInspector-visible .cesium-cesiumInspector-button {\n  border-bottom: 1px solid #aaa;\n  padding-bottom: 3px;\n}\n.cesium-cesiumInspector input:enabled,\n.cesium-cesiumInspector-button {\n  cursor: pointer;\n}\n.cesium-cesiumInspector-visible {\n  width: 185px;\n  height: auto;\n}\n.cesium-cesiumInspector-hidden {\n  width: 122px;\n  height: 17px;\n}\n.cesium-cesiumInspector-sectionContent {\n  max-height: 600px;\n}\n.cesium-cesiumInspector-section-collapsed .cesium-cesiumInspector-sectionContent {\n  max-height: 0;\n  padding: 0 !important;\n  overflow: hidden;\n}\n.cesium-cesiumInspector-dropDown {\n  margin: 5px 0;\n  font-family: sans-serif;\n  font-size: 10pt;\n  width: 185px;\n}\n.cesium-cesiumInspector-frustumStatistics {\n  padding-left: 10px;\n  padding: 5px;\n  background-color: rgba(80, 80, 80, 0.75);\n}\n.cesium-cesiumInspector-pickButton {\n  background-color: rgba(0, 0, 0, 0.3);\n  border: 1px solid #444;\n  color: #edffff;\n  border-radius: 5px;\n  padding: 3px 7px;\n  cursor: pointer;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  margin: 0 auto;\n}\n.cesium-cesiumInspector-pickButton:focus {\n  outline: none;\n}\n.cesium-cesiumInspector-pickButton:active,\n.cesium-cesiumInspector-pickButtonHighlight {\n  color: #000;\n  background: #adf;\n  border-color: #fff;\n  box-shadow: 0 0 8px #fff;\n}\n.cesium-cesiumInspector-center {\n  text-align: center;\n}\n.cesium-cesiumInspector-sectionHeader {\n  font-weight: bold;\n  font-size: 10pt;\n  margin: 0;\n  cursor: pointer;\n}\n.cesium-cesiumInspector-pickSection {\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  padding: 3px;\n  margin-bottom: 5px;\n}\n.cesium-cesiumInspector-sectionContent {\n  margin-bottom: 10px;\n  transition: max-height 0.25s;\n}\n.cesium-cesiumInspector-tileText {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #aaa;\n}\n.cesium-cesiumInspector-relativeText {\n  padding-top: 10px;\n}\n.cesium-cesiumInspector-sectionHeader::before {\n  margin-right: 5px;\n  content: "-";\n  width: 1ch;\n  display: inline-block;\n}\n.cesium-cesiumInspector-section-collapsed .cesium-cesiumInspector-sectionHeader::before {\n  content: "+";\n}\n\n/* packages/widgets/Source/Cesium3DTilesInspector/Cesium3DTilesInspector.css */\nul.cesium-cesiumInspector-statistics {\n  margin: 0;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\nul.cesium-cesiumInspector-statistics + ul.cesium-cesiumInspector-statistics {\n  border-top: 1px solid #aaa;\n}\n.cesium-cesiumInspector-slider {\n  margin-top: 5px;\n}\n.cesium-cesiumInspector-slider input[type=number] {\n  text-align: left;\n  background-color: #222;\n  outline: none;\n  border: 1px solid #444;\n  color: #edffff;\n  width: 100px;\n  border-radius: 3px;\n  padding: 1px;\n  margin-left: 10px;\n  cursor: auto;\n}\n.cesium-cesiumInspector-slider input[type=number]::-webkit-outer-spin-button,\n.cesium-cesiumInspector-slider input[type=number]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.cesium-cesiumInspector-slider input[type=range] {\n  margin-left: 5px;\n  vertical-align: middle;\n}\n.cesium-cesiumInspector-hide .cesium-cesiumInspector-styleEditor {\n  display: none;\n}\n.cesium-cesiumInspector-styleEditor {\n  padding: 10px;\n  border-radius: 5px;\n  background: rgba(48, 51, 54, 0.8);\n  border: 1px solid #444;\n}\n.cesium-cesiumInspector-styleEditor textarea {\n  width: 100%;\n  height: 300px;\n  background: transparent;\n  color: #edffff;\n  border: none;\n  padding: 0;\n  white-space: pre;\n  overflow-wrap: normal;\n  overflow-x: auto;\n}\n.cesium-3DTilesInspector {\n  width: 300px;\n  pointer-events: all;\n}\n.cesium-3DTilesInspector-statistics {\n  font-size: 11px;\n}\n.cesium-3DTilesInspector-disabledElementsInfo {\n  margin: 5px 0 0 0;\n  padding: 0 0 0 20px;\n  color: #eed202;\n}\n.cesium-3DTilesInspector div,\n.cesium-3DTilesInspector input[type=range] {\n  width: 100%;\n  box-sizing: border-box;\n}\n.cesium-cesiumInspector-error {\n  color: #ff9e9e;\n  overflow: auto;\n}\n.cesium-3DTilesInspector .cesium-cesiumInspector-section {\n  margin-top: 3px;\n}\n.cesium-3DTilesInspector .cesium-cesiumInspector-sectionHeader + .cesium-cesiumInspector-show {\n  border-top: 1px solid white;\n}\ninput.cesium-cesiumInspector-url {\n  overflow: hidden;\n  white-space: nowrap;\n  overflow-x: scroll;\n  background-color: transparent;\n  color: white;\n  outline: none;\n  border: none;\n  height: 1em;\n  width: 100%;\n}\n.cesium-cesiumInspector .field-group {\n  display: table;\n}\n.cesium-cesiumInspector .field-group > label {\n  display: table-cell;\n  font-weight: bold;\n}\n.cesium-cesiumInspector .field-group > .field {\n  display: table-cell;\n  width: 100%;\n}\n\n/* packages/widgets/Source/FullscreenButton/FullscreenButton.css */\n.cesium-button.cesium-fullscreenButton {\n  display: block;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  border-radius: 0;\n}\n\n/* packages/widgets/Source/VRButton/VRButton.css */\n.cesium-button.cesium-vrButton {\n  display: block;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  border-radius: 0;\n}\n\n/* packages/widgets/Source/Geocoder/Geocoder.css */\n.cesium-viewer-geocoderContainer .cesium-geocoder-input {\n  border: solid 1px #444;\n  background-color: rgba(40, 40, 40, 0.7);\n  color: white;\n  display: inline-block;\n  vertical-align: middle;\n  width: 0;\n  height: 32px;\n  margin: 0;\n  padding: 0 32px 0 0;\n  border-radius: 0;\n  box-sizing: border-box;\n  transition: width ease-in-out 0.25s, background-color 0.2s ease-in-out;\n  -webkit-appearance: none;\n}\n.cesium-viewer-geocoderContainer:hover .cesium-geocoder-input {\n  border-color: #aef;\n  box-shadow: 0 0 8px #fff;\n}\n.cesium-viewer-geocoderContainer .cesium-geocoder-input:focus {\n  border-color: #ea4;\n  background-color: rgba(15, 15, 15, 0.9);\n  box-shadow: none;\n  outline: none;\n}\n.cesium-viewer-geocoderContainer:hover .cesium-geocoder-input,\n.cesium-viewer-geocoderContainer .cesium-geocoder-input:focus,\n.cesium-viewer-geocoderContainer .cesium-geocoder-input-wide {\n  padding-left: 4px;\n  width: 250px;\n}\n.cesium-viewer-geocoderContainer .search-results {\n  position: absolute;\n  background-color: #000;\n  color: #eee;\n  overflow-y: auto;\n  opacity: 0.8;\n  width: 100%;\n}\n.cesium-viewer-geocoderContainer .search-results ul {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.cesium-viewer-geocoderContainer .search-results ul li {\n  font-size: 14px;\n  padding: 3px 10px;\n}\n.cesium-viewer-geocoderContainer .search-results ul li:hover {\n  cursor: pointer;\n}\n.cesium-viewer-geocoderContainer .search-results ul li.active {\n  background: #48b;\n}\n.cesium-geocoder-searchButton {\n  background-color: #303336;\n  display: inline-block;\n  position: absolute;\n  cursor: pointer;\n  width: 32px;\n  top: 1px;\n  right: 1px;\n  height: 30px;\n  vertical-align: middle;\n  fill: #edffff;\n}\n.cesium-geocoder-searchButton:hover {\n  background-color: #48b;\n}\n\n/* packages/widgets/Source/InfoBox/InfoBox.css */\n.cesium-infoBox {\n  display: block;\n  position: absolute;\n  top: 50px;\n  right: 0;\n  width: 40%;\n  max-width: 480px;\n  background: rgba(38, 38, 38, 0.95);\n  color: #edffff;\n  border: 1px solid #444;\n  border-right: none;\n  border-top-left-radius: 7px;\n  border-bottom-left-radius: 7px;\n  box-shadow: 0 0 10px 1px #000;\n  transform: translate(100%, 0);\n  visibility: hidden;\n  opacity: 0;\n  transition:\n    visibility 0s 0.2s,\n    opacity 0.2s ease-in,\n    transform 0.2s ease-in;\n}\n.cesium-infoBox-visible {\n  transform: translate(0, 0);\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.2s ease-out, transform 0.2s ease-out;\n}\n.cesium-infoBox-title {\n  display: block;\n  height: 20px;\n  padding: 5px 30px 5px 25px;\n  background: rgba(84, 84, 84, 1);\n  border-top-left-radius: 7px;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  box-sizing: content-box;\n}\n.cesium-infoBox-bodyless .cesium-infoBox-title {\n  border-bottom-left-radius: 7px;\n}\nbutton.cesium-infoBox-camera {\n  display: block;\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  width: 22px;\n  height: 22px;\n  background: transparent;\n  border-color: transparent;\n  border-radius: 3px;\n  padding: 0 5px;\n  margin: 0;\n}\nbutton.cesium-infoBox-close {\n  display: block;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  height: 20px;\n  background: transparent;\n  border: none;\n  border-radius: 2px;\n  font-weight: bold;\n  font-size: 16px;\n  padding: 0 5px;\n  margin: 0;\n  color: #edffff;\n}\nbutton.cesium-infoBox-close:focus {\n  background: rgba(238, 136, 0, 0.44);\n  outline: none;\n}\nbutton.cesium-infoBox-close:hover {\n  background: #888;\n  color: #000;\n}\nbutton.cesium-infoBox-close:active {\n  background: #a00;\n  color: #000;\n}\n.cesium-infoBox-bodyless .cesium-infoBox-iframe {\n  display: none;\n}\n.cesium-infoBox-iframe {\n  border: none;\n  width: 100%;\n  width: calc(100% - 2px);\n}\n\n/* packages/widgets/Source/SceneModePicker/SceneModePicker.css */\nspan.cesium-sceneModePicker-wrapper {\n  display: inline-block;\n  position: relative;\n  margin: 0 3px;\n}\n.cesium-sceneModePicker-visible {\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.25s linear;\n}\n.cesium-sceneModePicker-hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.25s, opacity 0.25s linear;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-none {\n  display: none;\n}\n.cesium-sceneModePicker-slide-svg {\n  transition: left 2s;\n  top: 0;\n  left: 0;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-dropDown-icon {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 3px 0;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button3D,\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-buttonColumbusView,\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button2D {\n  margin: 0 0 3px 0;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button3D .cesium-sceneModePicker-icon2D {\n  left: 100%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button3D .cesium-sceneModePicker-iconColumbusView {\n  left: 200%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-buttonColumbusView .cesium-sceneModePicker-icon3D {\n  left: -200%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-buttonColumbusView .cesium-sceneModePicker-icon2D {\n  left: -100%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button2D .cesium-sceneModePicker-icon3D {\n  left: -100%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-button2D .cesium-sceneModePicker-iconColumbusView {\n  left: 100%;\n}\n.cesium-sceneModePicker-wrapper .cesium-sceneModePicker-selected {\n  border-color: #2e2;\n  box-shadow: 0 0 8px #fff, 0 0 8px #fff;\n}\n\n/* packages/widgets/Source/ProjectionPicker/ProjectionPicker.css */\nspan.cesium-projectionPicker-wrapper {\n  display: inline-block;\n  position: relative;\n  margin: 0 3px;\n}\n.cesium-projectionPicker-visible {\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.25s linear;\n}\n.cesium-projectionPicker-hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.25s, opacity 0.25s linear;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-none {\n  display: none;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-dropDown-icon {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 3px 0;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-buttonPerspective,\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-buttonOrthographic {\n  margin: 0 0 3px 0;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-buttonPerspective .cesium-projectionPicker-iconOrthographic {\n  left: 100%;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-buttonOrthographic .cesium-projectionPicker-iconPerspective {\n  left: -100%;\n}\n.cesium-projectionPicker-wrapper .cesium-projectionPicker-selected {\n  border-color: #2e2;\n  box-shadow: 0 0 8px #fff, 0 0 8px #fff;\n}\n\n/* packages/widgets/Source/PerformanceWatchdog/PerformanceWatchdog.css */\n.cesium-performance-watchdog-message-area {\n  position: relative;\n  background-color: yellow;\n  color: black;\n  padding: 10px;\n}\n.cesium-performance-watchdog-message {\n  margin-right: 30px;\n}\n.cesium-performance-watchdog-message-dismiss {\n  position: absolute;\n  right: 0;\n  margin: 0 10px 0 0;\n}\n\n/* packages/widgets/Source/NavigationHelpButton/NavigationHelpButton.css */\n.cesium-navigationHelpButton-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.cesium-navigation-help {\n  visibility: hidden;\n  position: absolute;\n  top: 38px;\n  right: 2px;\n  width: 250px;\n  border-radius: 10px;\n  transform: scale(0.01);\n  transform-origin: 234px -10px;\n  transition: visibility 0s 0.25s, transform 0.25s ease-in;\n}\n.cesium-navigation-help-visible {\n  visibility: visible;\n  transform: scale(1);\n  transition: transform 0.25s ease-out;\n}\n.cesium-navigation-help-instructions {\n  border: 1px solid #444;\n  background-color: rgba(38, 38, 38, 0.75);\n  padding-bottom: 5px;\n  border-radius: 0 0 10px 10px;\n}\n.cesium-click-navigation-help {\n  display: none;\n}\n.cesium-touch-navigation-help {\n  display: none;\n  padding-top: 5px;\n}\n.cesium-click-navigation-help-visible {\n  display: block;\n}\n.cesium-touch-navigation-help-visible {\n  display: block;\n}\n.cesium-navigation-help-pan {\n  color: #66ccff;\n  font-weight: bold;\n}\n.cesium-navigation-help-zoom {\n  color: #65fd00;\n  font-weight: bold;\n}\n.cesium-navigation-help-rotate {\n  color: #ffd800;\n  font-weight: bold;\n}\n.cesium-navigation-help-tilt {\n  color: #d800d8;\n  font-weight: bold;\n}\n.cesium-navigation-help-details {\n  color: #ffffff;\n}\n.cesium-navigation-button {\n  color: #fff;\n  background-color: transparent;\n  border-bottom: none;\n  border-top: 1px solid #444;\n  border-right: 1px solid #444;\n  margin: 0;\n  width: 50%;\n  cursor: pointer;\n}\n.cesium-navigation-button-icon {\n  vertical-align: middle;\n  padding: 5px 1px;\n}\n.cesium-navigation-button:focus {\n  outline: none;\n}\n.cesium-navigation-button-left {\n  border-radius: 10px 0 0 0;\n  border-left: 1px solid #444;\n}\n.cesium-navigation-button-right {\n  border-radius: 0 10px 0 0;\n  border-left: none;\n}\n.cesium-navigation-button-selected {\n  background-color: rgba(38, 38, 38, 0.75);\n}\n.cesium-navigation-button-unselected {\n  background-color: rgba(0, 0, 0, 0.75);\n}\n.cesium-navigation-button-unselected:hover {\n  background-color: rgba(76, 76, 76, 0.75);\n}\n\n/* packages/widgets/Source/SelectionIndicator/SelectionIndicator.css */\n.cesium-selection-wrapper {\n  position: absolute;\n  width: 160px;\n  height: 160px;\n  pointer-events: none;\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.2s, opacity 0.2s ease-in;\n}\n.cesium-selection-wrapper-visible {\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.2s ease-out;\n}\n.cesium-selection-wrapper svg {\n  fill: #2e2;\n  stroke: #000;\n  stroke-width: 1.1px;\n}\n.cesium-selection-wrapper .cesium-selection-circle {\n  opacity: 0.9;\n}\n\n/* packages/widgets/Source/Timeline/Timeline.css */\n.cesium-timeline-main {\n  position: relative;\n  left: 0;\n  bottom: 0;\n  overflow: hidden;\n  border: solid 1px #888;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.cesium-timeline-trackContainer {\n  width: 100%;\n  overflow: auto;\n  border-top: solid 1px #888;\n  position: relative;\n  top: 0;\n  left: 0;\n}\n.cesium-timeline-tracks {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.cesium-timeline-needle {\n  position: absolute;\n  left: 0;\n  top: 1.7em;\n  bottom: 0;\n  width: 1px;\n  background: #f00;\n}\n.cesium-timeline-bar {\n  position: relative;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  cursor: pointer;\n  width: 100%;\n  height: 1.7em;\n  background: linear-gradient(to bottom, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%);\n}\n.cesium-timeline-ruler {\n  visibility: hidden;\n  white-space: nowrap;\n  font-size: 80%;\n  z-index: -200;\n}\n.cesium-timeline-highlight {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background: #08f;\n}\n.cesium-timeline-ticLabel {\n  position: absolute;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  font-size: 80%;\n  color: #eee;\n}\n.cesium-timeline-ticMain {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 50%;\n  background: #eee;\n}\n.cesium-timeline-ticSub {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 33%;\n  background: #aaa;\n}\n.cesium-timeline-ticTiny {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 25%;\n  background: #888;\n}\n.cesium-timeline-icon16 {\n  display: block;\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  background-image: url(data:text/plain;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sIDBITKIVzLEMAAAKNSURBVEjHxdXNSxRhHAfw7zzrqhuoWJnSkrippUVSEKsHI9BTUYdAJA/RoYMREV26rAdn6tAfUARi16hQqkOBQRgUEYFWEC3OwczMjdZd92VmdWfmeelgTjO7q7gb0VzmmZnn85vvPPPMM8B/3qTcE2PPpuTZKB1eWuUQACgXYACYwVFbCTTVeZXB/i55o4LFelcAZfStYD4vpAoPGAGo4GBcQEgSOAUMQyAezwK6iQfDPXnhS/FkHZ+/8VLMWxxqWkfH3gbMRNOYi2roavbja0zHQmoFPYf8ED4Ko4aivm9MOG/u9I8mwrafeK7a/tVrNc/bARYN5noadeq7q0342vXw9CIMU6BmW8rVP9cPBPe52uu+v3O/y9sB4gkTWs6Qsk0mj5ExXMelejvA8WafYmkmGPHanTijdtvif8rx5RiCjdWKs2Cp3jWRDl96KhrbqlBeJqBOLyLQXg0IgbkZDS0dO8EZxZfPSTA9jvDDK3mT0OmP1FXh3XwEEAKdTX5MRWLgjCK4pwH3xt/YnjgLHAv4lHTCAKMMu/wV+KZGob6PoKyMQ0+sgBpZVJZn0NterxQaVqef/DRn+/EXYds/mZx2eVeAW9d65dhCEsaKCb7K8HH0gqTevyh9GDkn0VULRiaLzJKGBu9swfdaiie5RVo9ESURN8E8BE0n7ggACJy8KzghSCzp6DmwWxkaCm24EBXr8wI8Hrkq06QBiRC0t24HALS11IBTCyJl4vb1AXmzpbVYTwoVOXN0h7L8Mwtm8bXPybIQ/5FCX3dA2cr6XowvGCA02CvztAnz9+JiZk1AMxG6fEreSoBiPNmoyNnuWiWVzAIAtISO08E6pZi/3N96AIDn4E3h3P8L/wshP+txtEs4JAAAAABJRU5ErkJggg==);\n  background-repeat: no-repeat;\n}\n\n/* packages/widgets/Source/Viewer/Viewer.css */\n.cesium-viewer {\n  font-family: sans-serif;\n  font-size: 16px;\n  overflow: hidden;\n  display: block;\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.cesium-viewer-cesiumWidgetContainer {\n  width: 100%;\n  height: 100%;\n}\n.cesium-viewer-bottom {\n  display: block;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  padding-right: 5px;\n}\n.cesium-viewer .cesium-widget-credits {\n  display: inline;\n  position: static;\n  bottom: auto;\n  left: auto;\n  padding-right: 0;\n  color: #ffffff;\n  font-size: 10px;\n  text-shadow: 0 0 2px #000000;\n}\n.cesium-viewer-timelineContainer {\n  position: absolute;\n  bottom: 0;\n  left: 169px;\n  right: 29px;\n  height: 27px;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  font-size: 14px;\n}\n.cesium-viewer-animationContainer {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  padding: 0;\n  width: 169px;\n  height: 112px;\n}\n.cesium-viewer-fullscreenContainer {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  width: 29px;\n  height: 29px;\n  overflow: hidden;\n}\n.cesium-viewer-vrContainer {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  width: 29px;\n  height: 29px;\n  overflow: hidden;\n}\n.cesium-viewer-toolbar {\n  display: block;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n.cesium-viewer-cesiumInspectorContainer {\n  display: block;\n  position: absolute;\n  top: 50px;\n  right: 10px;\n}\n.cesium-viewer-measureContainer {\n  position: relative;\n  display: inline-block;\n  margin: 0 3px;\n  vertical-align: middle;\n}\n.cesium-viewer-geocoderContainer {\n  position: relative;\n  display: inline-block;\n  margin: 0 3px;\n}\n.cesium-viewer-cesium3DTilesInspectorContainer {\n  display: block;\n  position: absolute;\n  top: 50px;\n  right: 10px;\n  max-height: calc(100% - 120px);\n  box-sizing: border-box;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.cesium-viewer-voxelInspectorContainer {\n  display: block;\n  position: absolute;\n  top: 50px;\n  right: 10px;\n  max-height: calc(100% - 120px);\n  box-sizing: border-box;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n/* packages/ion-sdk-widgets/Source/Measure/Measure.css */\n.cesium-measure-toolbar {\n  width: 40px;\n  height: 32px;\n  overflow: hidden;\n  transition: width 0.8s;\n  white-space: nowrap;\n  background: #303336;\n  border: 1px solid #444;\n  color: #edffff;\n  stroke: #edffff;\n  stroke-width: 2;\n  fill: transparent;\n}\n.cesium-measure-toolbar.expanded {\n  width: 423px;\n}\n.cesium-measure-button {\n  vertical-align: top;\n  display: inline-block;\n  border-right: 1px solid #444;\n  cursor: pointer;\n  padding: 4px 8px;\n  height: 25px;\n  width: 25px;\n  margin-left: -4px;\n}\n.cesium-measure-button:first-child {\n  margin-left: 0;\n}\n.cesium-measure-button:hover {\n  background-color: #48b;\n}\n.cesium-measure-button:last-child {\n  border-right: none;\n}\n.cesium-measure-button.active {\n  background-color: #1a71cc;\n  cursor: default;\n}\n.cesium-measure-button-main {\n  stroke-width: 1.3;\n}\n.cesium-measure-help {\n  stroke-width: 0;\n  padding: 6px 8px;\n  fill: #edffff;\n}\n.cesium-measure-instructions {\n  position: absolute;\n  max-height: 500px;\n  width: 403px;\n  border: 1px solid #444;\n  overflow-y: auto;\n  border-radius: 0;\n  background-color: rgba(48, 51, 54, 0.8);\n  color: #edffff;\n  padding: 10px;\n  stroke: #edffff;\n  stroke-width: 2;\n}\n.cesium-measure-icon {\n  margin-right: 10px;\n}\n.cesium-measure-instructions .bold {\n  margin-bottom: 3px;\n}\n.cesium-measure-instructions > ul {\n  padding-left: 20px;\n}\n\n/* packages/ion-sdk-widgets/Source/TransformEditor/TransformEditor.css */\n.transform-editor-menu {\n  position: absolute;\n  stroke: none;\n  fill: #edffff;\n}\n.transform-editor-button {\n  padding: 0;\n  width: 25px;\n  height: 25px;\n  border-radius: 13px;\n}\n.transform-editor-button > svg {\n  margin-top: 2px;\n  margin-left: 2px;\n}\n.transform-editor-options {\n  position: relative;\n  left: -16px;\n  background-color: #303336;\n  color: #edffff;\n}\n.transform-editor-button-row > div {\n  display: inline-block;\n  cursor: pointer;\n  padding-top: 4px;\n  padding-left: 4px;\n  width: 30px;\n  height: 30px;\n  border: 1px solid #444;\n}\n.transform-editor-button-row > div.selected {\n  background-color: #1e90ff;\n}\n.transform-editor-button-row > div:hover {\n  background-color: #48b;\n}\n\n/* packages/ion-sdk-widgets/Source/widgets.css */\n')}
  `,p`
    ${h('.cesium-theme * {\n  box-sizing: content-box;\n}\n\n.cesium-theme .cesium-button.cesium-fullscreenButton {\n  box-sizing: border-box;\n}\n\n.cesium-theme .cesium-timeline-main {\n  border: none;\n}\n\n.cesium-theme .cesium-timeline-bar {\n  background: var(--transparent-widget-color);\n  height: 29px;\n}\n\n.cesium-theme .cesium-timeline-ticLabel {\n  color: var(--text-light);\n}\n\n.cesium-theme .cesium-timeline-ticMain {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 50%;\n  background: var(--gray-lightest);\n}\n\n.cesium-theme .cesium-timeline-ticSub,\n.cesium-theme .cesium-timeline-ticTiny {\n  background: var(--gray-light);\n}\n\n.ion-editor.cesium-theme .cesium-viewer-timelineContainer {\n  height: 40px;\n}\n\n.cesium-theme .cesium-viewer-geocoderContainer {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n}\n\n.cesium-theme .cesium-viewer-geocoderContainer .search-results {\n  background-color: var(--transparent-widget-color);\n  border: 1px solid var(--gray-dark);\n  border-top: 0;\n  color: var(--text-light);\n  opacity: 1;\n  z-index: 2;\n}\n\n.cesium-theme .cesium-viewer-geocoderContainer .search-results ul li {\n  font-size: var(--font-size);\n}\n\n.cesium-theme .cesium-geocoder-input {\n  background-color: var(--transparent-widget-color);\n  border: 1px solid var(--brand-dark-shade);\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  -webkit-transition: border-color ease-in-out 0.15s,\n    box-shadow ease-in-out 0.15s;\n  -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s,\n    width ease-in-out 0.25s, background-color 0.2s ease-in-out;\n}\n\n.cesium-theme .cesium-geocoder-input::placeholder {\n  color: var(--gray-light);\n}\n\n.cesium-theme .cesium-geocoder-input:focus {\n  background-color: var(--gray-dark);\n  color: var(--text-light);\n  border-color: var(--brand-primary);\n  outline: 0;\n}\n\n.cesium-theme .cesium-geocoder-searchButton {\n  background-color: var(--brand-dark);\n  border: none;\n  fill: var(--text-light);\n  color: var(--text-light);\n}\n\n.cesium-theme .cesium-geocoder-searchButton:hover {\n  background-color: var(--brand-primary);\n}\n\n.cesium-theme .cesium-viewer-geocoderContainer:hover .cesium-geocoder-input {\n  box-shadow: none;\n  border: none;\n}\n\n.cesium-theme\n  .cesium-viewer-geocoderContainer:hover\n  .cesium-geocoder-input:focus {\n  background-color: var(--brand-dark);\n  color: var(--text-light);\n  border-color: var(--brand-dark-shade);\n  outline: 0;\n}\n\n.cesium-theme .cesium-button {\n  display: inline-block;\n  margin-bottom: 0;\n  font-weight: normal;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid transparent;\n  padding: 6px 12px;\n  font-size: 14px;\n  line-height: 1.35;\n  border-radius: 5px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  color: #fff;\n  fill: #fff;\n  background-color: var(--brand-dark);\n  border-color: var(--brand-dark-shade);\n  border-radius: 0;\n}\n\n.cesium-theme .cesium-button:hover {\n  background-color: var(--brand-primary);\n  border-color: var(--brand-primary-shade);\n}\n\n.cesium-theme .cesium-widget-credits {\n  position: initial;\n  display: inline-block;\n  text-shadow: none;\n}\n\n.cesium-theme .cesium-credit-logoContainer img {\n  height: 25px;\n  padding-top: 2px;\n  vertical-align: bottom;\n}\n\n.cesium-theme .cesium-button:active {\n  fill: var(--text-light);\n}\n\n.cesium-theme #mapViewerCredits .cesium-credit-text {\n  color: var(--text-light);\n}\n\n.cesium-theme .cesium-credit-expand-link {\n  padding-left: 5px;\n  cursor: pointer;\n  text-decoration: underline;\n  color: var(--text-light);\n}\n.cesium-theme .cesium-credit-expand-link:hover {\n  color: var(--brand-primary);\n}\n.cesium-theme .cesium-credit-text {\n  color: var(--text-light);\n}\n.cesium-theme .cesium-credit-textContainer *,\n.cesium-theme .cesium-credit-logoContainer * {\n  display: inline;\n}\n\n.cesium-theme .cesium-credit-lightbox-overlay {\n  z-index: 2;\n  background-color: var(--transparent-overlay-color);\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.cesium-theme .cesium-credit-lightbox {\n  background-color: var(--brand-dark);\n  color: var(--text-light);\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  border: none;\n  border-radius: var(--border-radius);\n  position: relative;\n  min-height: 100px;\n  margin: auto;\n}\n\n.cesium-theme .cesium-credit-lightbox > ul > li a,\n.cesium-theme .cesium-credit-lightbox > ul > li a:visited {\n  color: var(--text-light);\n}\n.cesium-theme .cesium-credit-lightbox > ul > li a:hover {\n  color: var(--brand-primary);\n}\n.cesium-theme .cesium-credit-lightbox-close {\n  color: var(--text-light);\n  font-weight: bold;\n  font-size: 18pt;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 6px;\n}\n.cesium-theme .cesium-credit-lightbox-close:hover {\n  color: var(--brand-primary);\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-expanded {\n  border: 1px solid var(--brand-dark-shade);\n  border-radius: 5px;\n  max-width: 370px;\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-mobile {\n  height: 100%;\n  width: 100%;\n}\n.cesium-theme .cesium-credit-lightbox.cesium-credit-lightbox-mobile {\n  border-radius: 0;\n}\n.cesium-theme .cesium-credit-lightbox-title {\n  padding: 20px 20px 0 20px;\n}\n.cesium-theme .cesium-credit-lightbox > ul {\n  margin: 0;\n  padding: 12px 20px 12px 40px;\n  font-size: 13px;\n}\n.cesium-theme .cesium-credit-lightbox > ul > li {\n  padding-bottom: 6px;\n}\n.cesium-theme .cesium-credit-lightbox > ul > li * {\n  padding: 0;\n  margin: 0;\n}\n.cesium-theme .cesium-credit-text {\n  color: var(--text-light);\n}\n\n.cesium-theme .cesium-measure-toolbar {\n  height: 43px;\n  color: #fff;\n  stroke: #fff;\n  border-radius: var(--border-radius);\n  background-color: var(--brand-dark);\n  border: none;\n}\n.cesium-theme .cesium-measure-toolbar.expanded {\n  width: 373px;\n}\n.cesium-theme .cesium-viewer-measureContainer {\n  vertical-align: bottom;\n}\n.cesium-theme .cesium-measure-toolbar .cesium-measure-button {\n  padding: 9px 8px;\n}\n.cesium-theme .cesium-measure-toolbar .cesium-measure-button > svg {\n  height: 23px;\n  width: 23px;\n}\n.cesium-theme .cesium-measure-toolbar .cesium-measure-help {\n  display: none;\n}\n\n.cesium-theme .cesium-measure-toolbar .cesium-measure-button.active {\n  background-color: var(--brand-primary);\n  stroke: var(--text-light);\n}\n\n.cesium-theme .cesium-measure-toolbar .cesium-measure-help.active {\n  background-color: var(--brand-primary);\n  fill: var(--text-light);\n}\n\n.cesium-theme .cesium-measure-toolbar .cesium-measure-button:hover {\n  background-color: var(--brand-primary);\n}\n\n.cesium-theme .cesium-measure-instructions {\n  background-color: var(--brand-dark);\n  color: var(--text-light);\n  stroke: var(--text-light);\n  fill: transparent;\n}\n\n.cesium-theme .cesium-button.transform-editor-button {\n  border-radius: 100%;\n  padding: 5px;\n}\n\n.cesium-viewer-timelineContainer {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.cesium-timeline-needle {\n  top: 0;\n  width: 2px;\n  background-color: var(--brand-primary);\n}\n\n.cesium-timeline-icon16 {\n  background-image: "";\n}\n')}
  `];const Nu=new e.Cartesian2;function Du(t,n){return e.Cartesian2.magnitude(e.Cartesian2.subtract(t,n,Nu))<=10}function Ou(t){const n=t.getPropertyIds();let i="";return n.forEach((n=>{const r=t.getProperty(n);e.defined(r)&&(i+=`<tr><th>${n}</th><td>${r}</td></tr>`)})),i.length>0&&(i=`<table class="cesium-infoBox-defaultTable"><tbody>${i}</tbody></table>`),i}function Lu(t){return e.defined(t.name)&&!Zs(t.name)?t.name:"Unnamed Feature"}function $u(t,n){let i=e.Property.getValueOrDefault(t.description,n,"");if(!(t.entityCollection.owner instanceof e.KmlDataSource))return i;const r=document.createElement("div");r.innerHTML=i.trim();const o=r.firstChild;if(o.classList.contains("cesium-infoBox-description-lighter")){o.classList.remove("cesium-infoBox-description-lighter");const t=o.style["background-color"];e.defined(t)&&e.Color.equals(e.Color.fromCssColorString(t),e.Color.WHITE)&&(o.style=""),i=r.innerHTML}return i}window.customElements.define("ion-play-button",class extends pe{static get styles(){return[ql,p`
        :host {
          display: inline-block;
        }
        ion-button {
          --border-radius: 0;
          --button-padding: 0;
        }
        ion-button #icon {
          width: 27px;
          height: 27px;
          padding-top: 7px;
        }
        ion-button svg {
          height: 14px;
          width: 14px;
        }
      `]}static get properties(){return{isPlaying:{type:Boolean,reflect:!0}}}constructor(){super(),this.isPlaying=!1,this._clockViewModel=void 0,this._subscription=void 0}disconnectedCallback(){this._subscription&&this._subscription.dispose()}get clockViewModel(){return this._clockViewModel}set clockViewModel(t){this._clockViewModel=t,this._subscription=e.knockout.getObservable(t,"shouldAnimate").subscribe((e=>{this.isPlaying=e}))}_toggle(){this.dispatchEvent(new CustomEvent("click",{detail:{value:!this._clockViewModel.shouldAnimate}})),this._clockViewModel.shouldAnimate=!this._clockViewModel.shouldAnimate}render(){return G`
      <ion-button
        theme="dark"
        @click=${this._toggle}
        title="${this.isPlaying?"Pause animation":"Play animation"}"
      >
        <div id="icon">${this.isPlaying?vd.node:bd.node}</div>
      </ion-button>
    `}});var Ru=Array.prototype.slice;function zu(e){return e}var ju=1,Bu=2,Hu=3,Uu=4,Fu=1e-6;function Vu(e){return"translate("+(e+.5)+",0)"}function Gu(e){return"translate(0,"+(e+.5)+")"}function Yu(e){return function(t){return+e(t)}}function Wu(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function Ju(){return!this.__axis}function Ku(e,t){var n=[],i=null,r=null,o=6,a=6,s=3,l=e===ju||e===Uu?-1:1,c=e===Uu||e===Bu?"x":"y",d=e===ju||e===Hu?Vu:Gu;function u(u){var h=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,p=null==r?t.tickFormat?t.tickFormat.apply(t,n):zu:r,f=Math.max(o,0)+s,m=t.range(),g=+m[0]+.5,b=+m[m.length-1]+.5,v=(t.bandwidth?Wu:Yu)(t.copy()),y=u.selection?u.selection():u,_=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(h,t).order(),k=w.exit(),x=w.enter().append("g").attr("class","tick"),C=w.select("line"),S=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(x),C=C.merge(x.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),S=S.merge(x.append("text").attr("fill","currentColor").attr(c,l*f).attr("dy",e===ju?"0em":e===Hu?"0.71em":"0.32em")),u!==y&&(_=_.transition(u),w=w.transition(u),C=C.transition(u),S=S.transition(u),k=k.transition(u).attr("opacity",Fu).attr("transform",(function(e){return isFinite(e=v(e))?d(e):this.getAttribute("transform")})),x.attr("opacity",Fu).attr("transform",(function(e){var t=this.parentNode.__axis;return d(t&&isFinite(t=t(e))?t:v(e))}))),k.remove(),_.attr("d",e===Uu||e==Bu?a?"M"+l*a+","+g+"H0.5V"+b+"H"+l*a:"M0.5,"+g+"V"+b:a?"M"+g+","+l*a+"V0.5H"+b+"V"+l*a:"M"+g+",0.5H"+b),w.attr("opacity",1).attr("transform",(function(e){return d(v(e))})),C.attr(c+"2",l*o),S.attr(c,l*f).text(p),y.filter(Ju).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Bu?"start":e===Uu?"end":"middle"),y.each((function(){this.__axis=v}))}return u.scale=function(e){return arguments.length?(t=e,u):t},u.ticks=function(){return n=Ru.call(arguments),u},u.tickArguments=function(e){return arguments.length?(n=null==e?[]:Ru.call(e),u):n.slice()},u.tickValues=function(e){return arguments.length?(i=null==e?null:Ru.call(e),u):i&&i.slice()},u.tickFormat=function(e){return arguments.length?(r=e,u):r},u.tickSize=function(e){return arguments.length?(o=a=+e,u):o},u.tickSizeInner=function(e){return arguments.length?(o=+e,u):o},u.tickSizeOuter=function(e){return arguments.length?(a=+e,u):a},u.tickPadding=function(e){return arguments.length?(s=+e,u):s},u}function Xu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Zu,Qu=(1===(Zu=Xu).length&&(Zu=function(e){return function(t,n){return Xu(e(t),n)}}(Zu)),{left:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;Zu(e[r],t)<0?n=r+1:i=r}return n},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;Zu(e[r],t)>0?i=r:n=r+1}return n}}),eh=Qu.right,th=Math.sqrt(50),nh=Math.sqrt(10),ih=Math.sqrt(2);function rh(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=th?10:o>=nh?5:o>=ih?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=th?10:o>=nh?5:o>=ih?2:1)}function oh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var ah="$";function sh(){}function lh(e,t){var n=new sh;if(e instanceof sh)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var i,r=-1,o=e.length;if(null==t)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t(i=e[r],r,e),i)}else if(e)for(var a in e)n.set(a,e[a]);return n}function ch(){}sh.prototype=lh.prototype={constructor:sh,has:function(e){return ah+e in this},get:function(e){return this[ah+e]},set:function(e,t){return this[ah+e]=t,this},remove:function(e){var t=ah+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===ah&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===ah&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===ah&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===ah&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===ah&&++e;return e},empty:function(){for(var e in this)if(e[0]===ah)return!1;return!0},each:function(e){for(var t in this)t[0]===ah&&e(this[t],t.slice(1),this)}};var dh=lh.prototype;ch.prototype={constructor:ch,has:dh.has,add:function(e){return this[ah+(e+="")]=e,this},remove:dh.remove,clear:dh.clear,values:dh.keys,size:dh.size,empty:dh.empty,each:dh.each};var uh=Array.prototype,hh=uh.map,ph=uh.slice;function fh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mh(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function gh(){}var bh=.7,vh=1/bh,yh="\\s*([+-]?\\d+)\\s*",_h="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kh=/^#([0-9a-f]{3,8})$/,xh=new RegExp("^rgb\\("+[yh,yh,yh]+"\\)$"),Ch=new RegExp("^rgb\\("+[wh,wh,wh]+"\\)$"),Sh=new RegExp("^rgba\\("+[yh,yh,yh,_h]+"\\)$"),Eh=new RegExp("^rgba\\("+[wh,wh,wh,_h]+"\\)$"),Th=new RegExp("^hsl\\("+[_h,wh,wh]+"\\)$"),Ah=new RegExp("^hsla\\("+[_h,wh,wh,_h]+"\\)$"),Ph={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mh(){return this.rgb().formatHex()}function Ih(){return this.rgb().formatRgb()}function qh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Nh(t):3===n?new Lh(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Dh(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=xh.exec(e))?new Lh(t[1],t[2],t[3],1):(t=Ch.exec(e))?new Lh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Sh.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=Eh.exec(e))?Dh(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Th.exec(e))?jh(t[1],t[2]/100,t[3]/100,1):(t=Ah.exec(e))?jh(t[1],t[2]/100,t[3]/100,t[4]):Ph.hasOwnProperty(e)?Nh(Ph[e]):"transparent"===e?new Lh(NaN,NaN,NaN,0):null}function Nh(e){return new Lh(e>>16&255,e>>8&255,255&e,1)}function Dh(e,t,n,i){return i<=0&&(e=t=n=NaN),new Lh(e,t,n,i)}function Oh(e,t,n,i){return 1===arguments.length?function(e){return e instanceof gh||(e=qh(e)),e?new Lh((e=e.rgb()).r,e.g,e.b,e.opacity):new Lh}(e):new Lh(e,t,n,null==i?1:i)}function Lh(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function $h(){return"#"+zh(this.r)+zh(this.g)+zh(this.b)}function Rh(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function zh(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function jh(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hh(e,t,n,i)}function Bh(e){if(e instanceof Hh)return new Hh(e.h,e.s,e.l,e.opacity);if(e instanceof gh||(e=qh(e)),!e)return new Hh;if(e instanceof Hh)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Hh(a,s,l,e.opacity)}function Hh(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Uh(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Fh(e){return function(){return e}}function Vh(e){return 1==(e=+e)?Gh:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):Fh(isNaN(t)?n:t)}}function Gh(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Fh(isNaN(e)?t:e)}fh(gh,qh,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Mh,formatHex:Mh,formatHsl:function(){return Bh(this).formatHsl()},formatRgb:Ih,toString:Ih}),fh(Lh,Oh,mh(gh,{brighter:function(e){return e=null==e?vh:Math.pow(vh,e),new Lh(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?bh:Math.pow(bh,e),new Lh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$h,formatHex:$h,formatRgb:Rh,toString:Rh})),fh(Hh,(function(e,t,n,i){return 1===arguments.length?Bh(e):new Hh(e,t,n,null==i?1:i)}),mh(gh,{brighter:function(e){return e=null==e?vh:Math.pow(vh,e),new Hh(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?bh:Math.pow(bh,e),new Hh(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Lh(Uh(e>=240?e-240:e+120,r,i),Uh(e,r,i),Uh(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Yh=function e(t){var n=Vh(t);function i(e,t){var i=n((e=Oh(e)).r,(t=Oh(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=Gh(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function Wh(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Jh(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=np(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}function Kh(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Xh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zh(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=np(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var Qh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ep=new RegExp(Qh.source,"g");function tp(e,t){var n,i,r,o=Qh.lastIndex=ep.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Qh.exec(e))&&(i=ep.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Xh(n,i)})),o=ep.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function np(e,t){var n,i=typeof t;return null==t||"boolean"===i?Fh(t):("number"===i?Xh:"string"===i?(n=qh(t))?(t=n,Yh):tp:t instanceof qh?Yh:t instanceof Date?Kh:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Wh:Array.isArray(t)?Jh:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Zh:Xh)(e,t)}function ip(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rp(e){return+e}var op=[0,1];function ap(e){return e}function sp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function lp(e){var t,n=e[0],i=e[e.length-1];return n>i&&(t=n,n=i,i=t),function(e){return Math.max(n,Math.min(i,e))}}function cp(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=sp(r,i),o=n(a,o)):(i=sp(i,r),o=n(o,a)),function(e){return o(i(e))}}function dp(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=sp(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=eh(e,t,1,i)-1;return o[n](r[n](t))}}function up(e,t){return function(){var e,t,n,i,r,o,a=op,s=op,l=np,c=ap;function d(){return i=Math.min(a.length,s.length)>2?dp:cp,r=o=null,u}function u(t){return isNaN(t=+t)?n:(r||(r=i(a.map(e),s,l)))(e(c(t)))}return u.invert=function(n){return c(t((o||(o=i(s,a.map(e),Xh)))(n)))},u.domain=function(e){return arguments.length?(a=hh.call(e,rp),c===ap||(c=lp(a)),d()):a.slice()},u.range=function(e){return arguments.length?(s=ph.call(e),d()):s.slice()},u.rangeRound=function(e){return s=ph.call(e),l=ip,d()},u.clamp=function(e){return arguments.length?(c=e?lp(a):ap,u):c!==ap},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,i){return e=n,t=i,d()}}()(e,t)}function hp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function pp(e){return(e=hp(Math.abs(e)))?e[1]:NaN}var fp,mp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gp(e){if(!(t=mp.exec(e)))throw new Error("invalid format: "+e);var t;return new bp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function bp(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function vp(e,t){var n=hp(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}gp.prototype=bp.prototype,bp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yp={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return vp(100*e,t)},r:vp,s:function(e,t){var n=hp(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(fp=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+hp(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function _p(e){return e}var wp,kp,xp,Cp=Array.prototype.map,Sp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ep(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?_p:(t=Cp.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?_p:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Cp.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=gp(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,b=e.trim,v=e.type;"n"===v?(m=!0,v="g"):yp[v]||(void 0===g&&(g=12),b=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?l:"",w=yp[v],k=/[defgprs%]/.test(v);function x(e){var r,o,l,h=y,x=_;if("c"===v)x=w(e)+x,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==u&&(C=!1),h=(C?"("===u?u:c:"-"===u||"("===u?"":u)+h,x=("s"===v?Sp[8+fp/3]:"")+x+(C&&"("===u?")":""),k)for(r=-1,o=e.length;++r<o;)if(48>(l=e.charCodeAt(r))||l>57){x=(46===l?a+e.slice(r+1):e.slice(r))+x,e=e.slice(0,r);break}}m&&!p&&(e=i(e,1/0));var S=h.length+e.length+x.length,E=S<f?new Array(f-S+1).join(t):"";switch(m&&p&&(e=i(E+e,E.length?f-x.length:1/0),E=""),n){case"<":e=h+e+x+E;break;case"=":e=h+E+e+x;break;case"^":e=E.slice(0,S=E.length>>1)+h+e+x+E.slice(S);break;default:e=E+h+e+x}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:u,formatPrefix:function(e,t){var n=u(((e=gp(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(pp(t)/3))),r=Math.pow(10,-i),o=Sp[8+i/3];return function(e){return n(r*e)+o}}}}function Tp(e,t,n,i){var r,o=function(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=th?r*=10:o>=nh?r*=5:o>=ih&&(r*=2),t<e?-r:r}(e,t,n);switch((i=gp(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pp(t)/3)))-pp(Math.abs(e)))}(o,a))||(i.precision=r),xp(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pp(t)-pp(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-pp(Math.abs(e)))}(o))||(i.precision=r-2*("%"===i.type))}return kp(i)}function Ap(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=rh(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(e-s)/a;return i&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return Tp(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r=t(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),(i=rh(s,l,n))>0?i=rh(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=rh(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,t(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,t(r)),e},e}function Pp(){var e=up(ap,ap);return e.copy=function(){return t=e,Pp().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},oh.apply(e,arguments),Ap(e)}wp=Ep({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),kp=wp.format,xp=wp.formatPrefix;var Mp="http://www.w3.org/1999/xhtml",Ip={svg:"http://www.w3.org/2000/svg",xhtml:Mp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qp(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ip.hasOwnProperty(t)?{space:Ip[t],local:e}:e}function Np(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Mp&&t.documentElement.namespaceURI===Mp?t.createElement(e):t.createElementNS(n,e)}}function Dp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Op(e){var t=qp(e);return(t.local?Dp:Np)(t)}function Lp(){}function $p(e){return null==e?Lp:function(){return this.querySelector(e)}}function Rp(){return[]}function zp(e){return new Array(e.length)}function jp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}jp.prototype={constructor:jp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Bp="$";function Hp(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new jp(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function Up(e,t,n,i,r,o,a){var s,l,c,d={},u=t.length,h=o.length,p=new Array(u);for(s=0;s<u;++s)(l=t[s])&&(p[s]=c=Bp+a.call(l,l.__data__,s,t),c in d?r[s]=l:d[c]=l);for(s=0;s<h;++s)(l=d[c=Bp+a.call(e,o[s],s,o)])?(i[s]=l,l.__data__=o[s],d[c]=null):n[s]=new jp(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&d[p[s]]===l&&(r[s]=l)}function Fp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vp(e){return function(){this.removeAttribute(e)}}function Gp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yp(e,t){return function(){this.setAttribute(e,t)}}function Wp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jp(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Kp(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zp(e){return function(){this.style.removeProperty(e)}}function Qp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ef(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function tf(e){return function(){delete this[e]}}function nf(e,t){return function(){this[e]=t}}function rf(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function of(e){return e.trim().split(/^|\s+/)}function af(e){return e.classList||new sf(e)}function sf(e){this._node=e,this._names=of(e.getAttribute("class")||"")}function lf(e,t){for(var n=af(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function cf(e,t){for(var n=af(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function df(e){return function(){lf(this,e)}}function uf(e){return function(){cf(this,e)}}function hf(e,t){return function(){(t.apply(this,arguments)?lf:cf)(this,e)}}function pf(){this.textContent=""}function ff(e){return function(){this.textContent=e}}function mf(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function gf(){this.innerHTML=""}function bf(e){return function(){this.innerHTML=e}}function vf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function yf(){this.nextSibling&&this.parentNode.appendChild(this)}function _f(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wf(){return null}function kf(){var e=this.parentNode;e&&e.removeChild(this)}function xf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}sf.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Sf={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Sf={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ef(e,t,n){return e=Tf(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Tf(e,t,n){return function(i){try{e.call(this,this.__data__,t,n)}finally{}}}function Af(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function Pf(e,t,n){var i=Sf.hasOwnProperty(e.type)?Ef:Tf;return function(r,o,a){var s,l=this.__on,c=i(t,o,a);if(l)for(var d=0,u=l.length;d<u;++d)if((s=l[d]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function Mf(e,t,n){var i=Xp(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function If(e,t){return function(){return Mf(this,e,t)}}function qf(e,t){return function(){return Mf(this,e,t.apply(this,arguments))}}var Nf=[null];function Df(e,t){this._groups=e,this._parents=t}Df.prototype={constructor:Df,select:function(e){"function"!=typeof e&&(e=$p(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,c=i[r]=new Array(l),d=0;d<l;++d)(o=s[d])&&(a=e.call(o,o.__data__,d,s))&&("__data__"in o&&(a.__data__=o.__data__),c[d]=a);return new Df(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=function(e){return null==e?Rp:function(){return this.querySelectorAll(e)}}(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(e.call(a,a.__data__,c,s)),r.push(a));return new Df(i,r)},filter:function(e){"function"!=typeof e&&(e=function(e){return function(){return this.matches(e)}}(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Df(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n=t?Up:Hp,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var d=i[c],u=r[c],h=u.length,p=e.call(d,d&&d.__data__,c,i),f=p.length,m=s[c]=new Array(f),g=a[c]=new Array(f);n(d,u,m,g,l[c]=new Array(h),p,t);for(var b,v,y=0,_=0;y<f;++y)if(b=m[y]){for(y>=_&&(_=y+1);!(v=g[_])&&++_<f;);b._next=v||null}}return(a=new Df(a,i))._enter=s,a._exit=l,a},enter:function(){return new Df(this._enter||this._groups.map(zp),this._parents)},exit:function(){return new Df(this._exit||this._groups.map(zp),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(r=t(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=t[s],d=n[s],u=c.length,h=a[s]=new Array(u),p=0;p<u;++p)(l=c[p]||d[p])&&(h[p]=l);for(;s<i;++s)a[s]=t[s];return new Df(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Fp);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),d=0;d<l;++d)(a=s[d])&&(c[d]=a);c.sort(t)}return new Df(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=qp(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Gp:Vp:"function"==typeof t?n.local?Kp:Jp:n.local?Wp:Yp)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Zp:"function"==typeof t?ef:Qp)(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||Xp(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?tf:"function"==typeof t?rf:nf)(e,t)):this.node()[e]},classed:function(e,t){var n=of(e+"");if(arguments.length<2){for(var i=af(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?hf:t?df:uf)(n,t))},text:function(e){return arguments.length?this.each(null==e?pf:("function"==typeof e?mf:ff)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?gf:("function"==typeof e?vf:bf)(e)):this.node().innerHTML},raise:function(){return this.each(yf)},lower:function(){return this.each(_f)},append:function(e){var t="function"==typeof e?e:Op(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Op(e),i=null==t?wf:"function"==typeof t?t:$p(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(kf)},clone:function(e){return this.select(e?Cf:xf)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Pf:Af,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,d=s.length;c<d;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?qf:If)(e,t))}};const Of=new e.Color;function Lf(e,t){return 0===t?`< ${e}`:this.parentNode.nextSibling?e:`> ${e}`}window.customElements.define("ion-style-legend",class extends pe{static get styles(){return[p`
        :host {
        }
        .swatch {
          height: 1rem;
          width: 1rem;
          border: 1px solid var(--border-color);
        }
        .container {
          padding: 1rem;
        }
        .title {
          font-weight: bold;
          font-size: var(--font-size-large);
          margin-bottom: 5px;
        }
        .canvas-wrapper {
          text-align: center;
        }
      `]}static get properties(){return{styleSettings:{type:Object}}}constructor(){super(),this.styleSettings=void 0}render(){if(!e.defined(this.styleSettings))return G``;const t=this.styleSettings,n=t.style;return t.type===Lr.StyleType.CATEGORIZED?G`
        <div class="container">
          <div class="title">
            <label>${t.name}</label>
          </div>
          <table>
            <tbody>
              ${n.categories.map((e=>this._renderCategory(e)))}
              <tr>
                <td>
                  <div
                    class="swatch"
                    style="background-color: ${e.Color.clone(n.defaultStyle.color,Of).toCssColorString()}"
                  ></div>
                </td>
                <td>${n.defaultStyle.name}</td>
              </tr>
            </tbody>
          </table>
        </div>
      `:n.classify?G`
        <div class="container">
          <div class="title">
            <label>${t.name}</label>
          </div>
          <table>
            <tbody>
              ${this._renderGraduatedClasses()}
            </tbody>
          </table>
        </div>
      `:G`<div class="container">
      <div class="title">
        <label>${t.name}</label>
      </div>
      <div class="canvas-wrapper">
        <svg height="120" width="100">
          <g
            class="axis"
            height="100"
            width="25"
            transform="translate(35, 10)"
          ></g>
          <g
            class="colorBar"
            height="100"
            width="25"
            transform="translate(10, 10)"
          >
            <rect
              height="100"
              width="25"
              fill="url('#gradient')"
              style="stroke-width: 1; stroke: white;"
            ></rect>
          </g>
        </svg>
      </div>
    </div>`}updated(){if(!e.defined(this.styleSettings)||this.styleSettings.type===Lr.StyleType.CATEGORIZED||this.styleSettings.style.classify)return;const t=function(e){return"string"==typeof e?new Df([[document.querySelector(e)]],[document.documentElement]):new Df([[e]],Nf)}(this.shadowRoot.querySelector("svg")),n=this.styleSettings.style.positions,i=this.styleSettings.style.colors,r=function(e,t,n){const i=new Array(e.length),r=e.length,o=e[0],a=e[r-1]-o;let s=1;0!==a&&(s/=a);const l=(n-t)*s;for(let n=0;n<r;n++)i[n]=(e[n]-o)*l+t;return i}(n,0,1);t.selectAll("defs").remove();const o=t.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%");for(let t=0;t<r.length;t++){const n=r[t],a=e.Color.clone(i[t],Of).toCssColorString();o.append("stop").attr("offset",100*n+"%").attr("stop-color",a)}const a=n[0],s=n[n.length-1],l=(a+s)/2,c=Pp().domain([n[0],n[n.length-1]]).range([100,0]),d=(u=c,Ku(Bu,u)).tickValues([a,l,s]).tickFormat(Lf);var u;t.selectAll(".axis").call(d)}_renderCategory(t){const n=e.Color.clone(t.color,Of).toCssColorString();return G`<tr>
      <td><div class="swatch" style="background-color: ${n}"></div></td>
      <td>${t.name}</td>
    </tr>`}_formatNumber(e){return parseFloat(e.toFixed(6)).toString()}_renderGraduatedClasses(){const t=this.styleSettings.style,n=t.positions,i=t.colors,r=n.length,o=new Array(r);for(let t=0;t<r-1;t++){const a=this._formatNumber(n[t]),s=this._formatNumber(n[t+1]),l=e.Color.clone(i[t],Of).toCssColorString();let c;c=0===t?`<=${s}`:t===r-2?`>${a}`:`>${a} - ${s}`,o[t]=G` <tr>
        <td><div class="swatch" style="background-color: ${l}"></div></td>
        <td>${c}</td>
      </tr>`}return o.reverse(),o}});const $f=new e.Color,Rf=new e.Color;function zf(e,t){return e===Lr.StyleablePropertyType.STRING?`'${t}'`:t}function jf(e,t){return t===Lr.StyleablePropertyType.STRING?`\${${e}} === null || \${${e}} === undefined`:`isNaN(\${${e}}) || !isFinite(\${${e}}) || \${${e}} === null || \${${e}} === undefined`}function Bf(t){const n=[],i={color:{conditions:n}};let r=t.properties[0];/(\s|#)/.test(r)&&(r=`feature["${r}"]`);const o=t.style;let a,s=e.Color.WHITE;if(t.type===Lr.StyleType.CATEGORIZED){const t=o.defaultStyle;s=e.Color.clone(t.color),a=o.propertyType,o.categories.forEach((t=>{const i=t.value,o=e.Color.clone(t.color,$f);e.Color.equals(o,s)||n.push([`\${${r}} === ${zf(a,i)}`,o.toCssColorString()])})),n.push(["true",s.toCssColorString()])}else if(o.classify){a=Lr.StyleablePropertyType.NUMERIC;const t=o.positions,i=o.colors;for(let o=0;o<t.length-1;o++){const a=e.Color.clone(i[o],$f),s=t[o];0===o?n.unshift(["true",a.toCssColorString()]):n.unshift([`\${${r}} > ${s}`,a.toCssColorString()])}}else{a=Lr.StyleablePropertyType.NUMERIC;const t=o.positions,i=o.colors;let s=e.Color.clone(i[0],$f),l=t[0];n.push(["true",s.toCssColorString()]);for(let o=1;o<t.length;o++){const a=e.Color.clone(i[o],Rf),c=t[o];n.unshift([`\${${r}} >= ${l}`,`mix(color("${s.toCssColorString()}")*vec4(1), color("${a.toCssColorString()}")*vec4(1), (\${${r}} - ${l}) / ${c-l})`]),s=e.Color.clone(a,s),l=c}n.unshift([`\${${r}} > ${l}`,s.toCssColorString()])}return n.unshift([jf(r,a),s.toCssColorString()]),i}const Hf=1,Uf=2,Ff=3;function Vf(t,n,i,r){e.defined(n.aspectRatio)?n.aspectRatio=r/i:(n.top=n.right*(i/r),n.bottom=-n.top),t.height=i,t.width=r}window.customElements.define("ion-map-viewer",class extends pe{static get styles(){return[ql,qu,p`
        :host {
          position: relative;
        }
        :host([timelineVisible]) .cesium-viewer-timelineContainer {
          display: inherit;
        }

        .cesium-viewer-timelineContainer {
          display: none;
          height: 28px;
          border-bottom: 1px solid var(--gray-light);
        }

        #mapContainer,
        #cesiumContainer {
          overflow: hidden;
          position: absolute;
          height: 100%;
          width: 100%;
        }
        #bottomBar {
          padding-left: 0.5rem;
          position: absolute;
          height: 29px;
          width: 100%;
          bottom: 0;
          background-color: var(--transparent-widget-color);
          z-index: 1;
          color: var(--text-light);
        }
        #scaleCoordinateContainer {
          text-align: right;
          float: right;
          height: 100%;
          overflow: hidden;
        }
        :host([supportsFullscreen]) #bottomBar {
          width: calc(100% - 29px);
        }

        #creditContainer {
          display: inline-block;
        }
        #legendContainer {
          color: var(--text-light);
          position: absolute;
          bottom: 3rem;
          right: 1rem;
          z-index: 2;
        }
        #legendContainer > * {
          display: inline-block;
          background-color: var(--brand-dark);
          margin-left: 1rem;
          vertical-align: bottom;
        }
        cesium-map-scale {
          --widgets-background-color: var(--brand-dark);
          position: relative;
          font-size: var(--font-size-small);
          vertical-align: top;
        }
        cesium-coordinates {
          background-color: transparent;
          font-size: var(--font-size-small);
          padding: 0;
          padding-top: 5px;
        }
        ion-loading-icon {
          width: 1rem;
          height: 1rem;
          vertical-align: baseline;
          margin: 0 0.5rem;
          color: var(--text-light);
          pointer-events: none;
        }
        ion-loading-icon {
          display: inline-block;
        }
        cesium-navigation {
          --widgets-background-color: var(--brand-dark);
          --widgets-alt-background-color: var(--brand-dark);
          display: none;
          position: absolute;
          top: 55px;
          right: 0;
          z-index: 1;
        }
        ion-play-button {
          position: absolute;
          bottom: 29px;
          left: 0;
          width: 29px;
          height: 29px;
        }
        ion-play-button.ion-editor {
          height: 40px;
          background-color: var(--transparent-widget-color);
        }
        .cesium-theme .cesium-viewer-toolbar {
          top: 10px;
          right: 10px;
        }
        #measureContainer {
          display: none;
          position: absolute;
          bottom: 3.25rem;
          left: 1rem;
          z-index: 2;
        }
        #measureContainer * {
          box-sizing: content-box;
        }
        .timeline-trim-needle {
          box-sizing: content-box;
          bottom: 27px;
          position: absolute;
          width: 15px;
          height: 15px;
          background-color: var(--gray-lighter);
          border: 1px solid var(--gray-light);
          border-radius: 50%;
          cursor: grab;
          z-index: 1;
        }
        .timeline-trim-needle:hover {
          background-color: var(--brand-primary-tint);
        }
        :host([timelineVisible]) #measureContainer {
          bottom: 5.25rem;
        }
        :host([isviewer]) #measureContainer {
          left: 219px;
        }
        :host([timelineVisible][isviewer]) #measureContainer {
          bottom: 5.25rem;
        }
        :host([isviewer]) cesium-navigation {
          top: 10px;
        }
        :host([widgetshidden]) .cesium-viewer-toolbar {
          display: none;
        }
        :host([widgetshidden]) #measureContainer {
          display: none;
        }
        #currentTime {
          font-size: var(--font-size-small);
          padding-top: 5px;
          display: none;
        }
        @media (min-width: 768px) {
          cesium-navigation {
            display: block;
          }
          #measureContainer {
            display: block;
          }
          #currentTime {
            display: inline-block;
          }
        }
        #inspectorContainer {
          position: absolute;
          top: 50px;
          right: 100px;
        }

        #inspectorContainer label {
          color: var(--text-light);
        }

        .cesium-cesiumInspector-visible {
          box-sizing: content-box;
        }

        .context-menu-item {
          color: var(--text-light);
          background-color: var(--brand-dark);
          padding: 0.5rem 1rem;
          cursor: pointer;
        }
        .context-menu-item:hover {
          background-color: var(--brand-primary);
        }
        .context-menu-available {
          cursor: pointer;
        }
      `]}static get properties(){return{widgetsHidden:{type:Boolean,reflect:!0},timelineVisible:{type:Boolean,reflect:!0},isViewer:{type:Boolean,reflect:!0},supportsFullscreen:{type:Boolean,reflect:!0},currentTimeString:{type:String},_legendSettings:{type:Array},_contextMenuItems:{type:Array}}}constructor(){super(),this.onKeyDown=this.onKeyDown.bind(this),this._lastActiveSlideId=void 0,this._activeSlide=void 0,this._lastAssetState=void 0,this._assetState=void 0,this._assetInstances=new e.AssociativeArray,this._styles=void 0,this._lastZoomId=void 0,this._selectedFeature=void 0,this._lastPointerDown=void 0,this._contextMenuItems=[],this._sceneComplete=!1,this._sceneCompleteChange=new e.Event,this._sceneCompleteTimeout=void 0,this._removePostRenderEvent=void 0,this._removePostUpdateEvent=void 0,this._removeRenderErrorEvent=void 0,this._ready=!1,this._viewer=void 0,this._measureWidget=void 0,this._coordinates=void 0,this._mapScale=void 0,this._unit=void 0,this._tilesetCollection=new e.PrimitiveCollection,this._legendSettings=[],this.isViewer=!1,this._analyticsCategory=void 0,this._isSlideShow=!1,this.timelineVisible=!1,this.widgetsHidden=!1,this.currentTimeString="",this.timelineStart=e.Iso8601.MINIMUM_VALUE.clone(),this.timelineStop=e.Iso8601.MAXIMUM_VALUE.clone(),this._timelineTrack=void 0,this.supportsFullscreen=!1,this.suspendLegendUpdate=!1,this._onTrackEntityClick=this._onTrackEntityClick.bind(this),this._onCesiumCanvasPointerDown=this._onCesiumCanvasPointerDown.bind(this),this._onCesiumCanvasClick=this._onCesiumCanvasClick.bind(this),this._onCesiumCanvasPointerMove=this._onCesiumCanvasPointerMove.bind(this)}get viewer(){return this._viewer}get cameraView(){if(!e.defined(this._viewer))return{};const t=this._viewer.scene.camera;return{version:1,position:e.Cartesian3.clone(t.position),direction:e.Cartesian3.clone(t.direction),up:e.Cartesian3.clone(t.up)}}get activeSlide(){return this._activeSlide}set activeSlide(e){this._activeSlide!==e&&(this._activeSlide=e,this._updateActiveSlide())}get assetState(){return this._assetState}set assetState(e){this._assetState!==e&&(this._assetState=e,this._updateAssetInstances())}get styles(){return this._styles}set styles(e){e!==this._styles&&(this._styles=e,this._updateAssetsFromActiveSlide(),this._updateLegends())}get unit(){return this._unit}set unit(e){this._unit!==e&&(this._unit=e,this._updateUnits())}get shouldAnimate(){return this._viewer.clockViewModel.shouldAnimate}set shouldAnimate(e){this._viewer.clockViewModel.shouldAnimate=e}get isSlideShow(){return this._isSlideShow}set isSlideShow(e){this._isSlideShow=e,this.updateClockRange()}updateClockRange(){let t=e.ClockRange.UNBOUNDED;this.isViewer&&(t=this._isSlideShow?e.ClockRange.CLAMPED:e.ClockRange.LOOP_STOP),this.viewer.clockViewModel.clockRange=t}connectedCallback(){super.connectedCallback(),this.addEventListener("pointermove",this._pointerMove),document.addEventListener("keydown",this.onKeyDown,!0)}disconnectedCallback(){document.removeEventListener("keydown",this.onKeyDown,!0),this.removeEventListener("pointermove",this._pointerMove),e.defined(this._removePostRenderEvent)&&(this._removePostRenderEvent(),this._removePostRenderEvent=void 0),e.defined(this._removePostUpdateEvent)&&(this._removePostUpdateEvent(),this._removePostUpdateEvent=void 0),e.defined(this._removeRenderErrorEvent)&&(this._removeRenderErrorEvent(),this._removeRenderErrorEvent=void 0),super.disconnectedCallback()}getAssetInstance(e){return this._assetInstances.get(e)}firstUpdated(){this._analyticsCategory=this.isViewer?As.category.STORIES_VIEWER:As.category.STORIES_EDITOR,this.supportsFullscreen=e.Fullscreen.supportsFullscreen()&&this.isViewer;const t=this.shadowRoot.querySelector("#cesiumContainer"),n=new e.Viewer(t,{showRenderLoopErrors:!1,animation:!1,baseLayerPicker:!1,homeButton:!1,infoBox:!1,selectionIndicator:!1,baseLayer:!1,navigationHelpButton:!1,geocoder:!this.isViewer,scene3DOnly:!0,requestRenderMode:!0,fullscreenButton:this.supportsFullscreen,creditContainer:this.shadowRoot.querySelector("#creditContainer")});this.isViewer||(n.geocoder.viewModel.keepExpanded=!0),n.scene.light=new e.DirectionalLight({direction:new e.Cartesian3(1,0,0)}),n.scene.preRender.addEventListener((t=>{const i=n.scene.light;i.direction=e.Cartesian3.clone(t.camera.directionWC,i.direction)})),this._visibleLegendsByStyleId={},n.scene.postRender.addEventListener((()=>{if(this.suspendLegendUpdate)return;const t=this._tilesetCollection,n=t.length,i={};for(let r=0;r<n;r++){const n=t.get(r),o=n.__ionStyleId;e.defined(o)&&n.statistics.selected>0&&(i[n.__ionStyleId]=!0)}JSON.stringify(this._visibleLegendsByStyleId)!==JSON.stringify(i)&&(this._visibleLegendsByStyleId=i,this._updateLegends())})),n.scene.logarithmicDepthBuffer=!0,n.scene.camera.frustum.near=.1,n.scene.camera.frustum.far=1e10,this.isViewer||this.createTimelineTrim(n),this._viewer=n,n.scene.globe.depthTestAgainstTerrain=!0,this._onViewerInitialized()}createTimelineTrim(t){const n=this.shadowRoot.querySelector("#startNeedle");let i,r=!1;const o=this.shadowRoot.querySelector("#stopNeedle");let a,s=!1;document.addEventListener("pointerup",(e=>{r?(r=!1,e.preventDefault(),i=void 0):s&&(s=!1,e.preventDefault(),a=void 0)})),n.addEventListener("pointerdown",(t=>{r=!0,t.preventDefault(),i=e.JulianDate.fromIso8601(this._activeSlide.startTime)})),document.addEventListener("pointermove",(n=>{if(r&&e.defined(this._activeSlide)){const r=(n.clientX-t.timeline._topDiv.getBoundingClientRect().left)/(t.timeline._topDiv.clientWidth/t.timeline._timeBarSecondsSpan);e.JulianDate.addSeconds(this.timelineStart,r,i);const o=e.JulianDate.fromIso8601(this._activeSlide.stopTime);e.JulianDate.lessThan(i,this.timelineStart)?i=this.timelineStart.clone():e.JulianDate.greaterThan(i,o)&&(i=o);t.clock.currentTime=i.clone(),t.timeline.updateFromClock(),n.preventDefault(),n.stopPropagation(),this.dispatchEvent(new CustomEvent("timelineTrimChanged",{detail:{start:e.JulianDate.toIso8601(i)}}))}else if(s&&e.defined(this._activeSlide)){const i=(n.clientX-t.timeline._topDiv.getBoundingClientRect().left)/(t.timeline._topDiv.clientWidth/t.timeline._timeBarSecondsSpan);e.JulianDate.addSeconds(this.timelineStart,i,a);const r=e.JulianDate.fromIso8601(this._activeSlide.startTime);e.JulianDate.greaterThan(a,this.timelineStop)?a=this.timelineStop.clone():e.JulianDate.lessThan(a,r)&&(a=r);t.clock.currentTime=a.clone(),t.timeline.updateFromClock(),n.preventDefault(),n.stopPropagation(),this.dispatchEvent(new CustomEvent("timelineTrimChanged",{detail:{stop:e.JulianDate.toIso8601(a)}}))}})),o.addEventListener("pointerdown",(t=>{s=!0,t.preventDefault(),a=e.JulianDate.fromIso8601(this._activeSlide.stopTime)}))}render(){const e=this.isViewer?"ion-viewer":"ion-editor";return G`
      <div
        id="measureContainer"
        class="cesium-theme cesium-viewer-measureContainer"
      ></div>
      <div id="legendContainer">
        ${Ul(this._legendSettings,(e=>e.id),(e=>G`<ion-style-legend
              .styleSettings=${e}
            ></ion-style-legend>`))}
      </div>
      <div id="mapContainer">
        <div id="cesiumContainer" class="${e} cesium-theme"></div>
        <div id="inspectorContainer"></div>
        >
        <div id="bottomBar">
          <div id="creditContainer" class="cesium-theme"></div>
          <ion-loading-icon
            ?centered=${!1}
            ?visible=${!this._sceneComplete}
          ></ion-loading-icon>
          <span id="currentTime" ?hidden=${!this.timelineVisible}
            >${this.currentTimeString}</span
          >
          <div id="scaleCoordinateContainer">
            <cesium-coordinates></cesium-coordinates>
            <cesium-map-scale></cesium-map-scale>
          </div>
        </div>
        ${this.renderTrim()}
        <ion-play-button
          class="${e}"
          ?hidden=${!this.timelineVisible}
          @click=${this._clickPlayButton}
        ></ion-play-button>
        <cesium-navigation></cesium-navigation>
        <ion-context-menu @closed=${this.onContextMenuClosed}>
          ${Ul(this._contextMenuItems,(e=>e.id),((e,t)=>G`<div
                class="context-menu-item"
                data-index=${t}
                @click=${e.click}
              >
                ${e.text}
              </div>`))}
        </ion-context-menu>
      </div>
    `}_onTrackEntityClick(e){const t=e.target.getAttribute("data-index"),n=this._contextMenuItems[t].data;this.flyToAndTrackEntity(n),As.sendEvent(this._analyticsCategory,As.action.FOLLOW_FEATURE,As.label.CESIUM_CONTEXT_MENU),this.shadowRoot.querySelector("ion-context-menu").close()}onContextMenuClosed(){this._selectedFeature&&(this._selectedFeature.color=this._selectedFeatureColor,this._selectedFeature=void 0,this.viewer.scene.requestRender())}_isPickableEntity(t){return t instanceof e.Entity&&(e.defined(t.position)||e.defined(t.description))}_onCesiumCanvasPointerDown(e){this._lastPointerDown={x:e.clientX,y:e.clientY}}_onCesiumCanvasPointerMove(t){const n=this._viewer.scene;if(0===t.buttons&&!this._measureWidget.viewModel.expanded){const i=n.drillPick({x:t.offsetX,y:t.offsetY},3,9,9);n.requestRender();if(i.some((t=>this._isPickableEntity(e.defaultValue(t.id,t.primitive.id))||t instanceof e.Cesium3DTileFeature)))return void n.canvas.classList.add("context-menu-available")}n.canvas.classList.remove("context-menu-available")}_getUniqueEntityId(e,t){return e.id+e.entityCollection.owner.__ionAssetId+t}_onCesiumCanvasClick(t){if(0!==t.button||this._measureWidget.viewModel.expanded||!e.defined(this._lastPointerDown)||!Du(this._lastPointerDown,{x:t.clientX,y:t.clientY}))return;t.preventDefault(),t.stopPropagation();const n=this.viewer.trackedEntity;let i=!1;const r=this._viewer.scene.drillPick({x:t.offsetX,y:t.offsetY},3,9,9);this._viewer.scene.requestRender();const o=[],a=[],s=[];if(e.defined(r)&&r.forEach((t=>{if(t instanceof e.Cesium3DTileFeature)s.push(t);else{const r=e.defaultValue(t.id,t.primitive.id);i=i||r===n,this._isPickableEntity(r)&&!a.includes(r.id)&&(o.push(r),a.push(r.id))}})),o.length>0){const t=[];this._contextMenuItems=t,o.forEach((i=>{e.defined(i.position)&&i!==n&&t.push({id:this._getUniqueEntityId(i,"follow"),text:`Follow ${Lu(i)}`,click:this._onTrackEntityClick,data:i}),e.defined(i.description)&&t.push({id:this._getUniqueEntityId(i,"view"),text:`View info about ${Lu(i)}`,click:e=>{const t=e.target.getAttribute("data-index"),n=this._contextMenuItems[t].data;As.sendEvent(this._analyticsCategory,As.action.VIEW_FEATURE_DATA,As.label.CESIUM_CONTEXT_MENU),this.shadowRoot.querySelector("ion-context-menu").close(),this.dispatchEvent(new CustomEvent("featurePicked",{detail:{title:Lu(n),html:$u(n,this.viewer.clock.currentTime)}}))},data:i})})),t.sort(((e,t)=>e.text<t.text?-1:e.text>t.text?1:0))}else this._contextMenuItems=[];e.defined(n)&&(i||o.length>0)&&this._contextMenuItems.push({id:this._getUniqueEntityId(n,"stop"),text:`Stop Following ${Lu(n)}`,click:()=>{this.cancelEntityTracking(),As.sendEvent(this._analyticsCategory,As.action.STOP_FOLLOW_FEATURE,As.label.CESIUM_CONTEXT_MENU),this.shadowRoot.querySelector("ion-context-menu").close()}});const l=s[0];if(e.defined(l)){const t=function(t){const n=[],i=t.getPropertyIds();for(let e=0;e<i.length;e++){const r=i[e];/^name$/i.test(r)?n[0]=t.getProperty(r):/name/i.test(r)?n[1]=t.getProperty(r):/^title$/i.test(r)?n[2]=t.getProperty(r):/^(id|identifier)$/i.test(r)?n[3]=t.getProperty(r):/element/i.test(r)?n[4]=t.getProperty(r):/(id|identifier)$/i.test(r)&&(n[5]=t.getProperty(r))}let r=n.find((t=>e.defined(t)));return e.defined(r)&&!Zs(r)||(r="Unnamed Feature"),r}(l);this._contextMenuItems.unshift({id:e.createGuid(),text:`View info about ${t}`,click:e=>{const n=e.target.getAttribute("data-index"),i=this._contextMenuItems[n].data;As.sendEvent(this._analyticsCategory,As.action.VIEW_FEATURE_DATA,As.label.CESIUM_CONTEXT_MENU),this.shadowRoot.querySelector("ion-context-menu").close(),this.dispatchEvent(new CustomEvent("featurePicked",{detail:{title:t,html:Ou(i)}}))},data:l}),this._selectedFeature=l,this._selectedFeatureColor=l.color,l.color=e.Color.fromCssColorString("#226a9a"),this.viewer.scene.requestRender()}this._contextMenuItems.length>0&&(As.sendEvent(this._analyticsCategory,As.action.OPEN_CONTEXT_MENU,As.label.CESIUM_CONTEXT_MENU),this.shadowRoot.querySelector("ion-context-menu").open(t.clientX,t.clientY))}renderTrim(){return this.isViewer?G``:G`
      <div
        id="startNeedle"
        class="timeline-trim-needle"
        ?hidden=${!this.timelineVisible}
      ></div>
      <div
        id="stopNeedle"
        class="timeline-trim-needle"
        ?hidden=${!this.timelineVisible}
      ></div>
    `}_clickPlayButton(t){if(!this.isViewer&&t.detail.value){const t=this.viewer.clock;(e.JulianDate.lessThan(t.currentTime,t.startTime)||e.JulianDate.greaterThanOrEquals(t.currentTime,t.stopTime))&&(e.JulianDate.clone(t.startTime,t.currentTime),t.tick())}}_pointerMove(t){if(!e.defined(this._viewer))return;const n=this._viewer.scene.canvas.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top,o=JSON.stringify({x:i,y:r});this._mapScale.setAttribute("pointerPosition",o),this._coordinates.setAttribute("pointerPosition",o)}_onViewerInitialized(){const t=this._viewer,n=this.shadowRoot.querySelector("cesium-map-scale"),i=this.shadowRoot.querySelector("cesium-coordinates"),r=this.shadowRoot.querySelector("cesium-navigation"),o=this.shadowRoot.querySelector("ion-play-button"),a=t.scene,s=a.canvas;s.addEventListener("pointerdown",this._onCesiumCanvasPointerDown),s.addEventListener("click",this._onCesiumCanvasClick),s.addEventListener("pointermove",this._onCesiumCanvasPointerMove),t.cesiumWidget.screenSpaceEventHandler.removeInputAction(e.ScreenSpaceEventType.LEFT_CLICK),t.cesiumWidget.screenSpaceEventHandler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o.clockViewModel=t.clockViewModel;const l=e.JulianDate.toDate(t.clockViewModel.currentTime);this.currentTimeString=l.toLocaleString(),e.knockout.getObservable(t.clockViewModel,"currentTime").subscribe((t=>{const n=e.JulianDate.toDate(t);this.currentTimeString=n.toLocaleString()})),n.scene=a,i.scene=a,r.attach(a,t.clock),a.primitives.add(this._tilesetCollection);const c=t.timeline.resize.bind(t.timeline);t.timeline.resize=()=>{t.timeline.container.style.bottom="29px",t.timeline.container.style.left="29px",t.timeline.container.style.right="0",c(),this.updateTimelineTrim()},this._viewer=t,this._coordinates=i,this._mapScale=n;const d=new e.Measure({container:this.shadowRoot.querySelector("#measureContainer"),scene:a,units:this.units});this._measureWidget=d,this._removePostUpdateEvent=a.postUpdate.addEventListener((function(){const e=t._container.clientHeight-125;d._dropdown.style.maxHeight=`${e}px`})),this._removePostRenderEvent=a.postRender.addEventListener((()=>{this._updateSceneComplete()})),this._removeRenderErrorEvent=a.renderError.addEventListener(((e,t)=>{this.dispatchEvent(new CustomEvent("viewerError",{detail:{error:t}}))})),this.isViewer||(this._timelineTrack=t.timeline.addTrack(new e.TimeInterval,10,e.Color.fromBytes(43,135,196,178),e.Color.fromBytes(45,58,66,178))),this._ready=!0,this._updateAssetInstances(),this._updateUnits(),this._updateActiveSlide(),t.scene.camera.flyHome=()=>{this.flyToSlide(this._activeSlide)},this.viewer.clock.onTick.addEventListener((t=>{(t.shouldAnimate||this.isViewer)&&(t.multiplier<0&&e.JulianDate.lessThanOrEquals(t.currentTime,t.startTime)?(e.JulianDate.clone(t.stopTime,t.currentTime),t.shouldAnimate=!1,requestAnimationFrame((()=>t.tick()))):t.multiplier>0&&e.JulianDate.greaterThanOrEquals(t.currentTime,t.stopTime)&&(e.JulianDate.clone(t.startTime,t.currentTime),t.shouldAnimate=!1,requestAnimationFrame((()=>t.tick()))))}));const u=t.timeline._timeBarEle;u.removeEventListener("DOMMouseScroll",t.timeline._onMouseWheel),u.removeEventListener("mousewheel",t.timeline._onMouseWheel),u.removeEventListener("mousedown",t.timeline._onMouseDown),u.addEventListener("mousedown",(e=>{0!==e.button?e.preventDefault():t.timeline._onMouseDown(e)})),document.removeEventListener("mousemove",t.timeline._onMouseMove),document.addEventListener("mousemove",(e=>{const n=t.timeline;if(1===n._mouseMode){const t=e.clientX-n._topDiv.getBoundingClientRect().left;if(t>0&&t<n._topDiv.clientWidth)return void n._onMouseMove(e)}})),this.dispatchEvent(new CustomEvent("viewerInitialized"))}_updateSceneComplete(){const t=this._viewer,n=this._tilesetCollection,i=t.scene.globe._surface;let r=t.clockViewModel.canAnimate&&t.scene.globe.tilesLoaded&&0===i._debug.tilesWaitingForChildren&&0===e.RequestScheduler.statistics.numberOfActiveRequests;if(r){const e=n.length;for(let t=0;t<e;t++){if(r=n.get(t).tilesLoaded,!r)break}}r!==this._sceneComplete&&(this._sceneComplete=r,clearTimeout(this._sceneCompleteTimeout),this._sceneCompleteTimeout=setTimeout((()=>{this._sceneCompleteChange.raiseEvent(this._sceneComplete),this.requestUpdate()}),100))}async _addAssetCesiumInstance(t){if(t.status!==Lr.AssetStatus.COMPLETE)return;let n;const i=this._viewer;let r;switch(t.type){case Lr.AssetType.IMAGERY:r=new e.ImageryLayer(await e.IonImageryProvider.fromAssetId(t.id)),i.scene.imageryLayers.add(r);break;case Lr.AssetType["3DTILES"]:if(r=await e.Cesium3DTileset.fromIonAssetId(t.id),r.pointCloudShading.attenuation=!0,r.pointCloudShading.eyeDomeLighting=!0,this._tilesetCollection.add(r),e.defined(r.asset.extras)){const n=r.asset.extras.ion;this.isViewer&&(t.ionExtras=n);const i=n?.defaultStyle;e.defined(i)&&!e.defined(r.style)&&(r.style=new e.Cesium3DTileStyle(i))}break;case Lr.AssetType.KML:case Lr.AssetType.GEOJSON:case Lr.AssetType.CZML:r=t.type===Lr.AssetType.KML?new e.KmlDataSource({camera:i.scene.camera,canvas:i.scene.canvas}):t.type===Lr.AssetType.GEOJSON?new e.GeoJsonDataSource:new e.CzmlDataSource,r.__ionAssetId=t.id,i.dataSources.add(r),n=e.IonResource.fromAssetId(t.id).then((e=>r.load(e,{clampToGround:!0})))}const o=this._activeSlide.assetSettings[t.id],a=!!e.defined(o)&&o.show;return r.show=e.defaultValue(a,!1),this._assetInstances.set(t.id,r),n}_deleteCesiumAssetInstance(t){const n=this._viewer,i=this._assetInstances.get(t);if(i instanceof e.ImageryLayer)n.scene.imageryLayers.remove(i);else if(i instanceof e.Cesium3DTileset)this._tilesetCollection.remove(i);else{const t=n.trackedEntity;e.defined(t)&&t.entityCollection.owner===i&&this.cancelEntityTracking(),n.dataSources.remove(i)}this._assetInstances.remove(t)}_updateAssetInstances(){if(!this._ready||this._assetState===this._lastAssetState)return;const e=[],t=this._assetState,n=this._assetInstances,i=Object.keys(n._hash).map((e=>Number(e)));i.sort(((e,t)=>e-t));const r=t.ids.slice(),o=t.byId;r.sort(((e,t)=>e-t));let a=0,s=0;for(;a<i.length&&s<r.length;){const t=i[a],n=r[s];n<t?(e.push(this._addAssetCesiumInstance(o[n])),s++):n===t?(s++,a++):(this._deleteCesiumAssetInstance(t),a++)}for(;s<r.length;s++)e.push(this._addAssetCesiumInstance(o[r[s]]));for(;a<i.length;a++)this._deleteCesiumAssetInstance(i[a]);this._lastAssetState=t,Promise.all(e).finally((()=>{this._updateAssetOrder();this._updateTimeline()&&this.dispatchEvent(new CustomEvent("timelineChanged",{detail:{visible:this.timelineVisible,start:this.timelineStart.clone(),stop:this.timelineStop.clone()}})),this.updateAnimation(this._activeSlide),this._viewer.clockViewModel.shouldAnimate=this.timelineVisible&&this.isViewer}))}_updateTimeline(){const t=this._viewer.dataSources;let n,i,r=!1;for(let o=0;o<t.length;o++){const a=t.get(o);e.defined(a.clock)&&a.show&&(r=!0,(!e.defined(n)||e.JulianDate.compare(a.clock.startTime,n)<0)&&(n=a.clock.startTime),(!e.defined(i)||e.JulianDate.compare(a.clock.stopTime,i)>0)&&(i=a.clock.stopTime))}return n=e.defaultValue(n,e.Iso8601.MINIMUM_VALUE.clone()),i=e.defaultValue(i,e.Iso8601.MAXIMUM_VALUE.clone()),(r!==this.timelineVisible||!e.JulianDate.equals(n,this.timelineStart)||!e.JulianDate.equals(i,this.timelineStop))&&(this.timelineVisible=r,this.timelineStart=n.clone(this.timelineStart),this.timelineStop=i.clone(this.timelineStop),requestAnimationFrame((()=>{this.viewer.forceResize()})),!0)}updateTimelineTrim(){if(this.isViewer||!this.timelineVisible||!e.defined(this.activeSlide.startTime)||!e.defined(this.activeSlide.stopTime))return;const t=e.JulianDate.fromIso8601(this.activeSlide.startTime),n=e.JulianDate.fromIso8601(this.activeSlide.stopTime),i=this.viewer.timeline,r=this.shadowRoot.querySelector("#startNeedle");let o=e.JulianDate.secondsDifference(t,this.timelineStart),a=Math.round(o*i._topDiv.clientWidth/i._timeBarSecondsSpan)+1.5*r.clientWidth-.5;r.style.left=`${a.toString()}px`;const s=this.shadowRoot.querySelector("#stopNeedle");o=e.JulianDate.secondsDifference(n,this.timelineStart),a=Math.round(o*i._topDiv.clientWidth/i._timeBarSecondsSpan)+1.5*s.clientWidth-.5,s.style.left=`${a.toString()}px`}_updateAssetOrder(){const e=this._assetState,t=this._assetInstances,n=e.ids,i=e.byId,r=this._viewer;for(let e=0;e<n.length;e++){const o=n[e],a=i[o];if(a.status!==Lr.AssetStatus.COMPLETE)continue;const s=t.get(o);switch(a.type){case Lr.AssetType.IMAGERY:r.scene.imageryLayers.raiseToTop(s);break;case Lr.AssetType["3DTILES"]:break;case Lr.AssetType.KML:case Lr.AssetType.GEOJSON:case Lr.AssetType.CZML:r.dataSources.raiseToTop(s)}}}_updateAssetsFromActiveSlide(){if(!this._ready||!e.defined(this._activeSlide)||!e.defined(this._styles))return;const t=this._activeSlide,n=this.assetState.byId,i=e.defaultValue(t.assetSettings,e.defaultValue.EMPTY_OBJECT);this._assetState.ids.forEach((t=>{const r=n[t],o=e.defaultValue(i[t],e.defaultValue.EMPTY_OBJECT),a=this._assetInstances.get(r.id);if(e.defined(a))switch(a.show=e.defaultValue(o.show,!1),r.type){case Lr.AssetType.IMAGERY:a.alpha=e.defaultValue(o.opacity,100)/100;break;case Lr.AssetType["3DTILES"]:if(e.defined(o.styleId)){if(a.__ionStyleId===o.styleId)return;a.__ionStyleId=o.styleId;const t=this._styles.byId[o.styleId];if(e.defined(t)){const n=Bf(t);a.style=new e.Cesium3DTileStyle(n)}}else if(a.style=void 0,a.__ionStyleId=void 0,e.defined(r.ionExtras)){const t=r.ionExtras.defaultStyle;e.defined(t)&&(a.style=new e.Cesium3DTileStyle(t))}break;case Lr.AssetType.KML:case Lr.AssetType.GEOJSON:case Lr.AssetType.CZML:{const t=this.viewer.trackedEntity;!a.show&&e.defined(t)&&t.entityCollection.owner===a&&this.cancelEntityTracking();break}}}))}_updateLegends(t){if(!this._ready||!e.defined(this._activeSlide)||!e.defined(this._styles))return;const n=this._activeSlide.assetSettings;if(!e.defined(n))return;const i=Object.keys(n),r=[],o=e.defined(t)&&!t.reset?t.assetId:void 0,a=e.defined(t)&&!t.reset?t.styleId:void 0,s=this._visibleLegendsByStyleId;i.forEach((t=>{if(t=Number(t),o===t)return;const i=n[t];i.show&&e.defined(i.styleId)&&-1===r.indexOf(i.styleId)&&(s[i.styleId]||i.styleId===a)&&r.push(i.styleId)})),this._legendSettings=r.map((e=>a===e?t.styleSettings:this._styles.byId[e])),e.defined(o)&&this._legendSettings.push(t.styleSettings),this.requestUpdate()}_updateActiveSlide(){const t=this._activeSlide;if(!this._ready||!e.defined(t)||t.type!==Lr.SlideType.MAP)return;const n=this.viewer.clockViewModel;n.shouldAnimate&&this._lastActiveSlideId&&(n.shouldAnimate=!1),this._updateAssetsFromActiveSlide(),this._updateLegends(),this._updateTimeline(),this.dispatchEvent(new CustomEvent("timelineChanged",{detail:{visible:this.timelineVisible,start:this.timelineStart.clone(),stop:this.timelineStop.clone()}})),this._setTerrainProvider(t.terrainAssetId),this._viewer.scene.requestRender(),e.defined(this._lastActiveSlideId)?t.id!==this._lastActiveSlideId?this.flyToSlide(t):this.updateAnimation(t):this.zoomToSlide(t),t.id!==this._lastActiveSlideId&&(this._measureWidget.viewModel.expanded=!1),this._lastActiveSlideId=t.id}ensureEllipsoid(){const t=this._viewer.scene.globe;t.terrainProvider instanceof e.EllipsoidTerrainProvider||(t.terrainProvider=new e.EllipsoidTerrainProvider)}refreshStyles(t){if(!e.defined(t))return this._updateAssetsFromActiveSlide(),this._updateLegends(),void this._viewer.scene.requestRender();const n=this._activeSlide,i=e.defaultValue(n.assetSettings,e.defaultValue.EMPTY_OBJECT),r=this.assetState.byId;if(e.defined(t.styleId))this._assetState.ids.forEach((n=>{const o=r[n],a=e.defaultValue(i[n],e.defaultValue.EMPTY_OBJECT),s=this._assetInstances.get(o.id);if(a.styleId===t.styleId&&e.defined(s)&&o.type===Lr.AssetType["3DTILES"]){const n=Bf(t.reset?this._styles.byId[a.styleId]:t.styleSettings);s.style=new e.Cesium3DTileStyle(n)}}));else{const n=t.assetId,i=r[n],o=this.getAssetInstance(n);if(e.defined(o)&&i.type===Lr.AssetType["3DTILES"]){const n=t.reset?this._styles.byId[o.__ionStyleId]:t.styleSettings,i=e.defined(n)?new e.Cesium3DTileStyle(Bf(n)):void 0;o.style=i}}this._updateLegends(t),this._viewer.scene.requestRender()}async waitForTerrainAsset(e){const t=await bs(e);if(e===this._terrainAssetId&&Lr.AssetStatus.isPending(t.status))return this.ensureEllipsoid(),await new Promise((e=>setTimeout(e,5e3))),this.waitForTerrainAsset(e)}async _setTerrainProvider(t){if(t!==this._terrainAssetId)if(this._terrainAssetId=t,e.defined(t)){if(this.isViewer||await this.waitForTerrainAsset(t),t===this._terrainAssetId){let n;const i=this._viewer.scene.globe;try{n=await e.CesiumTerrainProvider.fromIonAssetId(t,{requestWaterMask:!1,requestVertexNormals:!0}),i.terrainProvider=n}catch(e){i.terrainProvider===n&&this.ensureEllipsoid(i)}}}else this.ensureEllipsoid()}_updateUnits(){if(!this._ready)return;let t=e.DistanceUnits.METERS,n=e.AreaUnits.SQUARE_METERS,i=e.VolumeUnits.CUBIC_METERS;this.unit===Lr.DistanceUnitSystems.US_CUSTOMARY&&(t=e.DistanceUnits.FEET,n=e.AreaUnits.SQUARE_FEET,i=e.VolumeUnits.CUBIC_FEET),this._mapScale.distanceUnits=t,this._coordinates.distanceUnits=t;const r=this._measureWidget.viewModel.units;r.areaUnits=n,r.distanceUnits=t,r.volumeUnits=i}async captureThumbnail(t,n){return this._measureWidget.viewModel.expanded=!1,new Promise((i=>{const r=this._viewer.scene,o=this._viewer.clockViewModel.currentTime,a=r.canvas,s=r.camera.frustum,l=a.height,c=a.width,d=r.postUpdate.addEventListener((function(){Vf(a,s,n,t),r.requestRender()}));let u,h;function p(){d(),e.defined(h)&&h(),clearTimeout(u);const t=r.postRender.addEventListener((function(){t();const e=a.toDataURL("image/jpeg",.85);Vf(a,s,l,c),i(e),r.isDestroyed()||r.requestRender()}));r.requestRender(),r.render(o)}r.initializeFrame(),r.requestRender(),r.render(o),this._sceneComplete?p():(h=this._sceneCompleteChange.addEventListener(p),u=setTimeout(p,5e3))}))}zoomToAsset(e){const t=this._assetInstances.get(e);this.cancelEntityTracking(),Iu(this._viewer,t)}cancelEntityTracking(){const t=e.createGuid();this._lastZoomId=t,this._viewer.trackedEntity=void 0,this.dispatchEvent(new CustomEvent("trackingChanged",{detail:void 0}))}flyToSlide(t,n){if(!e.defined(this._viewer)||t.type!==Lr.SlideType.MAP)return;this.cancelEntityTracking(),this.cancelFlight(),(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).resumeAnimation||this.updateAnimation(t);const i=t.view,r=i.camera,o=t.completeCallback;e.defined(r.version)?e.defined(i.trackedId)?this.flyToTrackedEntitySlide(i,t,n.duration):this._viewer.scene.camera.flyTo({destination:r.position,orientation:{direction:r.direction,up:r.up},duration:n.duration,complete:()=>{this._viewer.clockViewModel.shouldAnimate=this.timelineVisible&&this.isViewer,e.defined(o)&&o()},cancel:t.cancelledCallback}):this._viewer.scene.camera.flyTo({destination:r.position,orientation:{heading:r.heading,pitch:r.pitch,roll:r.roll},duration:n.duration,complete:()=>{this._viewer.clockViewModel.shouldAnimate=this.timelineVisible&&this.isViewer,e.defined(o)&&o()},cancel:t.cancelledCallback})}flyToAndTrackEntity(t,n,i,r,o){this.viewer.trackedEntity=void 0,this.pauseAnimation();const a=e.createGuid();this._lastZoomId=a;let s=Hf;const l={},c=this._viewer.scene.camera,d={position:e.Cartesian3.clone(c.position),direction:e.Cartesian3.clone(c.direction),up:e.Cartesian3.clone(c.up)};this.viewer.trackedEntity=t;const u=this.viewer.scene.preRender.addEventListener((()=>{if(this._lastZoomId!==a)return void u();const c=this._viewer.scene.camera;if(this.viewer._needTrackedEntityUpdate||s!==Hf||(s=Uf,e.defined(o)&&(c.position=e.Cartesian3.clone(o.position),c.direction=e.Cartesian3.clone(o.direction),c.up=e.Cartesian3.clone(o.up)),this.viewer.trackedEntity=void 0,l.position=e.Cartesian3.clone(c.position),l.direction=e.Cartesian3.clone(c.direction),l.up=e.Cartesian3.clone(c.up),c.position=e.Cartesian3.clone(d.position),c.direction=e.Cartesian3.clone(d.direction),c.up=e.Cartesian3.clone(d.up),this._viewer.scene.camera.flyTo({destination:e.Cartesian3.clone(l.position),orientation:{direction:e.Cartesian3.clone(l.direction),up:e.Cartesian3.clone(l.up)},duration:n,complete:()=>{this._lastZoomId===a?(this._viewer.clockViewModel.shouldAnimate=this.timelineVisible&&this.isViewer,this.viewer.trackedEntity=t,s=Ff):u()},cancel:r})),s===Ff){if(this._lastZoomId!==a)return void u();this.viewer._needTrackedEntityUpdate||(e.defined(o)&&(c.position=e.Cartesian3.clone(o.position),c.direction=e.Cartesian3.clone(o.direction),c.up=e.Cartesian3.clone(o.up)),u(),e.defined(i)&&i())}}));this.viewer.scene.requestRender(),this.dispatchEvent(new CustomEvent("trackingChanged",{detail:{text:`Stop Following ${Lu(t)}`}}))}flyToTrackedEntitySlide(t,n,i){const r=e.createGuid();this._lastZoomId=r;const o=t.trackedId,a=t.trackedAssetId,s=this._viewer.dataSources,l=s.length;let c;for(let e=0;e<l;e++){const t=s.get(e);if(t.__ionAssetId===a){c=t;break}}if(e.defined(c)&&c.show){const a=this.viewer.scene.postRender.addEventListener((()=>{if(this._lastZoomId!==r)return void a();const s=c.entities.getById(o);e.defined(s)&&(a(),this.flyToAndTrackEntity(s,i,n.completeCallback,n.cancelledCallback,t.camera))}))}this.viewer.scene.requestRender()}zoomToSlide(e){this.flyToSlide(e,{duration:0})}updateAnimation(t){if(!this._ready||!this.timelineVisible||t.type!==Lr.SlideType.MAP)return;const n=t.id!==this._lastActiveSlideId,i=this.viewer.clockViewModel;let r=e.defined(t.startTime)?e.JulianDate.fromIso8601(t.startTime):this.timelineStart,o=e.defined(t.stopTime)?e.JulianDate.fromIso8601(t.stopTime):this.timelineStop,a=r;!n&&e.JulianDate.greaterThanOrEquals(i.currentTime,r)&&e.JulianDate.lessThanOrEquals(i.currentTime,o)&&(a=i.currentTime);let s=1;const l=e.JulianDate.compare(r,o);if(l>0){const e=r;r=o,o=e,s=-1}else 0===l&&(o=e.JulianDate.addSeconds(r,1,o.clone()));i.startTime=r.clone(),i.stopTime=o.clone(),i.multiplier=s*(e.JulianDate.secondsDifference(o,r)/t.duration),this.updateClockRange(),n&&(i.currentTime=a.clone()),this.viewer.timeline.updateFromClock(),this.isViewer?this.viewer.timeline.zoomTo(r,o):(this._timelineTrack.interval.start=r.clone(),this._timelineTrack.interval.stop=o.clone(),this.viewer.timeline.zoomTo(this.timelineStart,this.timelineStop),this.updateTimelineTrim())}cancelFlight(){this._viewer.scene.camera.cancelFlight()}pauseAnimation(){this._viewer.clockViewModel.shouldAnimate&&(this._viewer.clockViewModel.shouldAnimate=!1)}onKeyDown(t){if(!document.hasFocus()||document.activeElement===document.body||document.activeElement===document.documentElement){if(t.ctrlKey&&t.altKey&&("i"===t.key||73===t.keyCode)){const t=this._inspector instanceof e.CesiumInspector;if(e.defined(this._inspector)&&(this._inspector=this._inspector.destroy()),t)return;const n=this.shadowRoot.querySelector("#inspectorContainer");this._inspector=new e.CesiumInspector(n,this._viewer.scene)}else{if(!t.ctrlKey||!t.altKey||"3"!==t.key&&73!==t.keyCode)return;{const t=this._inspector instanceof e.Cesium3DTilesInspector;if(e.defined(this._inspector)&&(this._inspector=this._inspector.destroy()),t)return;const n=this.shadowRoot.querySelector("#inspectorContainer");this._inspector=new e.Cesium3DTilesInspector(n,this._viewer.scene)}}t.stopPropagation(),t.preventDefault()}}}),e.Timeline.prototype.makeLabel=function(t){return e.JulianDate.toDate(t).toLocaleString()};window.customElements.define("ion-modal",class extends pe{static get styles(){return[ql,p`
        :host {
          position: fixed;
          top: 0;
          bottom: 0;
          right: 0;
          left: 0;
          background-color: var(--transparent-overlay-color);
          z-index: 3;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .wrapper {
          width: 600px;
          background-color: var(--body-bg);
          padding: 1rem 1rem 2rem;
          border-radius: var(--border-radius);
          max-height: 90%;
          overflow-y: auto;
        }
      `]}static get properties(){return{}}constructor(){super(),this._onKeyDown=this._onKeyDown.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._pointerDown=new e.Cartesian2,this._pointerUp=new e.Cartesian2}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this._onKeyDown,!0),this.addEventListener("pointerdown",this._onPointerDown,!0),this.addEventListener("pointerup",this._onPointerUp,!0)}disconnectedCallback(){this.removeEventListener("pointerdown",this._onPointerDown,!0),this.removeEventListener("pointerup",this._onPointerUp,!0),document.removeEventListener("keydown",this._onKeyDown,!0),super.disconnectedCallback()}render(){return G`
      <div class="wrapper">
        <slot></slot>
      </div>
    `}_onKeyDown(e){"Escape"!==e.key&&27!==e.keyCode||this.dispatchEvent(new CustomEvent("close"))}_onPointerDown(e){this._pointerDown.x=e.clientX,this._pointerDown.y=e.clientY}_onPointerUp(e){this._pointerUp.x=e.clientX,this._pointerUp.y=e.clientY,Du(this._pointerUp,this._pointerDown)&&-1===e.composedPath().indexOf(this.shadowRoot.querySelector(".wrapper"))&&this.dispatchEvent(new CustomEvent("close"))}});window.customElements.define("ion-nav-support-button",class extends pe{static get properties(){return{active:{type:Boolean}}}constructor(){super(),this.active=!1,this._documentPointerDown=this._documentPointerDown.bind(this)}createRenderRoot(){return this}render(){return G`
      <a id="supportButton" class="nav-button" @pointerdown=${this.toggleMenu}>
        <div><span>${Md.node}</span> <span>Support</span></div>
      </a>
      <cesium-popover
        anchor="supportButton"
        direction="down"
        .open=${this.active}
      >
        <div class="support-content">
          <p>
            Posting on the
            <a
              href="https://community.cesium.com/"
              target="_blank"
              rel="noopener"
              @click=${this.onCommunitySupportClick}
              >community forum</a
            >
            is the fastest way to get an answer from the Cesium team.
          </p>
          <p>
            If you need to ask a question in private, email
            <a
              href="mailto:support@cesium.com"
              target="_blank"
              rel="noopener"
              @click=${this.onPrivateSupportClick}
              >support@cesium.com</a
            >.
          </p>
        </div>
      </cesium-popover>
    `}_documentPointerDown(e){-1===e.composedPath().indexOf(this)&&this.hideMenu()}hideMenu(){this.active=!1,this.requestUpdate(),document.removeEventListener("pointerdown",this._documentPointerDown)}onCommunitySupportClick(){As.sendEvent(As.category.STORIES_EDITOR,As.action.CLICK_COMMUNITY_SUPPORT,As.label.APPLICATION)}onPrivateSupportClick(){As.sendEvent(As.category.STORIES_EDITOR,As.action.CLICK_PRIVATE_SUPPORT,As.label.APPLICATION)}showMenu(){As.sendEvent(As.category.STORIES_EDITOR,As.action.OPEN_SUPPORT,As.label.APPLICATION),this.active=!0,this.requestUpdate(),document.addEventListener("pointerdown",this._documentPointerDown)}toggleMenu(e){e.stopPropagation(),this.active?this.hideMenu():this.showMenu()}});class Gf extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          background-color: var(--brand-primary);
          color: var(--text-light);
          overflow: hidden;
        }
        a {
          color: var(--text-light);
          text-decoration: none;
          height: 100%;
          display: inline-block;
          vertical-align: middle;
          padding: 0.3rem;
          cursor: pointer;
        }
        a:hover {
          color: var(--text-light);
        }
        .nav-button {
          padding: 0.2rem 1rem;
          height: 100%;
        }
        .nav-button:hover {
          background-color: var(--brand-primary-shade);
        }
        .nav-button:active {
          background-color: var(--brand-primary-dark);
        }
        .nav-button > div {
          height: 100%;
        }
        .nav-button svg {
          height: 1rem;
        }
        img {
          height: 100%;
        }
        #dashboardButton > span {
          display: inline-block;
          height: 100%;
        }
        #dashboardButton > #arrowIcon {
          vertical-align: middle;
          padding-right: 0.5rem;
        }
        .nav-right {
          float: right;
          height: 100%;
        }
        .nav-button > div {
          display: flex;
          align-items: center;
        }
        .nav-button span {
          display: inline-block;
        }
        .nav-button svg {
          margin-right: 0.2rem;
        }
        ion-textfield {
          display: inline-block;
          margin-right: 0.25rem;
          --input-padding: 1rem;
        }
        .support-content {
          width: 340px;
          color: var(--text-color);
          padding: 0 1rem;
        }
        .support-content a {
          color: var(--brand-primary);
          padding: 0;
        }
        .support-content a:hover {
          color: var(--brand-primary-shade);
        }
      `]}static get properties(){return{shared:{type:Boolean},dateModified:{type:String},name:{type:String}}}constructor(){super(),this.shared=!1,this.dateModified="",this.name="",this.storyId=void 0}render(){const e=new Date(this.dateModified),t=e.toLocaleDateString(),n=t===new Date(Date.now()).toLocaleDateString()?e.toLocaleTimeString():t;return G`
      <a title="Home" href="../../stories">
        <img alt="Cesium ion" src="../../Images/logo-small.svg" />
      </a>
      <ion-textfield
        value="${this.name}"
        title="Story name"
        @input=${this._onNameChange}
      ></ion-textfield>
      <span>Last saved: ${n}</span>
      <div class="nav-right">
        <a class="nav-button" @click=${this._present}>
          <div><span>${kd.node}</span> <span>Present</span></div>
        </a>
        <a class="nav-button" @click=${this._showShareModal}>
          <div><span>${od.node}</span> <span>Share</span></div>
        </a>
        <a class="nav-button" @click=${this._showSettingsModal}>
          <div><span>${yd.node}</span> <span>Settings</span></div>
        </a>
        <ion-nav-support-button></ion-nav-support-button>
        <a
          class="nav-button"
          href="https://cesium.com/learn/ion/stories-introduction/"
          target="_blank"
        >
          <div><span>${Id.node}</span> <span>Learn</span></div>
        </a>
      </div>
    `}_onNameChange(e){const t=e.target.value;Zs(t)||Al.dispatch(Ys({name:t}))}_present(){window.open(`../viewer/?id=${this.storyId}`)}_showShareModal(){this.shared||"Untitled"!==this.name?Al.dispatch(lo(tl)):Al.dispatch(lo(ol))}_showSettingsModal(){Al.dispatch(lo(nl))}stateChanged(e){this.storyId=e.story.id,this.shared=e.story.shared,this.dateModified=e.story.dateModified,this.name=e.story.name}}window.customElements.define("ion-nav",Gf);window.customElements.define("ion-notification",class extends pe{constructor(){super(),this.id=void 0,this.notificationType=wl,this.message=void 0,this.timeout=5e3}static get properties(){return{id:{type:String},active:{type:Boolean,reflect:!0},notificationType:{type:String,reflect:!0},message:{type:String},timeout:{type:Number}}}static get styles(){return[ql,p`
        :host {
          display: block;
          position: relative;
        }
        .notification {
          border-radius: var(--border-radius);
          background-color: var(--container-bg);
          padding: 0;
          color: var(--text-color);
          box-shadow: 0 0 10px var(--shadow-color);
          padding: 1rem;
          opacity: 0;
          transition: opacity 0.3s ease-in-out;
          box-sizing: border-box;
        }
        :host([active]) .notification {
          opacity: 1;
        }
        .notification-icon {
          display: inline-block;
          user-select: none;
          height: 1rem;
          width: 1rem;
          margin-right: 0.25rem;
          margin-left: -0.25rem;
          vertical-align: middle;
        }
        .notification-message {
          display: inline-block;
          vertical-align: top;
          width: calc(100% - 1.75rem);
        }
        .notification-info {
          background-color: var(--brand-info-bg);
          color: var(--brand-info-color);
        }
        .notification-success {
          background-color: var(--brand-success-bg);
          color: var(--brand-success-color);
        }
        .notification-error {
          background-color: var(--brand-danger-bg);
          color: var(--brand-danger-color);
        }
        ion-icon-button {
          position: absolute;
          top: 0.2rem;
          right: 0.2rem;
          height: 1rem;
          width: 1rem;
          color: inherit;
        }
      `]}render(){let e;switch(this.notificationType){case wl:e=dd;break;case kl:e=ud;break;case xl:e=cd}return G`
      <div
        class="notification notification-${this.notificationType.toLowerCase()}"
      >
        <div class="notification-icon">${e.node}</div>
        <div class="notification-message">${this.message}</div>
        <ion-icon-button @click=${this.deactivate}
          >${gd.node}</ion-icon-button
        >
      </div>
    `}firstUpdated(){setTimeout((()=>{this.active=!0}),300),e.defined(this.timeout)&&0!==this.timeout&&setTimeout((()=>{this.deactivate()}),this.timeout)}deactivate(){this.active=!1,setTimeout((()=>{this.dispatchEvent(new CustomEvent("close",{detail:{id:this.id}}))}),300)}});window.customElements.define("cesium-toggle",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
          box-sizing: border-box;
          font-family: var(--widgets-font-family);
          color: var(--widgets-text-color);
        }

        :host([disabled]) {
          opacity: 0.75;
        }

        label {
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: flex-start;
        }

        .toggle-input-button {
          position: relative;
          border-radius: calc(13px + var(--widgets-border-width, 1px));
          padding: 3px;
        }

        .toggle-input-button:focus-within,
        :host(:not([disabled])) .toggle-input-button:active,
        :host(:not([disabled])) label:active .toggle-input-button {
          box-shadow: 0 0 0 var(--focus-width) var(--focus-color);
        }

        .toggle-button {
          background-color: var(--widgets-darker-color);
          border-radius: calc(10px + var(--widgets-border-width, 1px));
          border: var(--widgets-border-width, 1px) solid
            var(--widgets-lighter-color);
          height: 20px;
          width: 40px;
          transition: background-color var(--widgets-transition-time) linear;
          user-select: none;
          -webkit-user-select: none;
          -ms-user-select: none;
          -moz-user-select: none;
        }

        .toggle-slider {
          display: block;
          position: absolute;
          top: 3px;
          left: 3px;
          border-radius: calc(10px + var(--widgets-border-width, 1px));
          border: var(--widgets-border-width, 1px) solid
            var(--widgets-lighter-color);
          height: 20px;
          width: 20px;
          outline: none;
          cursor: pointer;
          background-color: var(--widgets-text-color);
          transition: left var(--widgets-transition-time) ease-in-out;
        }

        :host([disabled]) label,
        :host([disabled]) .toggle-slider {
          cursor: not-allowed;
        }

        input {
          z-index: -1;
          position: absolute;
          left: 16px;
          outline: 0;
        }

        input:checked + .toggle-button {
          background-color: var(--widgets-active-color);
        }
        input:checked + .toggle-button .toggle-slider {
          left: calc(100% - 20px - 3px - 2 * var(--widgets-border-width, 1px));
        }

        .toggle-button-text {
          font-weight: normal;
          display: inline-block;
          padding-left: 12px;
          vertical-align: top;
          padding-top: 2px;
        }

        label span {
          margin-left: 3px;
        }
      `]}static get properties(){return{checked:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1}render(){return G`
      <label for="toggle">
        <div class="toggle-input-button">
          <input
            role="switch"
            type="checkbox"
            id="toggle"
            ?checked=${this.checked}
            @change=${this._handleChange}
            ?disabled=${this.disabled}
            tabindex=${this.disabled?-1:0}
          />
          <div class="toggle-button">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <span><slot></slot></span>
      </label>
    `}updated(){this.shadowRoot.querySelector("input").checked=this.checked}_handleChange(e){this.checked=e.currentTarget.checked,e.composed||this.dispatchEvent(new CustomEvent("change"))}});class Yf extends(gr(Al)(pe)){static get styles(){return[ql,p`
        button svg {
          height: 1rem;
          width: 1rem;
        }

        label {
          color: var(--text-color);
          font-size: var(--font-size-large);
          vertical-align: middle;
        }
        cesium-toggle {
          margin-left: 5px;
          vertical-align: middle;
        }
        .copy-icon {
          margin-left: 5px;
        }

        .confirm-copy {
          float: right;
          color: var(--text-muted);
          opacity: 0;
          transition: opacity var(--transition-time) ease-out;
        }

        .confirm-copy.copied {
          opacity: 1;
        }

        #shareLink ion-textfield {
          display: inline-block;
          width: calc(100% - 2.5rem);
        }

        #shareLink ion-icon-button {
          vertical-align: top;
        }

        #shareOptions {
          display: flex;
        }
        .share-button {
          text-align: center;
          margin-right: 1.5rem;
        }
        .share-button > * {
          display: block;
        }
        .share-button > .icon {
          background-color: var(--container-bg);
          border-radius: 50%;
          width: 1.75rem;
          height: 1.75rem;
          border: 1rem solid white;
          box-sizing: content-box;
        }
        .share-button > .icon svg {
          width: 1.75rem;
          height: 1.75rem;
        }
      `]}static get properties(){return{shared:{type:Boolean}}}constructor(){super(),this._storyId="",this._sharedUrl="",this.shared=!1,this._toggled=!1,this._urlCopiedTimeout=void 0,this._codeCopiedTimeout=void 0}render(){const e=encodeURIComponent(this._sharedUrl),t=`https://www.facebook.com/sharer/sharer.php?u=${e}`,n=`https://twitter.com/intent/tweet?url=${e}`,i=`https://www.linkedin.com/shareArticle/?url=${e}`;return G`
      <h1>Sharing settings</h1>
      <div class="margin-bottom">
        <label>Enable sharing</label>
        <cesium-toggle
          id="shared"
          ?checked=${this.shared}
          @change=${this._onToggleChange}
        ></cesium-toggle
        ><span class="small muted"
          >Sharing is ${this.shared?"on":"off"}</span
        >
      </div>
      <div id="shareLink" class="margin-bottom" ?hidden=${!this.shared}>
        <div>
          <label>Share url</label><span class="confirm-copy">Copied</span>
        </div>
        <div>
          <ion-textfield
            id="url"
            value="${this._sharedUrl}"
            @click=${this._selectText("url")}
            readonly
          ></ion-textfield>
          <ion-icon-button class="copy-icon" @click=${this._copyUrl}
            >${ad.node}</ion-icon-button
          >
        </div>
      </div>
      <div id="shareOptions" class="margin-bottom" ?hidden=${!this.shared}>
        <a class="share-button" @click=${this._openEmbedModal}>
          <span class="icon">${Sd.node}</span>
          <span>Embed</span>
        </a>
        <a class="share-button" @click=${this._openWindow(t)}>
          <span class="icon">${Ed.node}</span>
          <span>Facebook</span>
        </a>
        <a class="share-button" @click=${this._openWindow(n)}>
          <span class="icon">${Td.node}</span>
          <span>Twitter</span>
        </a>
        <a class="share-button" @click=${this._openWindow(i)}>
          <span class="icon">${Ad.node}</span>
          <span>LinkedIn</span>
        </a>
        <a
          class="share-button"
          href="mailto:?body=${this._sharedUrl}"
          target="_blank"
          rel="noopener"
        >
          <span class="icon">${Pd.node}</span>
          <span>Email</span>
        </a>
      </div>
      <ion-button theme="primary" @click=${this._close}>Okay</ion-button>
    `}_selectText(e){return function(){this.shadowRoot.querySelector(`#${e}`).select()}}_copyUrl(){const e=this.shadowRoot.querySelector("#url");e.focus(),e.select();try{document.execCommand("copy");const e=this.shadowRoot.querySelector("#shareLink .confirm-copy");e.classList.add("copied"),clearTimeout(this._urlCopiedTimeout),this._urlCopiedTimeout=setTimeout((()=>{e.classList.remove("copied")}),1500)}catch(e){console.log(e)}}_onToggleChange(){this._toggled=!0,Al.dispatch(Gs(this.shadowRoot.querySelector("#shared").checked))}_openWindow(t){return function(){const n=e.defined(window.screenLeft)?window.screenLeft:window.screenX,i=e.defined(window.screenTop)?window.screenTop:window.screenY,r=((window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)-600)/2+n,o=((window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)-300)/2+i,a=window.open(t,void 0,`width=600, height=300, top=${o}, left=${r}`);window.focus&&a.focus()}}_openEmbedModal(){Al.dispatch(lo(al))}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}stateChanged(e){if(e.story.id!==this._storyId){this._storyId=e.story.id;const t=`${window.location.origin+window.location.pathname}?id=${e.story.id}`;this._sharedUrl=t.replace("editor","viewer"),this.requestUpdate()}this.shared!==e.story.shared&&(this.shared=e.story.shared,this.shared&&this._toggled&&this.updateComplete.then((()=>{this._copyUrl()})))}}let Wf,Jf;window.customElements.define("ion-sharing-options",Yf);window.customElements.define("cesium-draggable-list",class extends pe{static get styles(){return[ql]}static get properties(){return{dragHandleClass:{type:String}}}constructor(){super(),this.dragHandleClass="",this._observer=void 0,this._items=new e.AssociativeArray,this._dropped=!1,this._dragthing=void 0,this._onPointerDown=this._onPointerDown.bind(this),this._onDragStart=this._onDragStart.bind(this),this._onDragEnd=this._onDragEnd.bind(this),this._onDrop=this._onDrop.bind(this)}firstUpdated(){this._observeItems(),this._updateItems(),this._dragthing=this.shadowRoot.querySelector("#dragthing").assignedElements({flatten:!0})[0]}disconnectedCallback(){super.disconnectedCallback(),this._unobserveItems()}addToGroup(t,n){const i=t.getAttribute("data-drag-group-id"),r=e.defined(i)?Number(this._items.get(i).getAttribute("data-drag-index")):void 0,o=Number(t.getAttribute("data-drag-index")),a=Number(n.getAttribute("data-drag-index"));this.dispatchEvent(new CustomEvent("reorder",{detail:{oldGroupIndex:r,oldIndex:o,newGroupIndex:a}}))}reorder(t,n,i){const r=t.getAttribute("data-drag-group-id"),o=n.getAttribute("data-drag-group-id"),a=e.defined(r)?Number(this._items.get(r).getAttribute("data-drag-index")):void 0,s=e.defined(o)?Number(this._items.get(o).getAttribute("data-drag-index")):void 0,l=Number(t.getAttribute("data-drag-index"));let c=Number(n.getAttribute("data-drag-index"));if(a===s){if(c===l||i&&c===l-1||!i&&c===l+1)return;c>l&&(c-=1)}i&&(c+=1),this.dispatchEvent(new CustomEvent("reorder",{detail:{oldGroupIndex:a,oldIndex:l,newIndex:c,newGroupIndex:s}}))}_observeItems(){this._observer||(this._observer=new MutationObserver((()=>{this._updateItems()})),this._observer.observe(this,{childList:!0}))}_unobserveItems(){this._observer&&(this._observer.disconnect(),this._observer=void 0),this._items.values.forEach((e=>{e.removeEventListener("dragstart",this._onDragStart),e.removeEventListener("drop",this._onDrop)})),this._items.removeAll()}_updateItems(){this.shadowRoot.querySelector("#slot").assignedElements({flatten:!0}).forEach(((e,t)=>{if(this._updateItem(e,t),e.classList.contains("droppable")){const t=e.getAttribute("data-drag-id");e.querySelector("[slot=content]").querySelectorAll(".draggable-child").forEach(((e,n)=>{this._updateItem(e,n,t)}))}e.setAttribute("data-drag-index",t)}))}_updateItem(t,n,i){let r=t.getAttribute("data-drag-id");if(!e.defined(r)){if(r=e.createGuid(),""!==this.dragHandleClass){const e=()=>{const n=t.shadowRoot.querySelector(`.${this.dragHandleClass}`);n.addEventListener("pointerdown",(()=>{t.setAttribute("draggable",!0)})),n.addEventListener("pointerup",(()=>{t.setAttribute("draggable",!1)})),t.removeEventListener("ready",e)};t.addEventListener("ready",e)}else t.addEventListener("pointerdown",this._onPointerDown),t.style.cursor="grab";t.setAttribute("data-drag-id",r),t.addEventListener("dragstart",this._onDragStart),t.addEventListener("drop",this._onDrop),this._items.set(r,t)}e.defined(i)?t.setAttribute("data-drag-group-id",i):t.removeAttribute("data-drag-group-id"),t.setAttribute("data-drag-index",n)}_addDropHandlers(){Jf.addEventListener("dragend",this._onDragEnd),this._items.values.forEach((e=>{e.addEventListener("dragover",this._onDragOver,!1)}))}_removeDropHandlers(){Jf.removeEventListener("dragend",this._onDragEnd),this._items.values.forEach((e=>{e.removeEventListener("dragover",this._onDragOver,!1)}))}_onPointerDown(e){e.currentTarget.setAttribute("draggable",!0)}_onDragStart(t){const n=t.target,i=JSON.stringify({childId:n.getAttribute("data-drag-id")}),r=t.dataTransfer;r.setData("text",i),e.defined(this._dragthing)&&r.setDragImage(this._dragthing,50,25),r.setData("text",i),this._dropped=!1,Wf=void 0,Jf=n,this._addDropHandlers()}_onDragEnd(t){t.target.setAttribute("draggable",!1),this._removeDropHandlers(),!this._dropped&&e.defined(Wf)&&(this.reorder(Jf,Wf,Wf.classList.contains("drag-after")),this._dropped=!0,Wf.classList.remove("drag-before","drag-after"))}_onDragOver(t){t.preventDefault(),t.stopPropagation(),e.defined(Wf)&&Wf.classList.remove("drag-before","drag-after","drag-over"),Wf=this;const n=t.clientY;if(this.classList.contains("droppable")&&!Jf.classList.contains("droppable")){const e=this.getBoundingClientRect().top;n<e+.25*this.clientHeight?this.classList.add("drag-before"):n>e+.75*this.clientHeight?this.classList.add("drag-after"):this.classList.add("drag-over")}else!function(e,t){return e<t.getBoundingClientRect().top+t.clientHeight/2}(n,this)?this.classList.add("drag-after"):this.classList.add("drag-before")}_onDrop(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;let n;try{n=JSON.parse(e.dataTransfer.getData("text"))}catch(e){return}t.classList.contains("drag-over")?this.addToGroup(this._items.get(n.childId),t):this.reorder(this._items.get(n.childId),t,t.classList.contains("drag-after")),this._dropped=!0,t.classList.remove("drag-before","drag-after","drag-over")}render(){return G`
      <div id="items">
        <slot id="slot"></slot>
        <slot id="dragthing" name="dragthing"></slot>
      </div>
    `}});window.customElements.define("ion-delete-icon-button",class extends pe{static get styles(){return[ql,p`
        :host {
          display: inline-block;
        }
        ion-icon-button {
          height: 100%;
          width: 100%;
        }
        .trash-icon {
          height: 1rem;
          width: 1rem;
          display: inline-block;
          vertical-align: middle;
        }
        .trash-icon + span {
          vertical-align: middle;
        }
        .trash-icon > svg {
          width: 100%;
          height: 100%;
        }
        .popover-wrapper {
          color: var(--text-color);
          cursor: pointer;
          padding: 0.5rem 1rem;
          border-radius: var(--border-radius);
        }
        .popover-wrapper:hover {
          background-color: var(--brand-danger-bg);
        }
      `]}static get properties(){return{title:{type:String},message:{type:String},active:{type:Boolean}}}constructor(){super(),this.title="Delete",this.message="Confirm delete",this.active=!1,this._documentPointerDown=this._documentPointerDown.bind(this)}_documentPointerDown(e){-1===e.composedPath().indexOf(this)&&this.hideConfirm()}hideConfirm(){this.active=!1,this.requestUpdate(),document.removeEventListener("pointerdown",this._documentPointerDown)}showConfirm(e){e.stopPropagation(),this.active=!0,this.requestUpdate(),document.addEventListener("pointerdown",this._documentPointerDown)}dispatch(){this.dispatchEvent(new CustomEvent("delete")),this.hideConfirm()}render(){return G`
      <ion-icon-button
        id="deleteButton"
        @pointerup=${this.showConfirm}
        title=${this.title}
      >
        ${ld.node}
      </ion-icon-button>
      <cesium-popover
        anchor="deleteButton"
        direction="down"
        .open=${this.active}
      >
        <div class="popover-wrapper" @click=${this.dispatch}>
          <div class="trash-icon">${ld.node}</div>
          <span>${this.message}</span>
        </div>
      </cesium-popover>
    `}});window.customElements.define("ion-checkbox",class extends pe{static get styles(){return[p`
        :host {
          display: inline-block;
          box-sizing: border-box;
          cursor: pointer;
        }
        label {
          float: right;
          cursor: pointer;
          margin-left: 0.2rem;
        }
        label:hover + ion-icon-button {
          color: var(--brand-primary);
        }
        ion-icon-button {
          height: 1rem;
          width: 1rem;
          color: var(--text-color);
        }
      `]}static get properties(){return{label:{type:String},checked:{type:Boolean,reflect:!0}}}constructor(){super(),this.label="",this.checked=!1}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._toggle)}disconnectedCallback(){this.removeEventListener("click",this._toggle),super.disconnectedCallback()}render(){return G`
      ${""!==this.label?G`<label>${this.label}</label>`:""}
      <ion-icon-button
        >${this.checked?pd.node:hd.node}</ion-icon-button
      >
    `}_toggle(){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change"))}});window.customElements.define("ion-slider",class extends pe{static get styles(){return[ql,p`
        :host {
          font-size: var(--font-size);

          --track-height: 4px;
          --track-color: var(--gray-light);
          --track-radius: 8px;
          --slider-color: var(--brand-primary);
          --slider-height: 16px;
          --slider-text-input-width: 3rem;
        }
        :host([hideValue]) input[type="range"] {
          width: 100%;
        }
        input {
          color: var(--text-color);
          display: inline-block;
        }
        input[type="range"] {
          -webkit-appearance: none;
          width: calc(100% - var(--slider-text-input-width) - 1rem);
          vertical-align: middle;
          background: transparent;
        }
        input[type="range"]:focus {
          outline: none;
        }
        input[type="number"] {
          width: var(--slider-text-input-width);
          margin-left: 5px;
          height: 1.5em;
          padding: 0 0.5rem;
          outline: 0;
        }
        input[type="number"].invalid {
          border: 1px solid var(--brand-danger);
          box-shadow: 0px 0px 3px 0px var(--brand-danger);
        }

        input[type="range"]::-webkit-slider-runnable-track {
          width: 100%;
          height: var(--track-height);
          cursor: pointer;
          background: var(--track-color);
          border-radius: var(--track-radius);
          border: 1px solid transparent;
        }
        input[type="range"]::-webkit-slider-thumb {
          height: var(--slider-height);
          width: var(--slider-height);
          border-radius: 50%;
          background: var(--slider-color);
          cursor: pointer;
          -webkit-appearance: none;
          margin-top: -7px;
        }

        input[type="range"]::-moz-range-track {
          width: 100%;
          height: var(--track-height);
          cursor: pointer;
          background: var(--gray-light);
          border-radius: var(--track-radius);
        }
        input[type="range"]::-moz-range-thumb {
          height: var(--slider-height);
          width: var(--slider-height);
          border-radius: 50%;
          background: var(--slider-color);
          cursor: pointer;
        }

        input[type="range"]::-ms-track {
          width: 100%;
          height: var(--track-height);
          cursor: pointer;
          background: transparent;
          border-color: transparent;
          border-width: 39px 0;
          color: transparent;
        }
        input[type="range"]::-ms-fill-lower {
          background: var(--track-color);
          border-radius: 50px;
        }
        input[type="range"]::-ms-fill-upper {
          background: var(--track-color);
          border-radius: 50px;
        }
        input[type="range"]::-ms-thumb {
          height: var(--slider-height);
          width: var(--slider-height);
          border-radius: 50%;
          background: var(--slider-color);
          cursor: pointer;
        }
      `]}static get properties(){return{min:{type:Number},max:{type:Number},step:{type:Number},value:{type:Number},hideValue:{type:Boolean,reflect:!0}}}constructor(){super(),this.hideValue=!1,this.min=0,this.max=100,this.step=1,this.value=50}render(){return G`
      <div class="range-input">
        <input
          type="range"
          min="${this.min}"
          max="${this.max}"
          step="${this.step}"
          .value="${this.value}"
          @input="${this.valueChange}"
        />
        <input
          id="field"
          type="number"
          class="form-control"
          min="${this.min}"
          max="${this.max}"
          step="any"
          .value="${this.value}"
          @input="${this.valueChange}"
          ?hidden=${this.hideValue}
        />
      </div>
    `}checkValidity(){const t=this.shadowRoot.querySelector("#field"),n=t.valueAsNumber;return isNaN(n)||e.defined(this.min)&&n<this.min||e.defined(this.max)&&n>this.max?(t.classList.add("invalid"),!1):(t.classList.remove("invalid"),!0)}valueChange(e){const t=""===e.srcElement.value?NaN:Number(e.srcElement.value);isNaN(t)||(this.value=Math.min(this.max,Math.max(this.min,t)),this.dispatchEvent(new CustomEvent("input",{detail:{value:this.value}})))}});window.customElements.define("ion-kabob-menu",class extends pe{static get styles(){return[ql,p`
        :host {
          display: inline-block;
        }
        ion-icon-button {
          width: 1rem;
        }
        ion-icon-button svg {
          height: 1rem;
        }
      `]}static get properties(){return{active:{type:Boolean}}}constructor(){super(),this.active=!1,this._documentPointerDown=this._documentPointerDown.bind(this)}_documentPointerDown(e){-1===e.composedPath().indexOf(this)&&this.hideMenu()}hideMenu(){this.active=!1,this.requestUpdate(),document.removeEventListener("pointerdown",this._documentPointerDown)}showMenu(){this.active=!0,this.requestUpdate(),document.addEventListener("pointerdown",this._documentPointerDown)}toggleMenu(e){e.stopPropagation(),this.active?this.hideMenu():this.showMenu()}render(){return G`
      <ion-icon-button
        id="kabobButton"
        @pointerup=${this.toggleMenu}
        title="Menu"
      >
        ${Cd.node}
      </ion-icon-button>
      <cesium-popover
        anchor="kabobButton"
        direction="right"
        .open=${this.active}
      >
        <slot></slot>
      </cesium-popover>
    `}});window.customElements.define("ion-asset-manager-row",class extends pe{static get styles(){return[ql,p`
        :host([notshown]) {
          color: var(--text-muted);
          font-style: italic;
        }
        .container {
          padding: 0.5rem 1rem 0.5rem 1.75rem;
          border-bottom: 1px solid var(--border-color);
        }
        #icons {
          float: right;
        }
        ion-icon-button,
        ion-delete-icon-button,
        ion-kabob-menu {
          height: 1rem;
          width: 1rem;
          flex-grow: 0;
          flex-shrink: 0;
        }
        ion-icon-button,
        ion-delete-icon-button {
          margin-left: 0.25rem;
        }
        ion-kabob-menu {
          margin-left: 0.1rem;
        }
        ion-checkbox {
          width: 1rem;
          height: 1rem;
          margin-right: 0.25rem;
        }
        .warning svg {
          height: 1rem;
          width: 1rem;
        }
        .error svg {
          height: 1rem;
          width: 1rem;
        }
        #opacityWrapper {
          margin-top: 0.5rem;
          display: flex;
        }
        #opacityWrapper ion-slider {
          width: 100%;
        }
        #opacityWrapper span {
          margin-right: 0.25rem;
        }
        .row {
          margin-left: -1.5rem;
          display: flex;
          align-items: center;
        }
        .row span {
          height: 1.2rem;
          display: flex;
          align-items: center;
        }
        .row.kabob {
          margin-right: -0.75rem;
        }
        .asset-name {
          flex-grow: 1;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        .draggable-grip {
          width: 1rem;
          height: 1rem;
          color: var(--gray-light);
          cursor: grab;
          vertical-align: top;
          padding: 0;
          margin-right: 0.5rem;
        }
        .draggable-grip svg {
          height: 1rem;
          width: 1rem;
        }

        ion-loading-icon {
          height: 1rem;
          width: 1rem;
          margin-right: 0.25rem;
        }

        .asset-name-error {
          color: var(--brand-danger);
          font-style: italic;
        }

        .asset-name-incomplete {
          color: var(--text-muted);
          font-style: italic;
        }
        .menu-item {
          background-color: var(--container-bg);
          padding: 0.5rem 1rem;
          cursor: pointer;
        }
        .menu-item:hover {
          background-color: var(--brand-primary-tint);
        }
        .row .warning,
        .row .error {
          margin-right: 0.25rem;
          height: 1rem;
        }
        .reference-button {
          margin-top: 0.25rem;
        }
      `]}static get properties(){return{assetMetadata:{type:Object},assetSettings:{type:Object},pendingUploads:{type:Object},notShown:{type:Boolean,reflect:!0}}}constructor(){super(),this.assetMetadata=void 0,this._assetSettings={},this.pendingUploads={},this.notShown=!1}get assetSettings(){return this._assetSettings}set assetSettings(t){t=e.defaultValue(t,{}),this._assetSettings=t,this.notShown=!t.show,this.requestUpdate()}firstUpdated(){this.dispatchEvent(new CustomEvent("ready"))}render(){const t=this.assetMetadata;if(!e.defined(t))return G``;const n=e.defaultValue(this.assetSettings,e.defaultValue.EMPTY_OBJECT),i=e.defaultValue(n.show,!1),r=t.ionExtras,o=e.defined(r)&&!t.isPremium&&t.ionExtras.movable,a=o&&!t.ionExtras.georeferenced,s=i&&e.defined(r)&&e.defined(r.styleableProperties),l=Lr.AssetStatus.isError(t.status),c=Lr.AssetStatus.isPending(t.status),d=i&&o;let u,h,p="";if(l?p="asset-name-error":(c||a)&&(p="asset-name-incomplete"),c)if(t.status===Lr.AssetStatus.AWAITING_FILES){const n=e.defaultValue(this.pendingUploads[t.id],0);u=Math.floor(.25*n),h=`Uploading (${u}%)`}else u=Math.floor(25+.75*t.percentComplete),h=`Tiling (${u}%)`;return G`
      <div class="container">
        <div class="row${d?" kabob":""}">
          <div class="draggable-grip">${md.node}</div>
          <ion-checkbox
            id="show"
            ?checked=${i}
            @change=${this._onShowChange}
          ></ion-checkbox>
          ${a?G`<span class="warning" title="Warning: Not georeferenced"
                >${cd.node}</span
              >`:""}
          ${l?G`<span
                class="error"
                title="Error: ${t.error?t.error.description:"Unable to load asset"}"
                >${cd.node}</span
              >`:""}
          ${c?G`<ion-loading-icon></ion-loading-icon
                ><span class="loading-indicator" title="${h}"
                  >${u}%</span
                >`:""}
          <span class="asset-name ${p}" title="${t.name}"
            >${t.name}</span
          >
          <ion-icon-button
            title="Zoom to"
            ?hidden=${!i||a||t.status!==Lr.AssetStatus.COMPLETE}
            @click=${this._onZoomClick}
            >${sd.node}</ion-icon-button
          >
          <ion-icon-button
            title="Edit style"
            ?hidden=${!s}
            @click=${this._onTilesetStyle}
            >${rd.node}</ion-icon-button
          >
          <ion-delete-icon-button
            @delete=${this._onDelete}
            message="Remove asset from all slides"
          ></ion-delete-icon-button>
          ${d?G`<ion-kabob-menu id="c3dtilesMenu" @click=${this._toggleMenu}>
                <div
                  class="menu-item"
                  @click=${this._onAdjustLocationClick}
                  ?hidden=${!o}
                >
                  Adjust tileset location
                </div>
              </ion-kabob-menu>`:""}
        </div>
        ${a?G`<div class="reference-button">
              <ion-button
                class="btn-small"
                @click=${this._onAdjustLocationClick}
                >Adjust tileset location</ion-button
              >
            </div>`:G``}
        <div
          id="opacityWrapper"
          ?hidden=${!i||t.type!==Lr.AssetType.IMAGERY}
        >
          <span>Opacity</span
          ><ion-slider
            id="opacity"
            hideValue
            @input=${this._onOpacityChange}
            .value=${e.defaultValue(n.opacity,100)}
          ></ion-slider>
        </div>
      </div>
    `}_onOpacityChange(){const e=this.shadowRoot.querySelector("#opacity").value;this.dispatchEvent(new CustomEvent("updateAsset",{detail:{opacity:Math.round(e)}}))}_onShowChange(){this.dispatchEvent(new CustomEvent("updateAsset",{detail:{show:this.shadowRoot.querySelector("#show").checked}}))}_onZoomClick(){this.dispatchEvent(new CustomEvent("zoomToAsset"))}_onDelete(){this.dispatchEvent(new CustomEvent("deleteAsset"))}_onAdjustLocationClick(){this.dispatchEvent(new CustomEvent("adjustLocation"))}_onTilesetStyle(){this.dispatchEvent(new CustomEvent("tilesetStyle"))}});class Kf extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
        }
      `]}static get properties(){return{terrainAssets:{type:Array},selectedTerrainId:{type:Number}}}constructor(){super(),this.terrainAssets=[],this.selectedTerrainId=void 0,this._activeSlide=void 0,this._polling=!1}_schedulePoll(e){this._polling&&setTimeout((()=>{this._polling&&this.pollAssets()}),e)}async _loadFivePages(){let t=[];for(let n=0;n<5;n++){const i=await gs({sortBy:"NAME",type:Lr.AssetType.TERRAIN,limit:1e3,page:n+1});if(t=t.concat(i.items),!e.defined(i.links.next))break}return t}async pollAssets(){let e;this._polling=!0;try{e=await this._loadFivePages()}catch(e){return void this._schedulePoll(1e4)}this._polling&&(this.terrainAssets=e,this._polling=this.terrainAssets.some((e=>Lr.AssetStatus.isPending(e.status))),this._schedulePoll(5e3))}connectedCallback(){super.connectedCallback(),this.pollAssets()}disconnectedCallback(){super.disconnectedCallback(),this._polling=!1}render(){const e=this.terrainAssets.map((e=>{let t=e.name;const n=Lr.AssetStatus.isError(e.status);return e.status===Lr.AssetStatus.AWAITING_FILES?t+=" (Uploading)":e.status===Lr.AssetStatus.IN_PROGRESS||e.status===Lr.AssetStatus.NOT_STARTED?t+=` (${e.percentComplete}%)`:n&&(t+=" (Error)"),{name:t,id:e.id,disabled:n}}));return e.unshift({id:null,disabled:!1,name:"WGS84 Ellipsoid"}),G`
      <ion-select
        id="terrainSelector"
        @focus="${this._onFocus}"
        .values=${e}
        .value=${this.selectedTerrainId}
        @change=${this.valueChange}
      ></ion-select>
    `}_onFocus(){this._polling||this.pollAssets()}updated(){const t=this.shadowRoot.querySelector("#terrainSelector");let n=0;e.defined(this.selectedTerrainId)&&(n=this.terrainAssets.findIndex((e=>e.id===this.selectedTerrainId)),n++),t.selectedIndex=n}valueChange(e){const t=e.target.value;Al.dispatch(Bs(this._activeSlide.id,{terrainAssetId:t}))}stateChanged(e){const t=ws(e);this._activeSlide=t,t.terrainAssetId!==this.selectedTerrainId&&(this.selectedTerrainId=t.terrainAssetId)}}window.customElements.define("ion-terrain-selector",Kf);class Xf extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          width: 100%;
        }
        h3 {
          margin-bottom: 0.5rem;
        }
        .asset-table {
          background-color: var(--container-bg);
          border: 1px solid var(--border-color);
          border-radius: var(--border-radius);
        }
        ion-asset-manager-row {
          border-top: 2px solid transparent;
        }
        ion-asset-manager-row:last-child {
          border-bottom: 2px solid transparent;
        }
        ion-asset-manager-row.drag-before {
          border-top: 2px solid var(--brand-primary);
        }
        ion-asset-manager-row.drag-after + ion-asset-manager-row {
          border-top: 2px solid var(--brand-primary);
        }
        ion-asset-manager-row.drag-after:last-child {
          border-bottom: 2px solid var(--brand-primary);
        }
        .add-asset-row {
          background-color: var(--container-bg);
          border-radius: var(--border-radius);
          padding: 0.5rem 1rem;
        }
        .add-asset-row ion-icon-button {
          height: 1rem;
          width: 1rem;
        }
      `]}constructor(){super(),this.assetState=void 0,this.activeSlideAssetSettings=void 0,this._activeSlide=void 0,this.pendingUploads={}}render(){return G`
      <h3>Assets</h3>
      <div class="asset-table margin-bottom">
        ${this._renderAssetList()}
        <div class="add-asset-row">
          <ion-icon-button theme="primary" @click=${this.showAssetModal}
            >${_d.node} Add asset...</ion-icon-button
          >
        </div>
      </div>
      <h3>Terrain</h3>
      <ion-terrain-selector></ion-terrain-selector>
    `}_renderAssetList(){const e=this.assetState.ids.map((e=>this.assetState.byId[e])).reverse();return 0===e.length?G``:G`<cesium-draggable-list
      dragHandleClass="draggable-grip"
      @reorder=${this._onAssetReorder}
    >
      ${Ul(e,(e=>e.id),(e=>G`
          <ion-asset-manager-row
            .assetMetadata=${e}
            .pendingUploads=${this.pendingUploads}
            .assetSettings=${this._activeSlideAssetSettings[e.id]}
            @updateAsset=${this._onUpdateAsset}
            @zoomToAsset=${this._onZoomToAssetEvent}
            @deleteAsset=${this._onDeleteAssetEvent}
            @adjustLocation=${this._onAdjustLocationEvent}
            @tilesetStyle=${this._onTilesetStyle}
          ></ion-asset-manager-row>
        `))}</cesium-draggable-list
    >`}_onTilesetStyle(e){const t=e.target.assetMetadata;Al.dispatch(ho(t.id))}_onAdjustLocationEvent(e){const t=e.target.assetMetadata;Al.dispatch(uo(t.id))}_onDeleteAssetEvent(e){const t=e.target.assetMetadata;Al.dispatch(Vs(t.id))}_onZoomToAssetEvent(e){const t=e.target.assetMetadata;this.dispatchEvent(new CustomEvent("zoomToAsset",{bubbles:!0,composed:!0,detail:{assetId:t.id}}))}_onAssetReorder(e){const t=e.detail.oldIndex,n=e.detail.newIndex,i=this.assetState.ids.slice().reverse(),r=i.splice(t,1)[0];var o;i.splice(n,0,r),i.reverse(),Al.dispatch((o=i,async(e,t)=>{const n=t().story.id;$s(t,(()=>ms(n,{assetIds:o})),e),e({type:Wr,assetIds:o})}))}_onUpdateAsset(e){const t=e.target.assetMetadata.id,n=e.detail;Al.dispatch(Hs(this._activeSlide.id,t,n))}showAssetModal(){Al.dispatch(lo(el))}showUploadModal(){Al.dispatch(lo(rl))}stateChanged(t){t.story.assets!==this.assetState&&(this.assetState=t.story.assets,this.requestUpdate());const n=ws(t);this._activeSlide=n,e.defined(n)&&n.assetSettings!==this._activeSlideAssetSettings&&(this._activeSlideAssetSettings=e.defaultValue(n.assetSettings,e.defaultValue.EMPTY_OBJECT),this.requestUpdate()),this.pendingUploads!==t.app.pendingUploads&&(this.pendingUploads=t.app.pendingUploads,this.requestUpdate())}}window.customElements.define("ion-asset-manager",Xf);var Zf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Qf={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},em={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},tm=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},nm=function(e){return!0===e?1:0};function im(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,r)}),t)}}var rm=function(e){return e instanceof Array?e:[e]};function om(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function am(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function sm(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lm(e,t){return t(e)?e:e.parentNode?lm(e.parentNode,t):void 0}function cm(e,t){var n=am("div","numInputWrapper"),i=am("input","numInput "+e),r=am("span","arrowUp"),o=am("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}function dm(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var um=function(){},hm=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},pm={D:um,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*nm(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:um,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:um,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},fm={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mm={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[mm.w(e,t,n)]},F:function(e,t,n){return hm(mm.n(e,t,n)-1,!1,t)},G:function(e,t,n){return tm(mm.h(e,t,n))},H:function(e){return tm(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[nm(e.getHours()>11)]},M:function(e,t){return hm(e.getMonth(),!0,t)},S:function(e){return tm(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return tm(e.getFullYear(),4)},d:function(e){return tm(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return tm(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return tm(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},gm=function(e){var t=e.config,n=void 0===t?Qf:t,i=e.l10n,r=void 0===i?em:i,o=e.isMobile,a=void 0!==o&&o;return function(e,t,i){var o=i||r;return void 0===n.formatDate||a?t.split("").map((function(t,i,r){return mm[t]&&"\\"!==r[i-1]?mm[t](e,o,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,o)}},bm=function(e){var t=e.config,n=void 0===t?Qf:t,i=e.l10n,r=void 0===i?em:i;return function(e,t,i,o){if(0===e||e){var a,s=o||r,l=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(n||Qf).dateFormat,d=String(e).trim();if("today"===d)a=new Date,i=!0;else if(n&&n.parseDate)a=n.parseDate(e,c);else if(/Z$/.test(d)||/GMT$/.test(d))a=new Date(e);else{for(var u=void 0,h=[],p=0,f=0,m="";p<c.length;p++){var g=c[p],b="\\"===g,v="\\"===c[p-1]||b;if(fm[g]&&!v){m+=fm[g];var y=new RegExp(m).exec(e);y&&(u=!0)&&h["Y"!==g?"push":"unshift"]({fn:pm[g],val:y[++f]})}else b||(m+=".")}a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),h.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,s)||a})),a=u?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+l))}}};function vm(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var ym=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},_m=function(e,t,n){return 3600*e+60*t+n},wm=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},km={DAY:864e5};function xm(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),o=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&i<a&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(l,n)),t===s&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,o=t;r<o.length;r++){i(o[r])}return e});var Cm=function(){return Cm=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Cm.apply(this,arguments)},Sm=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},Em=300;function Tm(e,t){var n={config:Cm(Cm({},Qf),Pm.defaultConfig),l10n:em};function i(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function r(e){return e.bind(n)}function o(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function a(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||vm(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),i=xm(n.config);t.setHours(i.hours,i.minutes,i.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,i=dm(e),r=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[nm(n.amPM.textContent===n.l10n.amPM[0])]);var o=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),l=parseInt(r.value,10),c=e.delta||(t?38===e.which?1:-1:0),d=l+s*c;if(void 0!==r.value&&2===r.value.length){var u=r===n.hourElement,h=r===n.minuteElement;d<o?(d=a+d+nm(!u)+(nm(u)&&nm(!n.amPM)),h&&m(void 0,-1,n.hourElement)):d>a&&(d=r===n.hourElement?d-a-nm(!n.amPM):o,h&&m(void 0,1,n.hourElement)),n.amPM&&u&&(1===s?d+l===23:Math.abs(d-l)>s)&&(n.amPM.textContent=n.l10n.amPM[nm(n.amPM.textContent===n.l10n.amPM[0])]),r.value=tm(d)}}(e);var r=n._input.value;s(),Q(),n._input.value!==r&&n._debouncedChange()}function s(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,i=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(n.minuteElement.value,10)||0)%60,o=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=i,t=n.amPM.textContent,i=e%12+12*nm(t===n.l10n.amPM[1]));var a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===vm(n.latestSelectedDateObj,n.config.minDate,!0),s=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===vm(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var l=_m(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),d=_m(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),u=_m(i,r,o);if(u>d&&u<l){var h=wm(l);i=h[0],r=h[1],o=h[2]}}else{if(s){var p=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(i=Math.min(i,p.getHours()))===p.getHours()&&(r=Math.min(r,p.getMinutes())),r===p.getMinutes()&&(o=Math.min(o,p.getSeconds()))}if(a){var f=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(i=Math.max(i,f.getHours()))===f.getHours()&&r<f.getMinutes()&&(r=f.getMinutes()),r===f.getMinutes()&&(o=Math.max(o,f.getSeconds()))}}c(i,r,o)}}function l(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=tm(n.config.time_24hr?e:(12+e)%12+12*nm(e%12==0)),n.minuteElement.value=tm(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[nm(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=tm(i)))}function d(e){var t=dm(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&M(n)}function u(e,t,i,r){return t instanceof Array?t.forEach((function(t){return u(e,t,i,r)})):e instanceof Array?e.forEach((function(e){return u(e,t,i,r)})):(e.addEventListener(t,i,r),void n._handlers.push({remove:function(){return e.removeEventListener(t,i,r)}}))}function h(){W("onChange")}function p(e,t){var i=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,o=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(e){e.message="Invalid date supplied: "+i,n.config.errorHandler(e)}t&&n.currentYear!==r&&(W("onYearChange"),k()),!t||n.currentYear===r&&n.currentMonth===o||W("onMonthChange"),n.redraw()}function f(e){var t=dm(e);~t.className.indexOf("arrow")&&m(e,t.classList.contains("arrowUp")?1:-1)}function m(e,t,n){var i=e&&dm(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,o=J("increment");o.delta=t,r&&r.dispatchEvent(o)}function g(e,t,i,r){var o=I(t,!0),a=am("span",e,t.getDate().toString());return a.dateObj=t,a.$i=r,a.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===vm(t,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),o?(a.tabIndex=-1,K(t)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(om(a,"startRange",n.selectedDates[0]&&0===vm(t,n.selectedDates[0],!0)),om(a,"endRange",n.selectedDates[1]&&0===vm(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(vm(e,n.selectedDates[0])>=0&&vm(e,n.selectedDates[1])<=0)}(t)&&!K(t)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&r%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),W("onDayCreate",a),a}function b(e){e.focus(),"range"===n.config.mode&&O(e)}function v(e){for(var t=e>0?0:n.config.showMonths-1,i=e>0?n.config.showMonths:-1,r=t;r!=i;r+=e)for(var o=n.daysContainer.children[r],a=e>0?0:o.children.length-1,s=e>0?o.children.length:-1,l=a;l!=s;l+=e){var c=o.children[l];if(-1===c.className.indexOf("hidden")&&I(c.dateObj))return c}}function y(e,t){var r=i(),o=q(r||document.body),a=void 0!==e?e:o?r:void 0!==n.selectedDateElem&&q(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&q(n.todayDateElem)?n.todayDateElem:v(t>0?1:-1);void 0===a?n._input.focus():o?function(e,t){for(var i=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,r=t>0?n.config.showMonths:-1,o=t>0?1:-1,a=i-n.currentMonth;a!=r;a+=o)for(var s=n.daysContainer.children[a],l=i-n.currentMonth===a?e.$i+t:t<0?s.children.length-1:0,c=s.children.length,d=l;d>=0&&d<c&&d!=(t>0?c:-1);d+=o){var u=s.children[d];if(-1===u.className.indexOf("hidden")&&I(u.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return b(u)}n.changeMonth(o),y(v(o),0)}(a,t):b(a)}function _(e,t){for(var i=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((t-1+12)%12,e),o=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay",d=r+1-i,u=0;d<=r;d++,u++)a.appendChild(g("flatpickr-day "+l,new Date(e,t-1,d),0,u));for(d=1;d<=o;d++,u++)a.appendChild(g("flatpickr-day",new Date(e,t,d),0,u));for(var h=o+1;h<=42-i&&(1===n.config.showMonths||u%7!=0);h++,u++)a.appendChild(g("flatpickr-day "+c,new Date(e,t+1,h%o),0,u));var p=am("div","dayContainer");return p.appendChild(a),p}function w(){if(void 0!==n.daysContainer){sm(n.daysContainer),n.weekNumbers&&sm(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),e.appendChild(_(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&O()}}function k(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var i=am("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,t).getMonth().toString(),i.textContent=hm(t,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===t&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}}function x(){var e,t=am("div","flatpickr-month"),i=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=am("span","cur-month"):(n.monthsDropdownContainer=am("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),u(n.monthsDropdownContainer,"change",(function(e){var t=dm(e),i=parseInt(t.value,10);n.changeMonth(i-n.currentMonth),W("onMonthChange")})),k(),e=n.monthsDropdownContainer);var r=cm("cur-year",{tabindex:"-1"}),o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&o.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(o.setAttribute("max",n.config.maxDate.getFullYear().toString()),o.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=am("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(r),i.appendChild(a),t.appendChild(i),{container:t,yearElement:o,monthElement:e}}function C(){sm(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=x();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function S(){n.weekdayContainer?sm(n.weekdayContainer):n.weekdayContainer=am("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=am("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return E(),n.weekdayContainer}function E(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=Sm(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=Sm(t.splice(e,t.length),t.splice(0,e)));for(var i=n.config.showMonths;i--;)n.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function T(e,t){void 0===t&&(t=!0);var i=t?e:e-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,W("onYearChange"),k()),w(),W("onMonthChange"),X())}function A(e){return n.calendarContainer.contains(e)}function P(e){if(n.isOpen&&!n.config.inline){var t=dm(e),i=A(t),r=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!i&&!A(e.relatedTarget),o=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&o&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&a(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function M(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,i=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),W("onYearChange"),k())}}function I(e,t){var i;void 0===t&&(t=!0);var r=n.parseDate(e,void 0,t);if(n.config.minDate&&r&&vm(r,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&r&&vm(r,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;for(var o=!!n.config.enable,a=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable,s=0,l=void 0;s<a.length;s++){if("function"==typeof(l=a[s])&&l(r))return o;if(l instanceof Date&&void 0!==r&&l.getTime()===r.getTime())return o;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===r.getTime()?o:!o}if("object"==typeof l&&void 0!==r&&l.from&&l.to&&r.getTime()>=l.from.getTime()&&r.getTime()<=l.to.getTime())return o}return!o}function q(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function N(e){var t=e.target===n._input,i=n._input.value.trimEnd()!==Z();!t||!i||e.relatedTarget&&A(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function D(t){var r=dm(t),o=n.config.wrap?e.contains(r):r===n._input,l=n.config.allowInput,c=n.isOpen&&(!l||!o),d=n.config.inline&&o&&!l;if(13===t.keyCode&&o){if(l)return n.setDate(n._input.value,!0,r===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),r.blur();n.open()}else if(A(r)||c||d){var u=!!n.timeContainer&&n.timeContainer.contains(r);switch(t.keyCode){case 13:u?(t.preventDefault(),a(),H()):U(t);break;case 27:t.preventDefault(),H();break;case 8:case 46:o&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(u||o)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var h=i();if(void 0!==n.daysContainer&&(!1===l||h&&q(h))){var p=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),T(p),y(v(1),0)):y(void 0,p)}}break;case 38:case 40:t.preventDefault();var f=40===t.keyCode?1:-1;n.daysContainer&&void 0!==r.$i||r===n.input||r===n.altInput?t.ctrlKey?(t.stopPropagation(),M(n.currentYear-f),y(v(1),0)):u||y(void 0,7*f):r===n.currentYearElement?M(n.currentYear-f):n.config.enableTime&&(!u&&n.hourElement&&n.hourElement.focus(),a(t),n._debouncedChange());break;case 9:if(u){var m=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),g=m.indexOf(r);if(-1!==g){var b=m[g+(t.shiftKey?-1:1)];t.preventDefault(),(b||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(r)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&r===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],s(),Q();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],s(),Q()}(o||A(r))&&W("onKeyDown",t)}function O(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var i=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),r=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),o=Math.min(i,n.selectedDates[0].getTime()),a=Math.max(i,n.selectedDates[0].getTime()),s=!1,l=0,c=0,d=o;d<a;d+=km.DAY)I(new Date(d),!0)||(s=s||d>o&&d<a,d<r&&(!l||d>l)?l=d:d>r&&(!c||d<c)&&(c=d));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var o=t.dateObj.getTime(),a=l>0&&o<l||c>0&&o>c;if(a)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));s&&!a||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(i<=n.selectedDates[0].getTime()?"startRange":"endRange"),r<i&&o===r?t.classList.add("startRange"):r>i&&o===r&&t.classList.add("endRange"),o>=l&&(0===c||o<=c)&&ym(o,r,i)&&t.classList.add("inRange")))}))}}function L(){!n.isOpen||n.config.static||n.config.inline||j()}function $(e){return function(t){var i=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),r=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==i&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return I(e)})),n.selectedDates.length||"min"!==e||l(i),Q()),n.daysContainer&&(B(),void 0!==i?n.currentYearElement[e]=i.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!r&&void 0!==i&&r.getFullYear()===i.getFullYear())}}function R(){return n.config.wrap?e.querySelector("[data-input]"):e}function z(){"object"!=typeof n.config.locale&&void 0===Pm.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=Cm(Cm({},Pm.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Pm.l10ns[n.config.locale]:void 0),fm.D="("+n.l10n.weekdays.shorthand.join("|")+")",fm.l="("+n.l10n.weekdays.longhand.join("|")+")",fm.M="("+n.l10n.months.shorthand.join("|")+")",fm.F="("+n.l10n.months.longhand.join("|")+")",fm.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===Cm(Cm({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===Pm.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=gm(n),n.parseDate=bm({config:n.config,l10n:n.l10n})}function j(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){W("onPreCalendarPosition");var t=e||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),r=n.calendarContainer.offsetWidth,o=n.config.position.split(" "),a=o[0],s=o.length>1?o[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,d="above"===a||"below"!==a&&c<i&&l.top>i,u=window.pageYOffset+l.top+(d?-i-2:t.offsetHeight+2);if(om(n.calendarContainer,"arrowTop",!d),om(n.calendarContainer,"arrowBottom",d),!n.config.inline){var h=window.pageXOffset+l.left,p=!1,f=!1;"center"===s?(h-=(r-l.width)/2,p=!0):"right"===s&&(h-=r-l.width,f=!0),om(n.calendarContainer,"arrowLeft",!p&&!f),om(n.calendarContainer,"arrowCenter",p),om(n.calendarContainer,"arrowRight",f);var m=window.document.body.offsetWidth-(window.pageXOffset+l.right),g=h+r>window.document.body.offsetWidth,b=m+r>window.document.body.offsetWidth;if(om(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=u+"px",g)if(b){var v=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===v)return;var y=window.document.body.offsetWidth,_=Math.max(0,y/2-r/2),w=v.cssRules.length,k="{left:"+l.left+"px;right:auto;}";om(n.calendarContainer,"rightMost",!1),om(n.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+k,w),n.calendarContainer.style.left=_+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=m+"px";else n.calendarContainer.style.left=h+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function B(){n.config.noCalendar||n.isMobile||(k(),X(),w())}function H(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function U(e){e.preventDefault(),e.stopPropagation();var t=lm(dm(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var i=t,r=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),o=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){var a=K(r);a?n.selectedDates.splice(parseInt(a),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==vm(r,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(s(),o){var l=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),l&&(W("onYearChange"),k()),W("onMonthChange")}if(X(),w(),Q(),o||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():b(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,d="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||d)&&H()}h()}}n.parseDate=bm({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=u,n._setHoursFromDate=l,n._positionCalendar=j,n.changeMonth=T,n.changeYear=M,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var i=xm(n.config);c(i.hours,i.minutes,i.seconds)}n.redraw(),e&&W("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));W("onClose")},n.onMouseOver=O,n._createElement=am,n.createDay=g,n.destroy=function(){void 0!==n.config&&W("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(e){}}))},n.isEnabled=I,n.jumpToDate=p,n.updateValue=Q,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var i=dm(e);i&&i.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void W("onOpen")}if(n._input.disabled||n.config.inline)return;var r=n.isOpen;n.isOpen=!0,r||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),W("onOpen"),j(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=B,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(n.config,e),e)void 0!==F[i]&&F[i].forEach((function(e){return e()}));else n.config[e]=t,void 0!==F[e]?F[e].forEach((function(e){return e()})):Zf.indexOf(e)>-1&&(n.config[e]=rm(t));n.redraw(),Q(!0)},n.setDate=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);V(e,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),p(void 0,t),l(),0===n.selectedDates.length&&n.clear(!1);Q(t),t&&W("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var F={locale:[z,E],showMonths:[C,o,S],minDate:[p],maxDate:[p],positionElement:[Y],clickOpens:[function(){!0===n.config.clickOpens?(u(n._input,"focus",n.open),u(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function V(e,t){var i=[];if(e instanceof Array)i=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)i=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":i=[n.parseDate(e,t)];break;case"multiple":i=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":i=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((function(e){return e instanceof Date&&I(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function G(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function Y(){n._positionElement=n.config.positionElement||n._input}function W(e,t){if(void 0!==n.config){var i=n.config[e];if(void 0!==i&&i.length>0)for(var r=0;i[r]&&r<i.length;r++)i[r](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(J("change")),n.input.dispatchEvent(J("input")))}}function J(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function K(e){for(var t=0;t<n.selectedDates.length;t++){var i=n.selectedDates[t];if(i instanceof Date&&0===vm(i,e))return""+t}return!1}function X(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=hm(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),e.value=i.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function Z(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,i){return"range"!==n.config.mode||n.config.enableTime||i.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Q(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=Z(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=Z(n.config.altFormat)),!1!==e&&W("onValueUpdate")}function ee(e){var t=dm(e),i=n.prevMonthNav.contains(t),r=n.nextMonthNav.contains(t);i||r?T(i?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=Cm(Cm({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=o.parseDate,n.config.formatDate=o.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=G(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=G(e)}});var s="time"===o.mode;if(!o.dateFormat&&(o.enableTime||s)){var l=Pm.defaultConfig.dateFormat||Qf.dateFormat;a.dateFormat=o.noCalendar||s?"H:i"+(o.enableSeconds?":S":""):l+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||s)&&!o.altFormat){var c=Pm.defaultConfig.altFormat||Qf.altFormat;a.altFormat=o.noCalendar||s?"h:i"+(o.enableSeconds?":S K":" K"):c+" h:i"+(o.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:$("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:$("max")});var d=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:d("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:d("max")}),"time"===o.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,a,o);for(var u=0;u<i.length;u++)n.config[i[u]]=!0===n.config[i[u]]||"true"===n.config[i[u]];Zf.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=rm(n.config[e]||[]).map(r)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(u=0;u<n.config.plugins.length;u++){var h=n.config.plugins[u](n)||{};for(var p in h)Zf.indexOf(p)>-1?n.config[p]=rm(h[p]).map(r).concat(n.config[p]):void 0===o[p]&&(n.config[p]=h[p])}o.altInputClass||(n.config.altInputClass=R().className+" "+n.config.altInputClass);W("onParseConfig")}(),z(),function(){if(n.input=R(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=am(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");Y()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&V(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=am("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=am("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=am("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=am("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,C(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(om(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(om(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],X(),n.monthNav)),n.innerContainer=am("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=am("div","flatpickr-weekwrapper");e.appendChild(am("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=am("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),i=t.weekWrapper,r=t.weekNumbers;n.innerContainer.appendChild(i),n.weekNumbers=r,n.weekWrapper=i}n.rContainer=am("div","flatpickr-rContainer"),n.rContainer.appendChild(S()),n.daysContainer||(n.daysContainer=am("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=xm(n.config);n.timeContainer=am("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=am("span","flatpickr-time-separator",":"),i=cm("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];var r=cm("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=tm(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=tm(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(t),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var o=cm("flatpickr-second");n.secondElement=o.getElementsByTagName("input")[0],n.secondElement.value=tm(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(am("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(o)}n.config.time_24hr||(n.amPM=am("span","flatpickr-am-pm",n.l10n.amPM[nm((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());om(n.calendarContainer,"rangeMode","range"===n.config.mode),om(n.calendarContainer,"animate",!0===n.config.animate),om(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var o=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!o&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var a=am("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(a,n.element),a.appendChild(n.element),n.altInput&&a.appendChild(n.altInput),a.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return u(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=am("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}u(n.mobileInput,"change",(function(e){n.setDate(dm(e).value,!1,n.mobileFormatStr),W("onChange"),W("onClose")}))}();var e=im(L,50);n._debouncedChange=im(h,Em),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&u(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&O(dm(e))}));u(n._input,"keydown",D),void 0!==n.calendarContainer&&u(n.calendarContainer,"keydown",D);n.config.inline||n.config.static||u(window,"resize",e);void 0!==window.ontouchstart?u(window.document,"touchstart",P):u(window.document,"mousedown",P);u(window.document,"focus",P,{capture:!0}),!0===n.config.clickOpens&&(u(n._input,"focus",n.open),u(n._input,"click",n.open));void 0!==n.daysContainer&&(u(n.monthNav,"click",ee),u(n.monthNav,["keyup","increment"],d),u(n.daysContainer,"click",U));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return dm(e).select()};u(n.timeContainer,["increment"],a),u(n.timeContainer,"blur",a,{capture:!0}),u(n.timeContainer,"click",f),u([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&u(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&u(n.amPM,"click",(function(e){a(e)}))}n.config.allowInput&&u(n._input,"blur",N)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Q(!1)),o();var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&i&&j(),W("onReady")}(),n}function Am(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=Tm(o,t||{}),i.push(o._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return Am(this,e)},HTMLElement.prototype.flatpickr=function(e){return Am([this],e)});var Pm=function(e,t){return"string"==typeof e?Am(window.document.querySelectorAll(e),t):e instanceof Node?Am([e],t):Am(e,t)};Pm.defaultConfig={},Pm.l10ns={en:Cm({},em),default:Cm({},em)},Pm.localize=function(e){Pm.l10ns.default=Cm(Cm({},Pm.l10ns.default),e)},Pm.setDefaults=function(e){Pm.defaultConfig=Cm(Cm({},Pm.defaultConfig),e)},Pm.parseDate=bm({}),Pm.formatDate=gm({}),Pm.compareDates=vm,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return Am(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=Pm);window.customElements.define("ion-datetime",class extends pe{static get styles(){return[qd,p`
        :host {
          display: block;
          box-sizing: border-box;
        }
      `]}static get properties(){return{label:{type:String},value:{type:String},min:{type:String},max:{type:String},default:{type:String},readonly:{type:Boolean},disabled:{type:Boolean}}}constructor(){super(),this.label="",this.readonly=!1,this.disabled=!1,this._min="",this._max="",this._value="",this._elementId=`ion-${e.createGuid()}`}get value(){return this._value}set value(t){e.defined(this._flatpickr)&&this._flatpickr.setDate(t),this._value=t}get min(){return this._min}set min(t){e.defined(this._flatpickr)&&this._flatpickr.set("minDate",t),this._min=t}get max(){return this._max}set max(t){e.defined(this._flatpickr)&&this._flatpickr.set("maxDate",t),this._max=t}firstUpdated(){const e=this.shadowRoot.querySelector(`#${this._elementId}`);this._flatpickr=Pm(e,{minDate:this.min,maxDate:this.max,defaultDate:this._value,disableMobile:"true",enableTime:!0,enableSeconds:!0,dateFormat:"M d Y G:i:S K",onChange:this._onChange.bind(this)})}_onChange(e){const t=e[0].toISOString();this._value!==t&&(this._value=t,this.dispatchEvent(new CustomEvent("input",{detail:{value:this._value}})))}render(){return G`
            ${""!==this.label?G`<label for="${this._elementId}">${this.label}</label>`:""}
            <input class="ion-form-input" type="text" id="${this._elementId}" ?readonly=${this.readonly} ?disabled=${this.disabled}></div>
        `}});class Mm extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          display: flex;
          flex-direction: column;
          width: 100%;
          overflow-y: auto;
        }

        .slide-index {
          float: left;
          width: 12px;
          margin-right: 3px;
          text-align: right;
          font-size: var(--font-size-small);
        }
        .slide-tile-row {
          padding-top: 0.4rem;
          padding-bottom: 0.4rem;
          padding-left: 0.4rem;
          padding-right: 1rem;
          border-top: 2px solid transparent;
        }
        .slide-tile-row:last-child {
          border-bottom: 2px solid transparent;
        }
        .slide-tile-row.active {
          background-color: var(--brand-primary-tint);
        }
        .slide-tile-row.active > .slide-tile {
          border-color: var(--brand-primary);
        }
        .slide-tile-row.drag-before {
          border-top: 2px solid var(--brand-primary);
        }
        .slide-tile-row.drag-after + .slide-tile-row {
          border-top: 2px solid var(--brand-primary);
        }
        .slide-tile-row.drag-after:last-child {
          border-bottom: 2px solid var(--brand-primary);
        }

        .slide-tile {
          cursor: pointer;
          border-radius: var(--border-radius);
          overflow: hidden;
          transition: box-shadow var(--transition-time) ease-out,
            border-color var(--transition-time) ease-out;
          border: 2px solid transparent;
          position: relative;
        }
        .slide-tile:hover {
          box-shadow: 0 0 10px var(--shadow-color);
          border-color: rgba(45, 58, 66, 0.4);
        }

        .slide-tile-inner {
          background-color: var(--container-bg);
        }

        .slide-tile img {
          display: block;
          width: 100%;
        }
        .slide-tile .name {
          padding: 0.25rem;
          text-align: center;
        }
        #dragContainer {
          position: absolute;
          top: -50px;
          height: 25px;
        }

        .delete-menu-item {
          background-color: var(--container-bg);
          padding: 0.5rem 1rem;
          cursor: pointer;
        }
        .delete-menu-item:hover {
          background-color: var(--brand-danger-bg);
        }
        .delete-menu-item svg {
          height: 1rem;
          width: 1rem;
        }
      `]}static get properties(){return{slides:{type:Object},currentIndex:{type:Number}}}constructor(){super(),this._slides={byId:{},ids:[]},this._contextMenuIndex=0,this._openMenu=this._openMenu.bind(this),this._currentIndex=0}get slides(){return this._slides}set slides(e){this._slides=e,this.requestUpdate()}get currentIndex(){return this._currentIndex}set currentIndex(e){this._currentIndex=e,this.requestUpdate()}firstUpdated(){const e=this.shadowRoot.getElementById("dragthing");e.height=25,e.width=95;const t=e.getContext("2d");t.fillStyle="#2D3A42",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font='14px "Lato", Arial',t.fillText("Move slide",10,17)}render(){return e.defined(this._slides)?G`
      <cesium-draggable-list @reorder=${this._onReorder}
        ><div id="dragContainer" slot="dragthing">
          <canvas id="dragthing"></canvas>
        </div>
        ${this._renderSlideFrames()}</cesium-draggable-list
      >
      <ion-context-menu>
        <div class="delete-menu-item" @click=${this._deleteSlideMenuClick}>
          <span>${ld.node}</span> Delete slide
        </div>
      </ion-context-menu>
    `:G``}_renderSlideFrames(){const t=this._slides.byId,n=this._slides.ids;return G`${Ul(n,(e=>e),((n,i)=>G`
        <div
          id="slide${i}"
          class="slide-tile-row ${this.currentIndex===i?" active":""}"
        >
          <span class="slide-index">${i+1}</span>
          <div
            class="slide-tile"
            data-slide-index=${i}
            @click=${this._onSlideTileClick}
            @contextmenu=${this._openMenu}
          >
            <div class="slide-tile-inner">
              <img
                class="thumbnail"
                src="${e.defined(t[n].thumbnail)?t[n].thumbnail:"../../Images/home.jpg"}"
                draggable="false"
              />
              <div class="name">${t[n].name}</div>
            </div>
          </div>
        </div>
      `))}`}_onReorder(e){const t=e.detail.oldIndex,n=e.detail.newIndex,i=this._slides.ids.slice(),r=i.splice(t,1)[0];var o;i.splice(n,0,r),Al.dispatch((o=i,async(e,t)=>{const n=t(),i=n.story,r=i.id,a=i.slides.ids[n.app.activeSlideIndex],s=o.indexOf(a);$s(t,(()=>ms(r,{slideIds:o})),e),e({type:Jr,slideIds:o}),e({type:eo,index:s})}))}_onSlideTileClick(e){const t=Number(e.currentTarget.getAttribute("data-slide-index"));Al.dispatch(so(t))}_openMenu(e){this._slides.ids.length<=1||(this._contextMenuIndex=Number(e.currentTarget.getAttribute("data-slide-index")),2===e.buttons&&(e.preventDefault(),e.stopPropagation(),this.shadowRoot.querySelector("ion-context-menu").open(e.clientX,e.clientY)))}_deleteSlideMenuClick(){Al.dispatch(Us(this._slides.ids[this._contextMenuIndex])),this.shadowRoot.querySelector("ion-context-menu").close()}stateChanged(e){this.slides=e.story.slides,this.currentIndex=e.app.activeSlideIndex}}window.customElements.define("ion-filmstrip",Mm);window.customElements.define("ion-split-button",class extends pe{static get styles(){return[ql,p`
        :host {
          display: inline-block;
        }
        ion-button svg {
          height: 1rem;
          width: 1rem;
          margin: 0;
        }

        #defaultButton {
          display: inline-block;
          padding: 0;
          margin: 0;
          --border-radius: 5px 0 0 5px;
        }
        #menuButton {
          display: inline-block;
          margin: 0;
          padding: 0;
          text-align: center;
          --border-radius: 0 5px 5px 0;
          --button-padding: 5.6px 6px 5.6px 6px;
          --border-width: 1px 1px 1px 0;
        }
      `]}static get properties(){return{buttonText:{type:String},theme:{type:String},active:{type:Boolean}}}constructor(){super(),this.buttonText="",this.theme="default",this.active=!1,this._documentPointerDown=this._documentPointerDown.bind(this),this.defaultAction=void 0}_documentPointerDown(e){-1===e.composedPath().indexOf(this)&&this.hideMenu()}hideMenu(){this.active=!1,this.requestUpdate(),document.removeEventListener("pointerdown",this._documentPointerDown)}showMenu(){this.active=!0,this.requestUpdate(),document.addEventListener("pointerdown",this._documentPointerDown)}_toggleMenu(e){e.stopPropagation(),this.active?this.hideMenu():this.showMenu()}render(){return G`
      <ion-button
        id="defaultButton"
        .theme=${this.theme}
        @click="${this.defaultAction}"
        >${this.buttonText}</ion-button
      ><ion-button
        id="menuButton"
        @pointerup=${this._toggleMenu}
        .theme=${this.theme}
        >${wd.node}</ion-button
      >
      <cesium-popover
        anchor="defaultButton"
        direction="down"
        .open=${this.active}
      >
        <slot></slot>
      </cesium-popover>
    `}});window.customElements.define("ion-number-field",class extends pe{static get styles(){return[qd]}static get properties(){return{label:{type:String},value:{type:Number},readonly:{type:Boolean},disabled:{type:Boolean},min:{type:Number},max:{type:Number},step:{type:Number}}}constructor(){super(),this.label="",this.readonly=!1,this.disabled=!1,this.min=null,this.max=null,this.step=1,this.value=0,this._elementId=`ion-${e.createGuid()}`}checkValidity(){const t=this.shadowRoot.querySelector(`#${this._elementId}`).valueAsNumber;return isNaN(t)||e.defined(this.min)&&t<this.min||e.defined(this.max)&&t>this.max?(this.makeInvalid(),!1):(this.clearValidation(),!0)}makeInvalid(){this.shadowRoot.querySelector(`#${this._elementId}`).classList.add("invalid")}clearValidation(){this.shadowRoot.querySelector(`#${this._elementId}`).classList.remove("invalid")}select(){const t=this.shadowRoot.querySelector(`#${this._elementId}`);e.defined(t)&&t.select()}render(){return G`
      ${""!==this.label?G`<label for="${this._elementId}">${this.label}</label>`:""}
      <input
        id="${this._elementId}"
        class="ion-form-input"
        type="number"
        .value="${this.value}"
        min=${this.min}
        max=${this.max}
        step=${this.step}
        ?readonly=${this.readonly}
        ?required=${this.required}
        ?disabled=${this.disabled}
        @focus=${this.clearValidation}
        @input=${this._onInput}
      />
    `}_onInput(e){const t=""===e.target.value?NaN:Number(e.target.value);isNaN(t)||(this.value=t,this.dispatchEvent(new CustomEvent("input",{detail:{value:this.value}})))}});window.customElements.define("ion-wysiwyg-editor",class extends pe{static get styles(){return[p`
        #editorFrame {
          height: 250px;
          min-height: 216px; /* See https://github.com/CesiumGS/cesium-ion/issues/4833 */
          border: none;
          width: 100%;
          resize: vertical;
          padding: 0px;
          margin: 0px;
        }
      `]}static get properties(){return{value:{type:Object}}}constructor(){super(),this._value=""}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;const n=this.shadowRoot?.querySelector("#editorFrame");e.defined(n)&&n.contentWindow.postMessage({value:t},window.location.origin,[])}}firstUpdated(){window.addEventListener("message",(t=>{const n=t.data,i=n.value;if(e.defined(i))return void(JSON.stringify(this._value)!==JSON.stringify(i)&&(this._value=i,this.dispatchEvent(new CustomEvent("input",{detail:{value:this._value}}))));const r=n.error;e.defined(r)&&Al.dispatch(co("error",r))}),!1)}render(){return G`
      <iframe
        id="editorFrame"
        src="components/ion-wysiwyg-editor/editor.html"
        @load=${this._iframeLoaded}
      ></iframe>
    `}_iframeLoaded(e){e.target.contentWindow.postMessage({imageCredentialsEndpoint:vs()},window.location.origin,[]),e.target.contentWindow.postMessage({value:this._value},window.location.origin,[])}});class Im extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          display: flex;
          flex-direction: row;
        }
        .panel {
          height: 100%;
          overflow-y: auto;
        }
        h3 {
          margin-bottom: 0.25rem;
        }
        #filmstripPanel {
          width: 11rem;
          flex-grow: 0;
          flex-shrink: 0;
        }
        #filmstripPanel > ion-button {
          margin-left: 1rem;
        }
        .menu-item {
          background-color: var(--container-bg);
          padding: 0.5rem 1rem;
          cursor: pointer;
        }
        .menu-item:hover {
          background-color: var(--brand-primary-tint);
        }

        #editPanel {
          flex-grow: 1;
          border-left: 1px solid var(--border-color);
          border-right: 1px solid var(--border-color);
          padding: 1rem;
        }
        #toolbar {
          position: sticky;
          bottom: 0;
          width: 100%;
          background-color: var(--body-bg);
          text-align: center;
        }

        #deleteSlide {
          height: 1rem;
          width: 1rem;
          float: right;
        }
        label {
          color: var(--text-color);
          font-size: var(--font-size-large);
          vertical-align: middle;
        }
        #duration {
          display: inline-block;
          width: 5rem;
          vertical-align: bottom;
          margin-right: 5px;
        }
        #clearBackgroundImage {
          height: 1rem;
          width: 1rem;
        }
        #backgroundImage {
          width: 0.1px;
          height: 0.1px;
          opacity: 0;
          overflow: hidden;
          position: absolute;
          z-index: -1;
        }
        #backgroundImage + label {
          font-family: var(--font-family);
          font-size: var(--font-size);
          font-weight: normal;
          display: inline-block;
          text-align: center;
          white-space: nowrap;
          vertical-align: middle;
          border: 1px solid transparent;
          padding: var(--button-padding, 0.4rem 1rem);
          user-select: none;
          line-height: 1.35;
          border-radius: var(--border-radius);
          cursor: pointer;
          color: var(--text-light);
          fill: var(--text-light);
          background-color: var(--brand-primary);
          border-color: var(--brand-primary-shade);
        }
        #backgroundImage:focus + label {
          outline: 0;
        }
        #backgroundImage + label:hover {
          background-color: var(--brand-primary-shade);
        }
        #backgroundImage + label:active {
          background-color: var(--brand-primary-dark);
        }
        #backgroundImage:disabled + label {
          background-color: var(--gray-light);
          color: var(--text-muted);
          border-color: transparent;
          cursor: default;
        }

        #backgroundContainer {
          display: flex;
          flex-direction: column;
        }

        #backgroundContainer > div {
          padding-top: 6px;
        }

        cesium-color-picker {
          vertical-align: middle;
        }

        ion-loading-icon {
          display: inline-block;
          vertical-align: middle;
          width: 1.5rem;
          height: 1.5rem;
        }
      `]}static get properties(){return{_uploadingImage:{type:Boolean}}}constructor(){super(),this._slideState=void 0,this._activeSlideIndex=void 0,this._activeSlide=void 0,this._timeDynamic=!1,this._minimumTime=e.Iso8601.MINIMUM_VALUE.clone(),this._maximumTime=e.Iso8601.MAXIMUM_VALUE.clone(),this._uploadingImage=!1,this._backgroundColor=void 0}onTimelineChanged(t){if(this._timeDynamic=t.visible,this._minimumTime=t.start.clone(),this._maximumTime=t.stop.clone(),t.visible){if(e.defined(this._activeSlide.startTime)){const t=e.JulianDate.fromIso8601(this._activeSlide.startTime);let n=t;(e.JulianDate.compare(t,this._minimumTime)<0||e.JulianDate.compare(t,this._maximumTime)>0)&&(n=this._minimumTime);const i=e.JulianDate.fromIso8601(this._activeSlide.stopTime);let r=i;(e.JulianDate.compare(i,this._minimumTime)<0||e.JulianDate.compare(i,this._maximumTime)>0)&&(r=this._maximumTime),n===t&&r===i||requestAnimationFrame((()=>{Al.dispatch(Bs(this._activeSlide.id,{startTime:e.JulianDate.toIso8601(n),stopTime:e.JulianDate.toIso8601(r),duration:this._activeSlide.duration})),this.dispatchEvent(new CustomEvent("updateAnimation",{detail:{slide:this._activeSlide}}))}))}else requestAnimationFrame((()=>{Al.dispatch(Bs(this._activeSlide.id,{startTime:e.JulianDate.toIso8601(this._minimumTime),stopTime:e.JulianDate.toIso8601(this._maximumTime),duration:this._activeSlide.duration})),this.dispatchEvent(new CustomEvent("updateAnimation",{detail:{slide:this._activeSlide}}))}));this.requestUpdate()}}render(){return G`
      <div id="filmstripPanel" class="panel">
        <ion-filmstrip></ion-filmstrip>
        <div id="toolbar">
          <ion-split-button
            buttonText="New Slide"
            theme="primary"
            .defaultAction=${this._onAddSlide}
          >
            <div class="menu-item" @click=${this._onAddSlide}>Map slide</div>
            <div class="menu-item" @click=${this._onAddNonMapSlide}>
              Fullscreen slide
            </div>
          </ion-split-button>
        </div>
      </div>
      <div id="editPanel" class="panel">
        ${e.defined(this._activeSlide)?G` <ion-delete-icon-button
                id="deleteSlide"
                ?hidden=${1===this._slideState.ids.length}
                @delete=${this._onDeleteSlideEvent}
                message="Delete slide"
              ></ion-delete-icon-button>
              <h3>Title</h3>
              <ion-textfield
                id="title"
                class="margin-bottom"
                .value=${this._activeSlide.name}
                @input=${this._onTitleChange}
              ></ion-textfield>
              <h3>Infobox</h3>
              <div class="margin-bottom">
                <ion-wysiwyg-editor
                  id="description"
                  .value=${this._activeSlide.description}
                  @input=${this._onDescriptionChange}
                ></ion-wysiwyg-editor>
              </div>
              ${this.renderSlideOptions()} ${this.renderAnimationSettings()}`:G``}
      </div>
    `}renderSlideOptions(){return this._activeSlide.type===Lr.SlideType.MAP?G`<ion-asset-manager
        class="margin-bottom"
      ></ion-asset-manager>`:G`
      <div id="backgroundContainer">
        <h3>Background</h3>
        <div>
          <div class="margin-bottom">
            ${e.defaultValue(this._activeSlide.backgroundImageName,"No background image selected")}
            <ion-delete-icon-button
              id="clearBackgroundImage"
              title="Clear Image"
              message="Clear image"
              ?hidden=${!e.defined(this._activeSlide.backgroundImage)}
              @delete=${this._onDeleteBackgroundImage}
            ></ion-delete-icon-button>
          </div>
          <input
            type="file"
            id="backgroundImage"
            accept="image/png,image/jpeg,image/gif"
            .disabled=${this._uploadingImage}
            @change=${this._onBackgroundImageChange}
          />
          <label for="backgroundImage"
            >${e.defined(this._activeSlide.backgroundImage)?"Replace image...":"Choose image..."}</label
          >
          <ion-loading-icon .hidden=${!this._uploadingImage}></ion-loading-icon>
        </div>

        <div class="margin-bottom">
          <label for="backgroundColor">Background color</label>
          <cesium-color-picker
            id="backgroundColor"
            @change=${this._onBackgroundColorChange}
            .value=${this._backgroundColor}
            hideAlpha
          ></cesium-color-picker>
        </div>
      </div>
    `}renderAnimationSettings(){if(!this._timeDynamic||this._activeSlide.type!==Lr.SlideType.MAP)return G`
        <div
          title="The number of seconds to display this
slide when presenting in slideshow mode"
        >
          <h3>Slideshow duration</h3>
          <ion-number-field
            id="duration"
            .min=${1}
            .value=${this._activeSlide.duration}
            @input=${this._onDurationChange}
          ></ion-number-field
          ><span>seconds</span>
        </div>
      `;const t=e.JulianDate.toIso8601(this._minimumTime),n=e.JulianDate.toIso8601(this._maximumTime);return G`
      <div>
        <h3 class="margin-bottom">Animation settings</h3>
        <ion-datetime
          id="start-time"
          .label=${"Start time"}
          class="margin-bottom"
          .min=${t}
          .max=${n}
          .value=${this._activeSlide.startTime}
          @input=${this._onStartTimeChange}
        ></ion-datetime>
        <ion-datetime
          id="stop-time"
          .label=${"Stop time"}
          class="margin-bottom"
          .min=${t}
          .max=${n}
          .value=${this._activeSlide.stopTime}
          @input=${this._onStopTimeChange}
        ></ion-datetime>
        <ion-number-field
          id="duration"
          .label=${"Play time"}
          .min=${1}
          .value=${this._activeSlide.duration}
          @input=${this._onDurationChange}
        ></ion-number-field
        ><span>seconds</span>
      </div>
    `}_onTitleChange(e){const t=e.target;Al.dispatch(Bs(this._activeSlide.id,{name:t.value}))}_onDescriptionChange(t){Al.dispatch(Bs(this._activeSlide.id,{description:t.target.value})),this._activeSlide.type!==Lr.SlideType.FULLSCREEN||e.defined(this._activeSlide.backgroundImage)||this.dispatchEvent(new CustomEvent("captureThumbnail"))}_onDeleteBackgroundImage(){Al.dispatch(Bs(this._activeSlide.id,{backgroundImage:null,backgroundImageName:null})),this.dispatchEvent(new CustomEvent("captureThumbnail"))}async _onBackgroundImageChange(e){if(0===e.target.files.length)return;const t=e.target.files[0];if(/^image\/(png|jpeg|gif)$/.test(t.type))if(t.size>10485760)Al.dispatch(co("backgroundImageError","Images must be under 10 MB."));else{this._uploadingImage=!0;try{const e=new URLSearchParams;e.set("type",t.type);const n=await fetch(`${vs()}?${e.toString()}`,{credentials:"include"}),i=await n.json(),r=new FormData;Object.entries(i.fields).forEach((([e,t])=>{r.append(e,t)})),r.append("file",t);const o=await fetch(i.url,{method:"POST",body:r});if(!o.ok){this._uploadingImage=!1;const e=(new window.DOMParser).parseFromString(await o.text(),"text/xml").getElementsByTagName("Message")[0].textContent;return void Al.dispatch(co("backgroundImageError",e))}this.shadowRoot.querySelector("#backgroundImage").value="",Al.dispatch(Bs(this._activeSlide.id,{backgroundImageName:t.name,backgroundImage:i.assetsUrl}))}catch(e){return this._uploadingImage=!1,void Al.dispatch(co("backgroundImageError","Failed to upload image. Check your connection and try again."))}this._uploadingImage=!1,this.dispatchEvent(new CustomEvent("captureThumbnail"))}else Al.dispatch(co("backgroundImageError","Unsupported image format: Try again with a GIF, JPEG, JPG or PNG."))}_onBackgroundColorChange(e){Al.dispatch(Bs(this._activeSlide.id,{backgroundColor:e.target.value.toCssColorString()})),this.dispatchEvent(new CustomEvent("captureThumbnail"))}_onStartTimeChange(e){Al.dispatch(Bs(this._activeSlide.id,{startTime:e.detail.value})),this.dispatchEvent(new CustomEvent("updateAnimation",{detail:{slide:this._activeSlide}}))}_onStopTimeChange(e){Al.dispatch(Bs(this._activeSlide.id,{stopTime:e.detail.value})),this.dispatchEvent(new CustomEvent("updateAnimation",{detail:{slide:this._activeSlide}}))}_onDurationChange(e){const t=e.target;t.checkValidity()&&(Al.dispatch(Bs(this._activeSlide.id,{duration:Number(t.value)})),this.dispatchEvent(new CustomEvent("updateAnimation",{detail:{slide:this._activeSlide}})))}_onAddNonMapSlide(){this.dispatchEvent(new CustomEvent("addSlide",{bubbles:!0,composed:!0,detail:{name:"Untitled",type:Lr.SlideType.FULLSCREEN}}));const t=this.shadowRoot?.querySelector("ion-split-button");e.defined(t)&&t.hideMenu()}_onAddSlide(){this.dispatchEvent(new CustomEvent("addSlide",{bubbles:!0,composed:!0,detail:{name:"Untitled",type:Lr.SlideType.MAP}}));const t=this.shadowRoot?.querySelector("ion-split-button");e.defined(t)&&t.hideMenu()}_onDeleteSlideEvent(){Al.dispatch(Us(this._activeSlide.id))}stateChanged(t){let n=!1;if(t.story.slides!==this._slideState&&(this._slideState=t.story.slides,n=!0),t.app.activeSlideIndex!==this._activeSlideIndex&&(this._activeSlideIndex=t.app.activeSlideIndex,n=!0),n){const t=this._slideState;this._activeSlide=t.byId[t.ids[this._activeSlideIndex]],this._activeSlide.type===Lr.SlideType.FULLSCREEN&&(this._backgroundColor=e.Color.fromCssColorString(this._activeSlide.backgroundColor)),this.requestUpdate()}}}window.customElements.define("ion-slide-manager",Im);class qm extends(gr(Al)(pe)){static get styles(){return[ql,p`
        h3 {
          margin-bottom: 5px;
        }
      `]}static get properties(){return{unit:{type:String}}}constructor(){super(),this.unit=""}render(){return G`
      <h1>Settings</h1>

      <h3>Units</h3>
      <div>
        <input
          id="metric"
          type="radio"
          name="units"
          value="${Lr.DistanceUnitSystems.METRIC}"
          ?checked=${this.unit===Lr.DistanceUnitSystems.METRIC}
          @change=${this._handleUnit}
        />
        <label for="metric">Metric</label>

        <input
          type="radio"
          id="usCustomary"
          name="units"
          value="${Lr.DistanceUnitSystems.US_CUSTOMARY}"
          ?checked=${this.unit===Lr.DistanceUnitSystems.US_CUSTOMARY}
          @change=${this._handleUnit}
        />
        <label for="usCustomary">US Customary</label>
      </div>
    `}_handleUnit(e){Al.dispatch(Ys({unit:e.target.value}))}stateChanged(e){e.story.unit!==this.unit&&(this.unit=e.story.unit)}}window.customElements.define("ion-story-settings",qm);window.customElements.define("ion-style-chooser-panel",class extends pe{static get styles(){return[ql,p`
        :host {
          padding: 1rem;
          height: 100%;
          overflow-y: auto;
        }
      `]}static get properties(){return{assetId:{type:Number},selectedType:{type:String},graduatedHidden:{type:Boolean},canStyle:{type:Boolean}}}constructor(){super(),this._assetId=void 0,this.assetMetadata=void 0,this.properties=void 0,this.selectedType=Lr.StyleType.CATEGORIZED,this.selectedPropetyName=void 0,this.canStyle=!0,this.graduatedHidden=!1,this.mapViewer=void 0}get assetId(){return this._assetId}set assetId(e){this._assetId=e,this.assetMetadata=Al.getState().story.assets.byId[e],this.properties=this.assetMetadata.ionExtras.styleableProperties}render(){if(!e.defined(this.assetMetadata))return G``;const t=Object.keys(this.properties).map((e=>({name:e,id:e})));return G`
      <h1>Create style</h1>
      <div>
        <ion-button theme="primary" class="margin-bottom" @click=${this.flyTo}
          >Zoom to tileset</ion-button
        >
      </div>
      <div class="margin-bottom">
        <h2>Choose a property</h2>
        <ion-select
          .values=${t}
          @change=${this._onPropertyChange}
        ></ion-select>
      </div>
      <div class="margin-bottom" ?hidden=${!this.canStyle}>
        <h2>${this.graduatedHidden?"Style type":"Choose style type"}</h2>
        <div>
          <input
            id="categorized"
            type="radio"
            name="type"
            value="${Lr.StyleType.CATEGORIZED}"
            @change=${this._selectType}
            ?checked=${this.graduatedHidden||this.selectedType===Lr.StyleType.CATEGORIZED}
          />
          <label for="categorized">Categorized</label>
          <input
            type="radio"
            id="graduated"
            name="type"
            value="${Lr.StyleType.GRADUATED}"
            @change=${this._selectType}
            ?checked=${!this.graduatedHidden&&this.selectedType===Lr.StyleType.GRADUATED}
            ?hidden=${this.graduatedHidden}
          />
          <label for="graduated" ?hidden=${this.graduatedHidden}
            >Graduated</label
          >
        </div>
        <div class="alert alert-info">
          ${this.selectedType===Lr.StyleType.CATEGORIZED?"Use colors to represent different categories, such as zoning type or point class":"Use color to represent your numerical or ranked data, such as point intensity or building height"}
        </div>
      </div>
      <div class="margin-bottom" ?hidden=${this.canStyle}>
        <div class="alert alert-danger">This property is not styleable</div>
      </div>
      <div class="Margin-bottom">
        <ion-button
          theme="primary"
          @click=${this.next}
          ?disabled=${!this.canStyle}
          >Next</ion-button
        ><ion-button @click=${this.close}>Cancel</ion-button>
      </div>
    `}_onPropertyChange(t){this.selectedPropertyName=t.target.value;const n=this.properties[this.selectedPropertyName];if(Array.isArray(n)){const t=typeof n.find((t=>e.defined(t)));this.graduatedHidden="number"!==t,this.canStyle="number"===t||"string"===t}else this.graduatedHidden=!1,this.canStyle="SCALAR"===n.type}_selectType(e){this.selectedType=e.target.value}flyTo(){e.defined(this.mapViewer)&&this.mapViewer.zoomToAsset(this._assetId)}next(){this.dispatchEvent(new CustomEvent("close",{detail:{property:this.shadowRoot.querySelector("ion-select").value,styleType:this.selectedType}}))}close(){this.dispatchEvent(new CustomEvent("close"))}});class Nm{constructor(t,n){this._position=e.defaultValue(t,0),this._color=e.Color.clone(n),this.modified=new e.Event,this.percent=!1,this.id=e.createGuid()}get position(){return this.percent?100*this._position:this._position}get truePosition(){return this._position}get truncatedPosition(){return parseFloat(this.position.toFixed(2))}set position(e){e!==this._position&&(this.percent?this._position=.01*e:this._position=e,this.modified.raiseEvent())}get color(){return this._color}set color(t){(function(t,n){return e.Color.floatToByte(t.red)===e.Color.floatToByte(n.red)&&e.Color.floatToByte(t.green)===e.Color.floatToByte(n.green)&&e.Color.floatToByte(t.blue)===e.Color.floatToByte(n.blue)&&e.Color.floatToByte(t.alpha)===e.Color.floatToByte(n.alpha)})(this._color,t)||(e.Color.clone(t,this._color),this.modified.raiseEvent())}static byPosition(e,t){return e.position-t.position}}class Dm{constructor(t,n){t=e.defaultValue(t,[]),n=e.defaultValue(n,[]);const i=t.length,r=new Array(i);for(let e=0;e<i;e++){const i=new Nm(t[e],n[e]);i.modified.addEventListener(Dm.prototype._raiseModified,this),r[e]=i}this.controlPoints=r,r.sort(Nm.byPosition);const o=r[0].position,a=r[r.length-1].position;this._min=o,this._max=a,this._inverseRange=1/(a-o),this._percent=!1,this.modified=new e.Event}_raiseModified(){const e=this.controlPoints;e.sort(Nm.byPosition);const t=e.length;this._min=e[0].position,this._max=e[t-1].position,this._inverseRange=1/(this._max-this._min),this.modified.raiseEvent()}set percent(e){const t=this._percent;if(t===e)return;this._percent=e;const n=this.controlPoints,i=n.length;for(let t=0;t<i;t++)n[t].percent=e;let r=this._min,o=this._max;t?(r*=.01,o*=.01):(r*=100,o*=100),this._min=r,this._max=o,this._inverseRange=1/(o-r)}get minimum(){return this._min}get maximum(){return this._max}setContents(e,t){const n=e.length,i=this.controlPoints,r=i.length;for(let e=0;e<r;++e){const e=i[0];this._remove(e)}for(let i=0;i<n;++i)this._add(new Nm(e[i],t[i]));this._raiseModified()}_add(e){e.modified.addEventListener(Dm.prototype._raiseModified,this),this.controlPoints.push(e)}add(e,t){this._percent&&(e*=.01);const n=new Nm(e,t);n.percent=this._percent,this._add(n),this._raiseModified()}_remove(e){const t=this.controlPoints,n=t.length;let i=-1;for(let r=0;r<n;r++)if(t[r]===e){i=r;break}return-1!==i&&(t.splice(i,1),e.modified.removeEventListener(Dm.prototype._raiseModified),!0)}remove(e){if(this.controlPoints.length<3)return;const t=this._remove(e);return this._raiseModified(),t}getColorsArray(){const t=this.controlPoints,n=t.length,i=new Array(n);for(let r=0;r<n;r++)i[r]=e.Color.clone(t[r].color);return i}getPositionsArray(){const e=this.controlPoints,t=e.length,n=new Array(t).fill(0);for(let i=0;i<t;i++)n[i]=e[i].truePosition;return n}normalize(e){return(e-this._min)*this._inverseRange}}const Om=!(window.ShadyDOM&&window.ShadyDOM.inUse);let Lm,$m;function Rm(e){Lm=(!e||!e.shimcssproperties)&&(Om||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&($m=window.ShadyCSS.cssBuild);const zm=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Lm=window.ShadyCSS.nativeCss:window.ShadyCSS?(Rm(window.ShadyCSS),window.ShadyCSS=void 0):Rm(window.WebComponents&&window.WebComponents.flags);const jm=Lm;class Bm{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function Hm(e){return Um(function(e){let t=new Bm;t.start=0,t.end=e.length;let n=t;for(let i=0,r=e.length;i<r;i++)if(e[i]===Gm){n.rules||(n.rules=[]);let e=n,t=e.rules[e.rules.length-1]||null;n=new Bm,n.start=i+1,n.parent=e,n.previous=t,e.rules.push(n)}else e[i]===Ym&&(n.end=i+1,n=n.parent||t);return t}(e=e.replace(Wm.comments,"").replace(Wm.port,"")),e)}function Um(e,t){let n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){let i=e.previous?e.previous.end:e.parent.start;n=t.substring(i,e.start-1),n=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e}))}(n),n=n.replace(Wm.multipleSpaces," "),n=n.substring(n.lastIndexOf(";")+1);let r=e.parsedSelector=e.selector=n.trim();e.atRule=0===r.indexOf(Xm),e.atRule?0===r.indexOf(Km)?e.type=Vm.MEDIA_RULE:r.match(Wm.keyframesRule)&&(e.type=Vm.KEYFRAMES_RULE,e.keyframesName=e.selector.split(Wm.multipleSpaces).pop()):0===r.indexOf(Jm)?e.type=Vm.MIXIN_RULE:e.type=Vm.STYLE_RULE}let i=e.rules;if(i)for(let e,n=0,r=i.length;n<r&&(e=i[n]);n++)Um(e,t);return e}function Fm(e,t,n=""){let i="";if(e.cssText||e.rules){let n=e.rules;if(n&&!function(e){let t=e[0];return Boolean(t)&&Boolean(t.selector)&&0===t.selector.indexOf(Jm)}(n))for(let e,r=0,o=n.length;r<o&&(e=n[r]);r++)i=Fm(e,t,i);else i=t?e.cssText:function(e){return e=function(e){return e.replace(Wm.customProp,"").replace(Wm.mixinProp,"")}(e),function(e){return e.replace(Wm.mixinApply,"").replace(Wm.varApply,"")}(e)}(e.cssText),i=i.trim(),i&&(i="  "+i+"\n")}return i&&(e.selector&&(n+=e.selector+" "+Gm+"\n"),n+=i,e.selector&&(n+=Ym+"\n\n")),n}const Vm={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},Gm="{",Ym="}",Wm={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},Jm="--",Km="@media",Xm="@",Zm=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Qm=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,eg=/@media\s(.*)/,tg=new Set,ng="shady-unscoped";function ig(e){const t=e.textContent;if(!tg.has(t)){tg.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function rg(e){return e.hasAttribute(ng)}function og(e,t){return e?("string"==typeof e&&(e=Hm(e)),t&&sg(e,t),Fm(e,jm)):""}function ag(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=Hm(e.textContent)),e.__cssRules||null}function sg(e,t,n,i){if(!e)return;let r=!1,o=e.type;if(i&&o===Vm.MEDIA_RULE){let t=e.selector.match(eg);t&&(window.matchMedia(t[1]).matches||(r=!0))}o===Vm.STYLE_RULE?t(e):n&&o===Vm.KEYFRAMES_RULE?n(e):o===Vm.MIXIN_RULE&&(r=!0);let a=e.rules;if(a&&!r)for(let e,r=0,o=a.length;r<o&&(e=a[r]);r++)sg(e,t,n,i)}function lg(e,t){let n=e.indexOf("var(");if(-1===n)return t(e,"","","");let i=function(e,t){let n=0;for(let i=t,r=e.length;i<r;i++)if("("===e[i])n++;else if(")"===e[i]&&0==--n)return i;return-1}(e,n+3),r=e.substring(n+4,i),o=e.substring(0,n),a=lg(e.substring(i+1),t),s=r.indexOf(",");return-1===s?t(o,r.trim(),"",a):t(o,r.substring(0,s).trim(),r.substring(s+1).trim(),a)}window.ShadyDOM&&window.ShadyDOM.wrap;const cg="css-build";function dg(e){if(void 0!==$m)return $m;if(void 0===e.__cssBuild){const t=e.getAttribute(cg);if(t)e.__cssBuild=t;else{const t=function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if(e[0]===cg)return e[1]}return""}(e);""!==t&&function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;t.parentNode.removeChild(t)}(e),e.__cssBuild=t}}return e.__cssBuild||""}function ug(e){return""!==dg(e)}function hg(e,t){for(let n in t)null===n?e.style.removeProperty(n):e.style.setProperty(n,t[n])}function pg(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return n?n.trim():""}const fg=/;\s*/m,mg=/^\s*(initial)|(inherit)\s*$/,gg=/\s*!important/,bg="_-_";class vg{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let yg=null;class _g{constructor(){this._currentElement=null,this._measureElement=null,this._map=new vg}detectMixin(e){return function(e){const t=Qm.test(e)||Zm.test(e);return Qm.lastIndex=0,Zm.lastIndex=0,t}(e)}gatherStyles(e){const t=function(e){const t=[],n=e.querySelectorAll("style");for(let e=0;e<n.length;e++){const i=n[e];rg(i)?Om||(ig(i),i.parentNode.removeChild(i)):(t.push(i.textContent),i.parentNode.removeChild(i))}return t.join("").trim()}(e.content);if(t){const n=document.createElement("style");return n.textContent=t,e.content.insertBefore(n,e.content.firstChild),n}return null}transformTemplate(e,t){void 0===e._gatheredStyle&&(e._gatheredStyle=this.gatherStyles(e));const n=e._gatheredStyle;return n?this.transformStyle(n,t):null}transformStyle(e,t=""){let n=ag(e);return this.transformRules(n,t),e.textContent=og(n),n}transformCustomStyle(e){let t=ag(e);return sg(t,(e=>{":root"===e.selector&&(e.selector="html"),this.transformRule(e)})),e.textContent=og(t),t}transformRules(e,t){this._currentElement=t,sg(e,(e=>{this.transformRule(e)})),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),":root"===e.selector&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(Zm,((e,n,i,r)=>this._produceCssProperties(e,n,i,r,t))),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const n={};let i=!1;return sg(t,(t=>{i=i||t===e,i||t.selector===e.selector&&Object.assign(n,this._cssTextToMap(t.parsedCssText))})),n}_consumeCssProperties(e,t){let n=null;for(;n=Qm.exec(e);){let i=n[0],r=n[1],o=n.index,a=o+i.indexOf("@apply"),s=o+i.length,l=e.slice(0,a),c=e.slice(s),d=t?this._fallbacksFromPreviousRules(t):{};Object.assign(d,this._cssTextToMap(l));let u=this._atApplyToCssProperties(r,d);e=`${l}${u}${c}`,Qm.lastIndex=o+u.length}return e}_atApplyToCssProperties(e,t){e=e.replace(fg,"");let n=[],i=this._map.get(e);if(i||(this._map.set(e,{}),i=this._map.get(e)),i){let r,o,a;this._currentElement&&(i.dependants[this._currentElement]=!0);const s=i.properties;for(r in s)a=t&&t[r],o=[r,": var(",e,bg,r],a&&o.push(",",a.replace(gg,"")),o.push(")"),gg.test(s[r])&&o.push(" !important"),n.push(o.join(""))}return n.join("; ")}_replaceInitialOrInherit(e,t){let n=mg.exec(t);return n&&(t=n[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let n,i,r=e.split(";"),o={};for(let e,a,s=0;s<r.length;s++)e=r[s],e&&(a=e.split(":"),a.length>1&&(n=a[0].trim(),i=a.slice(1).join(":"),t&&(i=this._replaceInitialOrInherit(n,i)),o[n]=i));return o}_invalidateMixinEntry(e){if(yg)for(let t in e.dependants)t!==this._currentElement&&yg(t)}_produceCssProperties(e,t,n,i,r){if(n&&lg(n,((e,t)=>{t&&this._map.get(t)&&(i=`@apply ${t};`)})),!i)return e;let o=this._consumeCssProperties(""+i,r),a=e.slice(0,e.indexOf("--")),s=this._cssTextToMap(o,!0),l=s,c=this._map.get(t),d=c&&c.properties;d?l=Object.assign(Object.create(d),s):this._map.set(t,l);let u,h,p=[],f=!1;for(u in l)h=s[u],void 0===h&&(h="initial"),d&&!(u in d)&&(f=!0),p.push(`${t}${bg}${u}: ${h}`);return f&&this._invalidateMixinEntry(c),c&&(c.properties=l),n&&(a=`${e};${a}`),`${a}${p.join("; ")};`}}_g.prototype.detectMixin=_g.prototype.detectMixin,_g.prototype.transformStyle=_g.prototype.transformStyle,_g.prototype.transformCustomStyle=_g.prototype.transformCustomStyle,_g.prototype.transformRules=_g.prototype.transformRules,_g.prototype.transformRule=_g.prototype.transformRule,_g.prototype.transformTemplate=_g.prototype.transformTemplate,_g.prototype._separator=bg,Object.defineProperty(_g.prototype,"invalidCallback",{get:()=>yg,set(e){yg=e}});const wg={},kg="_applyShimCurrentVersion",xg="_applyShimNextVersion",Cg="_applyShimValidatingVersion",Sg=Promise.resolve();function Eg(e){let t=wg[e];t&&function(e){e[kg]=e[kg]||0,e[Cg]=e[Cg]||0,e[xg]=(e[xg]||0)+1}(t)}function Tg(e){return e[kg]===e[xg]}let Ag,Pg=null,Mg=window.HTMLImports&&window.HTMLImports.whenReady||null;function Ig(e){requestAnimationFrame((function(){Mg?Mg(e):(Pg||(Pg=new Promise((e=>{Ag=e})),"complete"===document.readyState?Ag():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&Ag()}))),Pg.then((function(){e&&e()})))}))}const qg="__seenByShadyCSS",Ng="__shadyCSSCachedStyle";let Dg=null,Og=null,Lg=class{constructor(){this.customStyles=[],this.enqueued=!1,Ig((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&Og&&(this.enqueued=!0,Ig(Og))}addCustomStyle(e){e[qg]||(e[qg]=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[Ng])return e[Ng];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const n=e[t];if(n[Ng])continue;const i=this.getStyleForCustomStyle(n);if(i){const e=i.__appliedElement||i;Dg&&Dg(e),n[Ng]=e}}return e}};Lg.prototype.addCustomStyle=Lg.prototype.addCustomStyle,Lg.prototype.getStyleForCustomStyle=Lg.prototype.getStyleForCustomStyle,Lg.prototype.processStyles=Lg.prototype.processStyles,Object.defineProperties(Lg.prototype,{transformCallback:{get:()=>Dg,set(e){Dg=e}},validateCallback:{get:()=>Og,set(e){let t=!1;Og||(t=!0),Og=e,t&&this.enqueueDocumentValidation()}}});const $g=new _g;class Rg{constructor(){this.customStyleInterface=null,$g.invalidCallback=Eg}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{$g.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame((()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()}))})}prepareTemplate(e,t){if(this.ensure(),ug(e))return;wg[t]=e;let n=$g.transformTemplate(e,t);e._styleAst=n}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let n=e[t],i=this.customStyleInterface.getStyleForCustomStyle(n);i&&$g.transformCustomStyle(i)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&hg(e,t),e.shadowRoot){this.styleElement(e);let t=e.shadowRoot.children||e.shadowRoot.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}else{let t=e.children||e.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}}styleElement(e){this.ensure();let{is:t}=function(e){let t=e.localName,n="",i="";return t?t.indexOf("-")>-1?n=t:(i=t,n=e.getAttribute&&e.getAttribute("is")||""):(n=e.is,i=e.extends),{is:n,typeExtension:i}}(e),n=wg[t];if((!n||!ug(n))&&n&&!Tg(n)){(function(e){return!Tg(e)&&e[Cg]===e[xg]})(n)||(this.prepareTemplate(n,t),function(e){e[Cg]=e[xg],e._validating||(e._validating=!0,Sg.then((function(){e[kg]=e[xg],e._validating=!1})))}(n));let i=e.shadowRoot;if(i){let e=i.querySelector("style");e&&(e.__cssRules=n._styleAst,e.textContent=og(n._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const e=new Rg;let t=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(t,n,i){e.flushCustomStyles(),e.prepareTemplate(t,n)},prepareTemplateStyles(e,t,n){window.ShadyCSS.prepareTemplate(e,t,n)},prepareTemplateDom(e,t){},styleSubtree(t,n){e.flushCustomStyles(),e.styleSubtree(t,n)},styleElement(t){e.flushCustomStyles(),e.styleElement(t)},styleDocument(t){e.flushCustomStyles(),e.styleDocument(t)},getComputedStyleValue:(e,t)=>pg(e,t),flushCustomStyles(){e.flushCustomStyles()},nativeCss:jm,nativeShadow:Om,cssBuild:$m,disableRuntime:zm},t&&(window.ShadyCSS.CustomStyleInterface=t)}window.ShadyCSS.ApplyShim=$g,window.JSCompiler_renameProperty=function(e,t){return e};let zg,jg,Bg=/(url\()([^)]*)(\))/g,Hg=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function Ug(e,t){if(e&&Hg.test(e))return e;if("//"===e)return e;if(void 0===zg){zg=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",zg="http://a/c%20d"===e.href}catch(e){}}if(t||(t=document.baseURI||window.location.href),zg)try{return new URL(e,t).href}catch(t){return e}return jg||(jg=document.implementation.createHTMLDocument("temp"),jg.base=jg.createElement("base"),jg.head.appendChild(jg.base),jg.anchor=jg.createElement("a"),jg.body.appendChild(jg.anchor)),jg.base.href=t,jg.anchor.href=e,jg.anchor.href||e}function Fg(e,t){return e.replace(Bg,(function(e,n,i,r){return n+"'"+Ug(i.replace(/["']/g,""),t)+"'"+r}))}function Vg(e){return e.substring(0,e.lastIndexOf("/")+1)}const Gg=!window.ShadyDOM||!window.ShadyDOM.inUse;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss);const Yg=Gg&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const e=new CSSStyleSheet;e.replaceSync("");const t=document.createElement("div");return t.attachShadow({mode:"open"}),t.shadowRoot.adoptedStyleSheets=[e],t.shadowRoot.adoptedStyleSheets[0]===e}catch(e){return!1}})();let Wg=window.Polymer&&window.Polymer.rootPath||Vg(document.baseURI||window.location.href),Jg=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,Kg=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,Xg=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,Zg=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,Qg=window.Polymer&&window.Polymer.legacyOptimizations||!1,eb=window.Polymer&&window.Polymer.legacyWarnings||!1,tb=window.Polymer&&window.Polymer.syncInitialRender||!1,nb=window.Polymer&&window.Polymer.legacyUndefined||!1,ib=window.Polymer&&window.Polymer.orderedComputed||!1,rb=window.Polymer&&window.Polymer.removeNestedTemplates||!1,ob=window.Polymer&&window.Polymer.fastDomIf||!1,ab=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,sb=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1,lb=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,cb=0;const db=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let n=cb++;return function(i){let r=i.__mixinSet;if(r&&r[n])return i;let o=t,a=o.get(i);if(!a){a=e(i),o.set(i,a);let t=Object.create(a.__mixinSet||r||null);t[n]=!0,a.__mixinSet=t}return a}};let ub={},hb={};function pb(e,t){ub[e]=hb[e.toLowerCase()]=t}function fb(e){return ub[e]||hb[e.toLowerCase()]}class mb extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let n=fb(e);return n&&t?n.querySelector(t):n}return null}attributeChangedCallback(e,t,n,i){t!==n&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=Ug(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=Vg(t)}return this.__assetpath}register(e){if(e=e||this.id){if(Xg&&void 0!==fb(e))throw pb(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,pb(e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}}mb.prototype.modules=ub,customElements.define("dom-module",mb);const gb="link[rel=import][type~=css]",bb="include",vb="shady-unscoped";function yb(e){return mb.import(e)}function _b(e){const t=Fg((e.body?e.body:e).textContent,e.baseURI),n=document.createElement("style");return n.textContent=t,n}function wb(e){const t=e.trim().split(/\s+/),n=[];for(let e=0;e<t.length;e++)n.push(...kb(t[e]));return n}function kb(e){const t=yb(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){const e=[];e.push(...Cb(t));const n=t.querySelector("template");n&&e.push(...xb(n,t.assetpath)),t._styles=e}return t._styles}function xb(e,t){if(!e._styles){const n=[],i=e.content.querySelectorAll("style");for(let e=0;e<i.length;e++){let r=i[e],o=r.getAttribute(bb);o&&n.push(...wb(o).filter((function(e,t,n){return n.indexOf(e)===t}))),t&&(r.textContent=Fg(r.textContent,t)),n.push(r)}e._styles=n}return e._styles}function Cb(e){const t=[],n=e.querySelectorAll(gb);for(let e=0;e<n.length;e++){let i=n[e];if(i.import){const e=i.import,n=i.hasAttribute(vb);if(n&&!e._unscopedStyle){const t=_b(e);t.setAttribute(vb,""),e._unscopedStyle=t}else e._style||(e._style=_b(e));t.push(n?e._unscopedStyle:e._style)}}return t}function Sb(e){let t=yb(e);if(t&&void 0===t._cssText){let e=function(e){let t="",n=Cb(e);for(let e=0;e<n.length;e++)t+=n[e].textContent;return t}(t),n=t.querySelector("template");n&&(e+=function(e,t){let n="";const i=xb(e,t);for(let e=0;e<i.length;e++){let t=i[e];t.parentNode&&t.parentNode.removeChild(t),n+=t.textContent}return n}(n,t.assetpath)),t._cssText=e||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}const Eb=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e;function Tb(e){return e.indexOf(".")>=0}function Ab(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function Pb(e,t){return 0===e.indexOf(t+".")}function Mb(e,t){return 0===t.indexOf(e+".")}function Ib(e,t,n){return t+n.slice(e.length)}function qb(e){if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let i=e[n].toString().split(".");for(let e=0;e<i.length;e++)t.push(i[e])}return t.join(".")}return e}function Nb(e){return Array.isArray(e)?qb(e).split("."):e.toString().split(".")}function Db(e,t,n){let i=e,r=Nb(t);for(let e=0;e<r.length;e++){if(!i)return;i=i[r[e]]}return n&&(n.path=r.join(".")),i}function Ob(e,t,n){let i=e,r=Nb(t),o=r[r.length-1];if(r.length>1){for(let e=0;e<r.length-1;e++){if(i=i[r[e]],!i)return}i[o]=n}else i[t]=n;return r.join(".")}const Lb={},$b=/-[a-z]/g,Rb=/([A-Z])/g;function zb(e){return Lb[e]||(Lb[e]=e.indexOf("-")<0?e:e.replace($b,(e=>e[1].toUpperCase())))}function jb(e){return Lb[e]||(Lb[e]=e.replace(Rb,"-$1").toLowerCase())}let Bb=0,Hb=0,Ub=[],Fb=0,Vb=!1,Gb=document.createTextNode("");new window.MutationObserver((function(){Vb=!1;const e=Ub.length;for(let t=0;t<e;t++){let e=Ub[t];if(e)try{e()}catch(e){setTimeout((()=>{throw e}))}}Ub.splice(0,e),Hb+=e})).observe(Gb,{characterData:!0});const Yb={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},Wb={run:e=>(Vb||(Vb=!0,Gb.textContent=Fb++),Ub.push(e),Bb++),cancel(e){const t=e-Hb;if(t>=0){if(!Ub[t])throw new Error("invalid async handle: "+e);Ub[t]=null}}},Jb=Wb,Kb=db((e=>class extends e{static createProperties(e){const t=this.prototype;for(let n in e)n in t||t._createPropertyAccessor(n)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,n){let i=this.__data[e],r=this._shouldPropertyChange(e,t,i);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=i),this.__data[e]=t,this.__dataPending[e]=t),r}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,Jb.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n)),this.__dataCounter--}_shouldPropertiesChange(e,t,n){return Boolean(t)}_propertiesChanged(e,t,n){}_shouldPropertyChange(e,t,n){return n!==t&&(n==n||t==t)}attributeChangedCallback(e,t,n,i){t!==n&&this._attributeToProperty(e,n),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n,i)}_attributeToProperty(e,t,n){if(!this.__serializing){const i=this.__dataAttributes,r=i&&i[e]||e;this[r]=this._deserializeValue(t,n||this.constructor.typeForProperty(r))}}_propertyToAttribute(e,t,n){this.__serializing=!0,n=arguments.length<3?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,n){const i=this._serializeValue(t);"class"!==n&&"name"!==n&&"slot"!==n||(e=Eb(e)),void 0===i?e.removeAttribute(n):e.setAttribute(n,""===i&&window.trustedTypes?window.trustedTypes.emptyScript:i)}_serializeValue(e){return"boolean"==typeof e?e?"":void 0:null!=e?e.toString():void 0}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}})),Xb={};let Zb=HTMLElement.prototype;for(;Zb;){let e=Object.getOwnPropertyNames(Zb);for(let t=0;t<e.length;t++)Xb[e[t]]=!0;Zb=Object.getPrototypeOf(Zb)}const Qb=window.trustedTypes?e=>trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e):()=>!1;const ev=db((e=>{const t=Kb(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor(zb(e[t]))}static attributeNameForProperty(e){return jb(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const n=this;n.hasAttribute(e)||this._valueToNodeAttribute(n,t,e)}_serializeValue(e){if("object"==typeof e){if(e instanceof Date)return e.toString();if(e){if(Qb(e))return e;try{return JSON.stringify(e)}catch(e){return""}}}return super._serializeValue(e)}_deserializeValue(e,t){let n;switch(t){case Object:try{n=JSON.parse(e)}catch(t){n=e}break;case Array:try{n=JSON.parse(e)}catch(t){n=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${e}`)}break;case Date:n=isNaN(e)?String(e):Number(e),n=new Date(n);break;default:n=super._deserializeValue(e,t)}return n}_definePropertyAccessor(e,t){!function(e,t){if(!Xb[t]){let n=e[t];void 0!==n&&(e.__data?e._setPendingProperty(t,n):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=n))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}})),tv={"dom-if":!0,"dom-repeat":!0};let nv=!1,iv=!1;function rv(e){(function(){if(!nv){nv=!0;const e=document.createElement("textarea");e.placeholder="a",iv=e.placeholder===e.textContent}return iv})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}const ov=(()=>{const e=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(t,n,i)=>{const r=n.getAttribute(i);e&&i.startsWith("on-")?t.setAttribute(i,e.createScript(r,i)):t.setAttribute(i,r)}})();function av(e){let t=e.getAttribute("is");if(t&&tv[t]){let n=e;for(n.removeAttribute("is"),e=n.ownerDocument.createElement(t),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;){const{name:t}=n.attributes[0];ov(e,n,t),n.removeAttribute(t)}}return e}function sv(e,t){let n=t.parentInfo&&sv(e,t.parentInfo);if(!n)return e;for(let e=n.firstChild,i=0;e;e=e.nextSibling)if(t.parentIndex===i++)return e}function lv(e,t,n,i){i.id&&(t[i.id]=n)}function cv(e,t,n){if(n.events&&n.events.length)for(let i,r=0,o=n.events;r<o.length&&(i=o[r]);r++)e._addMethodEventListenerToNode(t,i.name,i.value,e)}function dv(e,t,n,i){n.templateInfo&&(t._templateInfo=n.templateInfo,t._parentTemplateInfo=i)}const uv=db((e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let n=e._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(t),n.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute&&e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,n,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,n){return this._parseTemplateNode(e.content,t,n)}static _parseTemplateNode(e,t,n){let i=!1,r=e;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(t.hasInsertionPoint=!0):i=this._parseTemplateNestedTemplate(r,t,n)||i,rv(r),r.firstChild&&this._parseTemplateChildNodes(r,t,n),r.hasAttributes&&r.hasAttributes()&&(i=this._parseTemplateNodeAttributes(r,t,n)||i),i||n.noted}static _parseTemplateChildNodes(e,t,n){if("script"!==e.localName&&"style"!==e.localName)for(let i,r=e.firstChild,o=0;r;r=i){if("template"==r.localName&&(r=av(r)),i=r.nextSibling,r.nodeType===Node.TEXT_NODE){let n=i;for(;n&&n.nodeType===Node.TEXT_NODE;)r.textContent+=n.textContent,i=n.nextSibling,e.removeChild(n),n=i;if(t.stripWhiteSpace&&!r.textContent.trim()){e.removeChild(r);continue}}let a={parentIndex:o,parentInfo:n};this._parseTemplateNode(r,t,a)&&(a.infoIndex=t.nodeInfoList.push(a)-1),r.parentNode&&o++}}static _parseTemplateNestedTemplate(e,t,n){let i=e,r=this._parseTemplate(i,t);return(r.content=i.content.ownerDocument.createDocumentFragment()).appendChild(i.content),n.templateInfo=r,!0}static _parseTemplateNodeAttributes(e,t,n){let i=!1,r=Array.from(e.attributes);for(let o,a=r.length-1;o=r[a];a--)i=this._parseTemplateNodeAttribute(e,t,n,o.name,o.value)||i;return i}static _parseTemplateNodeAttribute(e,t,n,i,r){return"on-"===i.slice(0,3)?(e.removeAttribute(i),n.events=n.events||[],n.events.push({name:i.slice(3),value:r}),!0):"id"===i&&(n.id=r,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e,t){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let n=(t=t||this.constructor._parseTemplate(e)).nodeInfoList,i=t.content||e.content,r=document.importNode(i,!0);r.__noInsertionPoint=!t.hasInsertionPoint;let o=r.nodeList=new Array(n.length);r.$={};for(let e,i=0,a=n.length;i<a&&(e=n[i]);i++){let n=o[i]=sv(r,e);lv(0,r.$,n,e),dv(0,n,e,t),cv(this,n,e)}return r}_addMethodEventListenerToNode(e,t,n,i){let r=function(e,t,n){return e=e._methodHost||e,function(t){e[n]?e[n](t,t.detail):console.warn("listener method `"+n+"` not defined")}}(i=i||e,0,n);return this._addEventListenerToNode(e,t,r),r}_addEventListenerToNode(e,t,n){e.addEventListener(t,n)}_removeEventListenerFromNode(e,t,n){e.removeEventListener(t,n)}}));let hv=0;const pv=[],fv={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},mv="__computeInfo",gv=/[A-Z]/;function bv(e,t,n){let i=e[t];if(i){if(!e.hasOwnProperty(t)&&(i=e[t]=Object.create(e[t]),n))for(let e in i){let t=i[e],n=i[e]=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[e]}}else i=e[t]={};return i}function vv(e,t,n,i,r,o){if(t){let a=!1;const s=hv++;for(let l in n){let c=t[r?Ab(l):l];if(c)for(let t,d=0,u=c.length;d<u&&(t=c[d]);d++)t.info&&t.info.lastRun===s||r&&!_v(l,t.trigger)||(t.info&&(t.info.lastRun=s),t.fn(e,l,n,i,t.info,r,o),a=!0)}return a}return!1}function yv(e,t,n,i,r,o,a,s){let l=!1,c=t[a?Ab(i):i];if(c)for(let t,d=0,u=c.length;d<u&&(t=c[d]);d++)t.info&&t.info.lastRun===n||a&&!_v(i,t.trigger)||(t.info&&(t.info.lastRun=n),t.fn(e,i,r,o,t.info,a,s),l=!0);return l}function _v(e,t){if(t){let n=t.name;return n==e||!(!t.structured||!Pb(n,e))||!(!t.wildcard||!Mb(n,e))}return!0}function wv(e,t,n,i,r){let o="string"==typeof r.method?e[r.method]:r.method,a=r.property;o?o.call(e,e.__data[a],i[a]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function kv(e,t,n){let i=Ab(t);if(i!==t){return xv(e,jb(i)+"-changed",n[t],t),!0}return!1}function xv(e,t,n,i){let r={value:n,queueProperty:!0};i&&(r.path=i),Eb(e).dispatchEvent(new CustomEvent(t,{detail:r}))}function Cv(e,t,n,i,r,o){let a=(o?Ab(t):t)!=t?t:null,s=a?Db(e,a):e.__data[t];a&&void 0===s&&(s=n[t]),xv(e,r.eventName,s,a)}function Sv(e,t,n,i,r){let o=e.__data[t];Jg&&(o=Jg(o,r.attrName,"attribute",e)),e._propertyToAttribute(t,r.attrName,o)}function Ev(e,t,n,i){let r=e[fv.COMPUTE];if(r)if(ib){hv++;const o=function(e){let t=e.constructor.__orderedComputedDeps;if(!t){t=new Map;const n=e[fv.COMPUTE];let i,{counts:r,ready:o,total:a}=function(e){const t=e[mv],n={},i=e[fv.COMPUTE],r=[];let o=0;for(let e in t){const i=t[e];o+=n[e]=i.args.filter((e=>!e.literal)).length+(i.dynamicFn?1:0)}for(let e in i)t[e]||r.push(e);return{counts:n,ready:r,total:o}}(e);for(;i=o.shift();){t.set(i,t.size);const e=n[i];e&&e.forEach((e=>{const t=e.info.methodInfo;--a,0==--r[t]&&o.push(t)}))}if(0!==a){const t=e;console.warn(`Computed graph for ${t.localName} incomplete; circular?`)}e.constructor.__orderedComputedDeps=t}return t}(e),a=[];for(let e in t)Av(e,r,a,o,i);let s;for(;s=a.shift();)Pv(e,"",t,n,s)&&Av(s.methodInfo,r,a,o,i);Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),e.__dataPending=null}else{let o=t;for(;vv(e,r,o,n,i);)Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),o=e.__dataPending,e.__dataPending=null}}const Tv=(e,t,n)=>{let i=0,r=t.length-1,o=-1;for(;i<=r;){const a=i+r>>1,s=n.get(t[a].methodInfo)-n.get(e.methodInfo);if(s<0)i=a+1;else{if(!(s>0)){o=a;break}r=a-1}}o<0&&(o=r+1),t.splice(o,0,e)},Av=(e,t,n,i,r)=>{const o=t[r?Ab(e):e];if(o)for(let t=0;t<o.length;t++){const a=o[t];a.info.lastRun===hv||r&&!_v(e,a.trigger)||(a.info.lastRun=hv,Tv(a.info,n,i))}};function Pv(e,t,n,i,r){let o=Lv(e,t,n,i,r);if(o===pv)return!1;let a=r.methodInfo;return e.__dataHasAccessor&&e.__dataHasAccessor[a]?e._setPendingProperty(a,o,!0):(e[a]=o,!1)}function Mv(e,t,n,i,r,o,a){n.bindings=n.bindings||[];let s={kind:i,target:r,parts:o,literal:a,isCompound:1!==o.length};if(n.bindings.push(s),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(s)){let{event:e,negate:t}=s.parts[0];s.listenerEvent=e||jb(r)+"-changed",s.listenerNegate=t}let l=t.nodeInfoList.length;for(let n=0;n<s.parts.length;n++){let i=s.parts[n];i.compoundIndex=n,Iv(e,t,s,i,l)}}function Iv(e,t,n,i,r){if(!i.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let o=i.dependencies,a={index:r,binding:n,part:i,evaluator:e};for(let n=0;n<o.length;n++){let i=o[n];"string"==typeof i&&(i=Uv(i),i.wildcard=!0),e._addTemplatePropertyEffect(t,i.rootProperty,{fn:qv,info:a,trigger:i})}}}function qv(e,t,n,i,r,o,a){let s=a[r.index],l=r.binding,c=r.part;if(o&&c.source&&t.length>c.source.length&&"property"==l.kind&&!l.isCompound&&s.__isPropertyEffectsClient&&s.__dataHasAccessor&&s.__dataHasAccessor[l.target]){let i=n[t];t=Ib(c.source,l.target,t),s._setPendingPropertyOrPath(t,i,!1,!0)&&e._enqueueClient(s)}else{let a=r.evaluator._evaluateBinding(e,c,t,n,i,o);a!==pv&&function(e,t,n,i,r){r=function(e,t,n,i){if(n.isCompound){let r=e.__dataCompoundStorage[n.target];r[i.compoundIndex]=t,t=r.join("")}"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,r,n,i),Jg&&(r=Jg(r,n.target,n.kind,t));if("attribute"==n.kind)e._valueToNodeAttribute(t,r,n.target);else{let i=n.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[i]?t[fv.READ_ONLY]&&t[fv.READ_ONLY][i]||t._setPendingProperty(i,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,i,r)}}(e,s,l,c,a)}}function Nv(e,t){if(t.isCompound){let n=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),i=t.parts,r=new Array(i.length);for(let e=0;e<i.length;e++)r[e]=i[e].literal;let o=t.target;n[o]=r,t.literal&&"property"==t.kind&&("className"===o&&(e=Eb(e)),e[o]=t.literal)}}function Dv(e,t,n){if(n.listenerEvent){let i=n.parts[0];e.addEventListener(n.listenerEvent,(function(e){!function(e,t,n,i,r){let o,a=e.detail,s=a&&a.path;s?(i=Ib(n,i,s),o=a&&a.value):o=e.currentTarget[n],o=r?!o:o,t[fv.READ_ONLY]&&t[fv.READ_ONLY][i]||!t._setPendingPropertyOrPath(i,o,!0,Boolean(s))||a&&a.queueProperty||t._invalidateProperties()}(e,t,n.target,i.source,i.negate)}))}}function Ov(e,t,n,i,r,o){o=t.static||o&&("object"!=typeof o||o[t.methodName]);let a={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:o};for(let r,o=0;o<t.args.length&&(r=t.args[o]);o++)r.literal||e._addPropertyEffect(r.rootProperty,n,{fn:i,info:a,trigger:r});return o&&e._addPropertyEffect(t.methodName,n,{fn:i,info:a}),a}function Lv(e,t,n,i,r){let o=e._methodHost||e,a=o[r.methodName];if(a){let i=e._marshalArgs(r.args,t,n);return i===pv?pv:a.apply(o,i)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const $v=[],Rv="(?:[a-zA-Z_$][\\w.:$\\-*]*)",zv="(?:("+Rv+"|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)",jv=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?"+("("+Rv+"\\s*"+("(?:\\(\\s*(?:"+("(?:"+zv+"(?:,\\s*"+zv+")*)")+"?)\\)\\s*)")+"?)")+"(?:]]|}})","g");function Bv(e){let t="";for(let n=0;n<e.length;n++){t+=e[n].literal||""}return t}function Hv(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:$v};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let n=Uv(e);return n.literal||(t.static=!1),n}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function Uv(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t,value:"",literal:!1},i=t[0];switch("-"===i&&(i=t[1]),i>="0"&&i<="9"&&(i="#"),i){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.rootProperty=Ab(t),n.structured=Tb(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n}function Fv(e,t,n){let i=Db(e,n);return void 0===i&&(i=t[n]),i}function Vv(e,t,n,i){const r={indexSplices:i};nb&&!e._overrideLegacyUndefined&&(t.splices=r),e.notifyPath(n+".splices",r),e.notifyPath(n+".length",t.length),nb&&!e._overrideLegacyUndefined&&(r.indexSplices=[])}function Gv(e,t,n,i,r,o){Vv(e,t,n,[{index:i,addedCount:r,removed:o,object:t,type:"splice"}])}const Yv=db((e=>{const t=uv(ev(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return fv}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Wv.length){let e=Wv[Wv.length-1];e._enqueueClient(this),this.__dataHost=e}}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[fv.READ_ONLY];for(let n in e)t&&t[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=e[n])}_addPropertyEffect(e,t,n){this._createPropertyAccessor(e,t==fv.READ_ONLY);let i=bv(this,t,!0)[e];i||(i=this[t][e]=[]),i.push(n)}_removePropertyEffect(e,t,n){let i=bv(this,t,!0)[e],r=i.indexOf(n);r>=0&&i.splice(r,1)}_hasPropertyEffect(e,t){let n=this[t];return Boolean(n&&n[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,fv.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,fv.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,fv.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,fv.COMPUTE)}_setPendingPropertyOrPath(e,t,n,i){if(i||Ab(Array.isArray(e)?e[0]:e)!==e){if(!i){let n=Db(this,e);if(!(e=Ob(this,e,t))||!super._shouldPropertyChange(e,t,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,n))return function(e,t,n){let i=e.__dataLinkedPaths;if(i){let r;for(let o in i){let a=i[o];Mb(o,t)?(r=Ib(o,a,t),e._setPendingPropertyOrPath(r,n,!0,!0)):Mb(a,t)&&(r=Ib(a,o,t),e._setPendingPropertyOrPath(r,n,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,n);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,n){n===e[t]&&"object"!=typeof n||("className"===t&&(e=Eb(e)),e[t]=n)}_setPendingProperty(e,t,n){let i=this.__dataHasPaths&&Tb(e),r=i?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),i?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(i||this[fv.NOTIFY]&&this[fv.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=n),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let n=e[t];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let n in e)!t&&this[fv.READ_ONLY]&&this[fv.READ_ONLY][n]||this._setPendingPropertyOrPath(n,e[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,n){let i,r=this.__dataHasPaths;this.__dataHasPaths=!1,Ev(this,t,n,r),i=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(t,n,r),this._flushClients(),vv(this,this[fv.REFLECT],t,n,r),vv(this,this[fv.OBSERVE],t,n,r),i&&function(e,t,n,i,r){let o,a,s=e[fv.NOTIFY],l=hv++;for(let a in t)t[a]&&(s&&yv(e,s,l,a,n,i,r)||r&&kv(e,a,n))&&(o=!0);o&&(a=e.__dataHost)&&a._invalidateProperties&&a._invalidateProperties()}(this,i,t,n,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,n){this[fv.PROPAGATE]&&vv(this,this[fv.PROPAGATE],e,t,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,e,t,n)}_runEffectsForTemplate(e,t,n,i){const r=(t,i)=>{vv(this,e.propertyEffects,t,n,i,e.nodeList);for(let r=e.firstChild;r;r=r.nextSibling)this._runEffectsForTemplate(r,t,n,i)};e.runEffects?e.runEffects(r,t,i):r(t,i)}linkPaths(e,t){e=qb(e),t=qb(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=qb(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let n={path:""};Vv(this,Db(this,e,n),n.path,t)}get(e,t){return Db(t||this,e)}set(e,t,n){n?Ob(n,e,t):this[fv.READ_ONLY]&&this[fv.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let n={path:""},i=Db(this,e,n),r=i.length,o=i.push(...t);return t.length&&Gv(this,i,n.path,r,t.length,[]),o}pop(e){let t={path:""},n=Db(this,e,t),i=Boolean(n.length),r=n.pop();return i&&Gv(this,n,t.path,n.length,0,[r]),r}splice(e,t,n,...i){let r,o={path:""},a=Db(this,e,o);return t<0?t=a.length-Math.floor(-t):t&&(t=Math.floor(t)),r=2===arguments.length?a.splice(t):a.splice(t,n,...i),(i.length||r.length)&&Gv(this,a,o.path,t,i.length,r),r}shift(e){let t={path:""},n=Db(this,e,t),i=Boolean(n.length),r=n.shift();return i&&Gv(this,n,t.path,0,0,[r]),r}unshift(e,...t){let n={path:""},i=Db(this,e,n),r=i.unshift(...t);return t.length&&Gv(this,i,n.path,0,t.length,[]),r}notifyPath(e,t){let n;if(1==arguments.length){let i={path:""};t=Db(this,e,i),n=i.path}else n=Array.isArray(e)?qb(e):e;this._setPendingPropertyOrPath(n,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var n;this._addPropertyEffect(e,fv.READ_ONLY),t&&(this["_set"+(n=e,n[0].toUpperCase()+n.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,n){let i={property:e,method:t,dynamicFn:Boolean(n)};this._addPropertyEffect(e,fv.OBSERVE,{fn:wv,info:i,trigger:{name:e}}),n&&this._addPropertyEffect(t,fv.OBSERVE,{fn:wv,info:i,trigger:{name:t}})}_createMethodObserver(e,t){let n=Hv(e);if(!n)throw new Error("Malformed observer expression '"+e+"'");Ov(this,n,fv.OBSERVE,Lv,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,fv.NOTIFY,{fn:Cv,info:{eventName:jb(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,fv.REFLECT,{fn:Sv,info:{attrName:t}})}_createComputedProperty(e,t,n){let i=Hv(t);if(!i)throw new Error("Malformed computed expression '"+t+"'");const r=Ov(this,i,fv.COMPUTE,Pv,e,n);bv(this,mv)[e]=r}_marshalArgs(e,t,n){const i=this.__data,r=[];for(let o=0,a=e.length;o<a;o++){let{name:a,structured:s,wildcard:l,value:c,literal:d}=e[o];if(!d)if(l){const e=Mb(a,t),r=Fv(i,n,e?t:a);c={path:e?t:a,value:r,base:e?Db(i,a):r}}else c=s?Fv(i,n,a):i[a];if(nb&&!this._overrideLegacyUndefined&&void 0===c&&e.length>1)return pv;r[o]=c}return r}static addPropertyEffect(e,t,n){this.prototype._addPropertyEffect(e,t,n)}static createPropertyObserver(e,t,n){this.prototype._createPropertyObserver(e,t,n)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,n){this.prototype._createComputedProperty(e,t,n)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let n=this.constructor._parseTemplate(e),i=this.__preBoundTemplateInfo==n;if(!i)for(let e in n.propertyEffects)this._createPropertyAccessor(e);if(t)if(n=Object.create(n),n.wasPreBound=i,this.__templateInfo){const t=e._parentTemplateInfo||this.__templateInfo,i=t.lastChild;n.parent=t,t.lastChild=n,n.previousSibling=i,i?i.nextSibling=n:t.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}static _addTemplatePropertyEffect(e,t,n){(e.hostProps=e.hostProps||{})[t]=!0;let i=e.propertyEffects=e.propertyEffects||{};(i[t]=i[t]||[]).push(n)}_stampTemplate(e,t){t=t||this._bindTemplate(e,!0),Wv.push(this);let n=super._stampTemplate(e,t);if(Wv.pop(),t.nodeList=n.nodeList,!t.wasPreBound){let e=t.childNodes=[];for(let t=n.firstChild;t;t=t.nextSibling)e.push(t)}return n.templateInfo=t,function(e,t){let{nodeList:n,nodeInfoList:i}=t;if(i.length)for(let t=0;t<i.length;t++){let r=i[t],o=n[t],a=r.bindings;if(a)for(let t=0;t<a.length;t++){let n=a[t];Nv(o,n),Dv(o,e,n)}o.__dataHost=e}}(this,t),this.__dataClientsReady&&(this._runEffectsForTemplate(t,this.__data,null,!1),this._flushClients()),n}_removeBoundDom(e){const t=e.templateInfo,{previousSibling:n,nextSibling:i,parent:r}=t;n?n.nextSibling=i:r&&(r.firstChild=i),i?i.previousSibling=n:r&&(r.lastChild=n),t.nextSibling=t.previousSibling=null;let o=t.childNodes;for(let e=0;e<o.length;e++){let t=o[e];Eb(Eb(t).parentNode).removeChild(t)}}static _parseTemplateNode(e,n,i){let r=t._parseTemplateNode.call(this,e,n,i);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,n);t&&(e.textContent=Bv(t)||" ",Mv(this,n,i,"text","textContent",t),r=!0)}return r}static _parseTemplateNodeAttribute(e,n,i,r,o){let a=this._parseBindings(o,n);if(a){let t=r,o="property";gv.test(r)?o="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),o="attribute");let s=Bv(a);return s&&"attribute"==o&&("class"==r&&e.hasAttribute("class")&&(s+=" "+e.getAttribute(r)),e.setAttribute(r,s)),"attribute"==o&&"disable-upgrade$"==t&&e.setAttribute(r,""),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===o&&(r=zb(r)),Mv(this,n,i,o,r,a,s),!0}return t._parseTemplateNodeAttribute.call(this,e,n,i,r,o)}static _parseTemplateNestedTemplate(e,n,i){let r=t._parseTemplateNestedTemplate.call(this,e,n,i);const o=e.parentNode,a=i.templateInfo,s="dom-if"===o.localName,l="dom-repeat"===o.localName;rb&&(s||l)&&(o.removeChild(e),(i=i.parentInfo).templateInfo=a,i.noted=!0,r=!1);let c=a.hostProps;if(ob&&s)c&&(n.hostProps=Object.assign(n.hostProps||{},c),rb||(i.parentInfo.noted=!0));else{let e="{";for(let t in c){Mv(this,n,i,"property","_host_"+t,[{mode:e,source:t,dependencies:[t],hostProp:!0}])}}return r}static _parseBindings(e,t){let n,i=[],r=0;for(;null!==(n=jv.exec(e));){n.index>r&&i.push({literal:e.slice(r,n.index)});let o=n[1][0],a=Boolean(n[2]),s=n[3].trim(),l=!1,c="",d=-1;"{"==o&&(d=s.indexOf("::"))>0&&(c=s.substring(d+2),s=s.substring(0,d),l=!0);let u=Hv(s),h=[];if(u){let{args:e,methodName:n}=u;for(let t=0;t<e.length;t++){let n=e[t];n.literal||h.push(n)}let i=t.dynamicFns;(i&&i[n]||u.static)&&(h.push(n),u.dynamicFn=!0)}else h.push(s);i.push({source:s,mode:o,negate:a,customEvent:l,signature:u,dependencies:h,event:c}),r=jv.lastIndex}if(r&&r<e.length){let t=e.substring(r);t&&i.push({literal:t})}return i.length?i:null}static _evaluateBinding(e,t,n,i,r,o){let a;return a=t.signature?Lv(e,n,i,0,t.signature):n!=t.source?Db(e,t.source):o&&Tb(n)?Db(e,n):e.__data[n],t.negate&&(a=!a),a}}})),Wv=[];const Jv=db((e=>{const t=Kb(e);function n(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof r?t:null}function i(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const n=e.properties;n&&(t=function(e){const t={};for(let n in e){const i=e[n];t[n]="function"==typeof i?{type:i}:i}return t}(n))}e.__ownProperties=t}return e.__ownProperties}class r extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const e=this._properties;this.__observedAttributes=e?Object.keys(e).map((e=>this.prototype._addPropertyToAttributeMap(e))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=n(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=i(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=n(this);this.__properties=Object.assign({},e&&e._properties,i(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r})),Kv=window.ShadyCSS&&window.ShadyCSS.cssBuild,Xv=db((e=>{const t=Jv(Yv(e));function n(e,t,n,i){n.computed&&(n.readOnly=!0),n.computed&&(e._hasReadOnlyEffect(t)?console.warn(`Cannot redefine computed property '${t}'.`):e._createComputedProperty(t,n.computed,i)),n.readOnly&&!e._hasReadOnlyEffect(t)?e._createReadOnlyProperty(t,!n.computed):!1===n.readOnly&&e._hasReadOnlyEffect(t)&&console.warn(`Cannot make readOnly property '${t}' non-readOnly.`),n.reflectToAttribute&&!e._hasReflectEffect(t)?e._createReflectedProperty(t):!1===n.reflectToAttribute&&e._hasReflectEffect(t)&&console.warn(`Cannot make reflected property '${t}' non-reflected.`),n.notify&&!e._hasNotifyEffect(t)?e._createNotifyingProperty(t):!1===n.notify&&e._hasNotifyEffect(t)&&console.warn(`Cannot make notify property '${t}' non-notify.`),n.observer&&e._createPropertyObserver(t,n.observer,i[n.observer]),e._addPropertyToAttributeMap(t)}function i(e,t,n,i){if(!Kv){const r=t.content.querySelectorAll("style"),o=xb(t),a=function(e){let t=yb(e);return t?Cb(t):[]}(n),s=t.content.firstElementChild;for(let n=0;n<a.length;n++){let r=a[n];r.textContent=e._processStyleText(r.textContent,i),t.content.insertBefore(r,s)}let l=0;for(let t=0;t<o.length;t++){let n=o[t],a=r[l];a!==n?(n=n.cloneNode(!0),a.parentNode.insertBefore(n,a)):l++,n.textContent=e._processStyleText(n.textContent,i)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,n),lb&&Kv&&Yg){const n=t.content.querySelectorAll("style");if(n){let t="";Array.from(n).forEach((e=>{t+=e.textContent,e.parentNode.removeChild(e)})),e._styleSheet=new CSSStyleSheet,e._styleSheet.replaceSync(t)}}}return class extends t{static get polymerElementVersion(){return"3.5.1"}static _finalizeClass(){t._finalizeClass.call(this);const e=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);var n;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?(console.error("template getter must return HTMLTemplateElement"),e=null):Qg||(e=e.cloneNode(!0))),this.prototype._template=e}static createProperties(e){for(let t in e)n(this.prototype,t,e[t],e)}static createObservers(e,t){const n=this.prototype;for(let i=0;i<e.length;i++)n._createMethodObserver(e[i],t)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let e=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;"function"==typeof e&&(e=e()),this._template=void 0!==e?e:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(e){let t=null;if(e&&(!Xg||Zg)&&(t=mb.import(e,"template"),Xg&&!t))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${e}`);return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=Vg(e.url);else{const e=mb.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Wg,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let n in t){let i=t[n];"value"in i&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[n]=i)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let n=e[t];if(this._canApplyPropertyDefault(t)){let e="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,t){return Fg(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const n=this.importPath;i(this,t,e,n?Ug(n):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=Eb(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),this.constructor._styleSheet&&(t.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),tb&&window.ShadyDOM&&window.ShadyDOM.flushInitial(t.shadowRoot),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=Ug(this.importPath)),Ug(e,t)}static _parseTemplateContent(e,n,i){return n.dynamicFns=n.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,n,i)}static _addTemplatePropertyEffect(e,n,i){return!eb||n in this._properties||i.info.part.signature&&i.info.part.signature.static||i.info.part.hostProp||e.nestedTemplate||console.warn(`Property '${n}' used in template but not declared in 'properties'; attribute will not be observed.`),t._addTemplatePropertyEffect.call(this,e,n,i)}}}));class Zv{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run((()=>{this._timer=null,Qv.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),Qv.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,n){return e instanceof Zv?e._cancelAsync():e=new Zv,e.setConfig(t,n),e}}let Qv=new Set;const ey=function(e){Qv.add(e)},ty=function(){const e=Boolean(Qv.size);return Qv.forEach((e=>{try{e.flush()}catch(e){setTimeout((()=>{throw e}))}})),e};let ny="string"==typeof document.head.style.touchAction,iy="__polymerGestures",ry="__polymerGesturesHandled",oy="__polymerGesturesTouchAction",ay=["mousedown","mousemove","mouseup","click"],sy=[0,1,4,2],ly=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function cy(e){return ay.indexOf(e)>-1}let dy=!1;function uy(e){if(!cy(e)&&"touchend"!==e)return ny&&dy&&Kg?{passive:!0}:void 0}!function(){try{let e=Object.defineProperty({},"passive",{get(){dy=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let hy=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const py=[],fy={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},my={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function gy(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];try{let n=e.getRootNode();if(e.id){let i=n.querySelectorAll(`label[for = '${e.id}']`);for(let e=0;e<i.length;e++)t.push(i[e])}}catch(e){}}return t}let by=function(e){let t=e.sourceCapabilities;var n;if((!t||t.firesTouchEvents)&&(e[ry]={skip:!0},"click"===e.type)){let t=!1,i=xy(e);for(let e=0;e<i.length;e++){if(i[e].nodeType===Node.ELEMENT_NODE)if("label"===i[e].localName)py.push(i[e]);else if(n=i[e],fy[n.localName]){let n=gy(i[e]);for(let e=0;e<n.length;e++)t=t||py.indexOf(n[e])>-1}if(i[e]===_y.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function vy(e){let t=hy?["click"]:ay;for(let n,i=0;i<t.length;i++)n=t[i],e?(py.length=0,document.addEventListener(n,by,!0)):document.removeEventListener(n,by,!0)}function yy(e){let t=e.type;if(!cy(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!ly&&(t=sy[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let _y={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function wy(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function ky(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",(function(e){_y.mouse.mouseIgnoreJob||vy(!0),_y.mouse.target=xy(e)[0],_y.mouse.mouseIgnoreJob=Zv.debounce(_y.mouse.mouseIgnoreJob,Yb.after(2500),(function(){vy(),_y.mouse.target=null,_y.mouse.mouseIgnoreJob=null}))}),!!dy&&{passive:!0});const xy=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],Cy={},Sy=[];function Ey(e){const t=xy(e);return t.length>0?t[0]:e.target}function Ty(e){let t,n=e.type,i=e.currentTarget[iy];if(!i)return;let r=i[n];if(r){if(!e[ry]&&(e[ry]={},"touch"===n.slice(0,5))){let t=e.changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(_y.touch.id=t.identifier),_y.touch.id!==t.identifier)return;ny||"touchstart"!==n&&"touchmove"!==n||function(e){let t=e.changedTouches[0],n=e.type;if("touchstart"===n)_y.touch.x=t.clientX,_y.touch.y=t.clientY,_y.touch.scrollDecided=!1;else if("touchmove"===n){if(_y.touch.scrollDecided)return;_y.touch.scrollDecided=!0;let n=function(e){let t="auto",n=xy(e);for(let e,i=0;i<n.length;i++)if(e=n[i],e[oy]){t=e[oy];break}return t}(e),i=!1,r=Math.abs(_y.touch.x-t.clientX),o=Math.abs(_y.touch.y-t.clientY);e.cancelable&&("none"===n?i=!0:"pan-x"===n?i=o>r:"pan-y"===n&&(i=r>o)),i?e.preventDefault():Ny("track")}}(e)}if(t=e[ry],!t.skip){for(let n,i=0;i<Sy.length;i++)n=Sy[i],r[n.name]&&!t[n.name]&&n.flow&&n.flow.start.indexOf(e.type)>-1&&n.reset&&n.reset();for(let i,o=0;o<Sy.length;o++)i=Sy[o],r[i.name]&&!t[i.name]&&(t[i.name]=!0,i[n](e))}}}function Ay(e,t,n){return!!Cy[t]&&(function(e,t,n){let i=Cy[t],r=i.deps,o=i.name,a=e[iy];a||(e[iy]=a={});for(let t,n,i=0;i<r.length;i++)t=r[i],hy&&cy(t)&&"click"!==t||(n=a[t],n||(a[t]=n={_count:0}),0===n._count&&e.addEventListener(t,Ty,uy(t)),n[o]=(n[o]||0)+1,n._count=(n._count||0)+1);e.addEventListener(t,n),i.touchAction&&Iy(e,i.touchAction)}(e,t,n),!0)}function Py(e,t,n){return!!Cy[t]&&(function(e,t,n){let i=Cy[t],r=i.deps,o=i.name,a=e[iy];if(a)for(let t,n,i=0;i<r.length;i++)t=r[i],n=a[t],n&&n[o]&&(n[o]=(n[o]||1)-1,n._count=(n._count||1)-1,0===n._count&&e.removeEventListener(t,Ty,uy(t)));e.removeEventListener(t,n)}(e,t,n),!0)}function My(e){Sy.push(e);for(let t=0;t<e.emits.length;t++)Cy[e.emits[t]]=e}function Iy(e,t){ny&&e instanceof HTMLElement&&Wb.run((()=>{e.style.touchAction=t})),e[oy]=t}function qy(e,t,n){let i=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(i.detail=n,Eb(e).dispatchEvent(i),i.defaultPrevented){let e=n.preventer||n.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function Ny(e){let t=function(e){for(let t,n=0;n<Sy.length;n++){t=Sy[n];for(let n,i=0;i<t.emits.length;i++)if(n=t.emits[i],n===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function Dy(e,t,n,i){t&&qy(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:i,prevent:function(e){return Ny(e)}})}function Oy(e,t,n){if(e.prevent)return!1;if(e.started)return!0;let i=Math.abs(e.x-t),r=Math.abs(e.y-n);return i>=5||r>=5}function Ly(e,t,n){if(!t)return;let i,r=e.moves[e.moves.length-2],o=e.moves[e.moves.length-1],a=o.x-e.x,s=o.y-e.y,l=0;r&&(i=o.x-r.x,l=o.y-r.y),qy(t,"track",{state:e.state,x:n.clientX,y:n.clientY,dx:a,dy:s,ddx:i,ddy:l,sourceEvent:n,hover:function(){return function(e,t){let n=document.elementFromPoint(e,t),i=n;for(;i&&i.shadowRoot&&!window.ShadyDOM;){let r=i;if(i=i.shadowRoot.elementFromPoint(e,t),r===i)break;i&&(n=i)}return n}(n.clientX,n.clientY)}})}function $y(e,t,n){let i=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y),o=Ey(n||t);!o||my[o.localName]&&o.hasAttribute("disabled")||(isNaN(i)||isNaN(r)||i<=25&&r<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=Ey(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let n=t.getBoundingClientRect(),i=e.pageX,r=e.pageY;return!(i>=n.left&&i<=n.right&&r>=n.top&&r<=n.bottom)}return!1}(t))&&(e.prevent||qy(o,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:n}))}My({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){ky(this.info)},mousedown:function(e){if(!yy(e))return;let t=Ey(e),n=this;wy(this.info,(function(e){yy(e)||(Dy("up",t,e),ky(n.info))}),(function(e){yy(e)&&Dy("up",t,e),ky(n.info)})),Dy("down",t,e)},touchstart:function(e){Dy("down",Ey(e),e.changedTouches[0],e)},touchend:function(e){Dy("up",Ey(e),e.changedTouches[0],e)}}),My({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,ky(this.info)},mousedown:function(e){if(!yy(e))return;let t=Ey(e),n=this,i=function(e){let i=e.clientX,r=e.clientY;Oy(n.info,i,r)&&(n.info.state=n.info.started?"mouseup"===e.type?"end":"track":"start","start"===n.info.state&&Ny("tap"),n.info.addMove({x:i,y:r}),yy(e)||(n.info.state="end",ky(n.info)),t&&Ly(n.info,t,e),n.info.started=!0)};wy(this.info,i,(function(e){n.info.started&&i(e),ky(n.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=Ey(e),n=e.changedTouches[0],i=n.clientX,r=n.clientY;Oy(this.info,i,r)&&("start"===this.info.state&&Ny("tap"),this.info.addMove({x:i,y:r}),Ly(this.info,t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=Ey(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),Ly(this.info,t,n))}}),My({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){yy(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){yy(e)&&$y(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){$y(this.info,e.changedTouches[0],e)}});const Ry=db((e=>class extends e{_addEventListenerToNode(e,t,n){Ay(e,t,n)||super._addEventListenerToNode(e,t,n)}_removeEventListenerFromNode(e,t,n){Py(e,t,n)||super._removeEventListenerFromNode(e,t,n)}})),zy=/:host\(:dir\((ltr|rtl)\)\)/g,jy=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,By=/:dir\((?:ltr|rtl)\)/,Hy=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Uy=[];let Fy=null,Vy="";function Gy(){Vy=document.documentElement.getAttribute("dir")}function Yy(e){if(!e.__autoDirOptOut){e.setAttribute("dir",Vy)}}function Wy(){Gy(),Vy=document.documentElement.getAttribute("dir");for(let e=0;e<Uy.length;e++)Yy(Uy[e])}const Jy=db((e=>{Hy||Fy||(Gy(),Fy=new MutationObserver(Wy),Fy.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=ev(e);class n extends t{static _processStyleText(e,n){return e=t._processStyleText.call(this,e,n),!Hy&&By.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace(zy,':host([dir="$1"])'),t=t.replace(jy,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Fy&&Fy.takeRecords().length&&Wy(),Uy.push(this),Yy(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=Uy.indexOf(this);e>-1&&Uy.splice(e,1)}}}return n.__activateDir=!1,n}));function Ky(){document.body.removeAttribute("unresolved")}function Xy(e,t,n){return{index:e,removed:t,addedCount:n}}"interactive"===document.readyState||"complete"===document.readyState?Ky():window.addEventListener("DOMContentLoaded",Ky);const Zy=0,Qy=1,e_=2,t_=3;function n_(e,t,n,i,r,o){let a,s=0,l=0,c=Math.min(n-t,o-r);if(0==t&&0==r&&(s=function(e,t,n){for(let i=0;i<n;i++)if(!r_(e[i],t[i]))return i;return n}(e,i,c)),n==e.length&&o==i.length&&(l=function(e,t,n){let i=e.length,r=t.length,o=0;for(;o<n&&r_(e[--i],t[--r]);)o++;return o}(e,i,c-s)),r+=s,o-=l,(n-=l)-(t+=s)==0&&o-r==0)return[];if(t==n){for(a=Xy(t,[],0);r<o;)a.removed.push(i[r++]);return[a]}if(r==o)return[Xy(t,[],n-t)];let d=function(e){let t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];for(;t>0||n>0;){if(0==t){r.push(e_),n--;continue}if(0==n){r.push(t_),t--;continue}let o,a=e[t-1][n-1],s=e[t-1][n],l=e[t][n-1];o=s<l?s<a?s:a:l<a?l:a,o==a?(a==i?r.push(Zy):(r.push(Qy),i=a),t--,n--):o==s?(r.push(t_),t--,i=s):(r.push(e_),n--,i=l)}return r.reverse(),r}(function(e,t,n,i,r,o){let a=o-r+1,s=n-t+1,l=new Array(a);for(let e=0;e<a;e++)l[e]=new Array(s),l[e][0]=e;for(let e=0;e<s;e++)l[0][e]=e;for(let n=1;n<a;n++)for(let o=1;o<s;o++)if(r_(e[t+o-1],i[r+n-1]))l[n][o]=l[n-1][o-1];else{let e=l[n-1][o]+1,t=l[n][o-1]+1;l[n][o]=e<t?e:t}return l}(e,t,n,i,r,o));a=void 0;let u=[],h=t,p=r;for(let e=0;e<d.length;e++)switch(d[e]){case Zy:a&&(u.push(a),a=void 0),h++,p++;break;case Qy:a||(a=Xy(h,[],0)),a.addedCount++,h++,a.removed.push(i[p]),p++;break;case e_:a||(a=Xy(h,[],0)),a.addedCount++,h++;break;case t_:a||(a=Xy(h,[],0)),a.removed.push(i[p]),p++}return a&&u.push(a),u}function i_(e,t){return n_(e,0,e.length,t,0,t.length)}function r_(e,t){return e===t}function o_(e){return"slot"===e.localName}let a_=class{static getFlattenedNodes(e){const t=Eb(e);return o_(e)?t.assignedNodes({flatten:!0}):Array.from(t.childNodes).map((e=>o_(e)?Eb(e).assignedNodes({flatten:!0}):[e])).reduce(((e,t)=>e.concat(t)),[])}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){o_(this._target)?this._listenSlots([this._target]):Eb(this._target).children&&(this._listenSlots(Eb(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(e=>{this._processMutations(e)})):(this._nativeChildrenObserver=new MutationObserver((e=>{this._processMutations(e)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){o_(this._target)?this._unlistenSlots([this._target]):Eb(this._target).children&&(this._unlistenSlots(Eb(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,Wb.run((()=>this.flush())))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let n=e[t];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),n=i_(t,this._effectiveNodes);for(let t,i=0;i<n.length&&(t=n[i]);i++)for(let n,i=0;i<t.removed.length&&(n=t.removed[i]);i++)e.removedNodes.push(n);for(let i,r=0;r<n.length&&(i=n[r]);r++)for(let n=i.index;n<i.index+i.addedCount;n++)e.addedNodes.push(t[n]);this._effectiveNodes=t;let i=!1;return(e.addedNodes.length||e.removedNodes.length)&&(i=!0,this.callback.call(this._target,e)),i}_listenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];o_(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];o_(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}};const s_=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=ty()}while(e||t)},l_=Element.prototype,c_=l_.matches||l_.matchesSelector||l_.mozMatchesSelector||l_.msMatchesSelector||l_.oMatchesSelector||l_.webkitMatchesSelector,d_=function(e,t){return c_.call(e,t)};class u_{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new a_(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if(Eb(this.node).contains(e))return!0;let t=e,n=e.ownerDocument;for(;t&&t!==n&&t!==this.node;)t=Eb(t).parentNode||Eb(t).host;return t===this.node}getOwnerRoot(){return Eb(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?Eb(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=Eb(this.node).assignedSlot;for(;t;)e.push(t),t=Eb(t).assignedSlot;return e}importNode(e,t){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return Eb(n).importNode(e,t)}getEffectiveChildNodes(){return a_.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),n=[];for(let i,r=0,o=t.length;r<o&&(i=t[r]);r++)i.nodeType===Node.ELEMENT_NODE&&d_(i,e)&&n.push(i);return n}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function h_(e,t){for(let n=0;n<t.length;n++){let i=t[n];Object.defineProperty(e,i,{get:function(){return this.node[i]},configurable:!0})}}class p_{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}u_.prototype.cloneNode,u_.prototype.appendChild,u_.prototype.insertBefore,u_.prototype.removeChild,u_.prototype.replaceChild,u_.prototype.setAttribute,u_.prototype.removeAttribute,u_.prototype.querySelector,u_.prototype.querySelectorAll,u_.prototype.parentNode,u_.prototype.firstChild,u_.prototype.lastChild,u_.prototype.nextSibling,u_.prototype.previousSibling,u_.prototype.firstElementChild,u_.prototype.lastElementChild,u_.prototype.nextElementSibling,u_.prototype.previousElementSibling,u_.prototype.childNodes,u_.prototype.children,u_.prototype.classList,u_.prototype.textContent,u_.prototype.innerHTML;let f_=u_;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(u_.prototype).forEach((t=>{"activeElement"!=t&&(e.prototype[t]=u_.prototype[t])})),h_(e.prototype,["classList"]),f_=e,Object.defineProperties(p_.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&m_(e).getOwnerRoot(),n=this.path;for(let e=0;e<n.length;e++){const i=n[e];if(m_(i).getOwnerRoot()===t)return i}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let n=0;n<t.length;n++){let i=t[n];e[i]=function(){return this.node[i].apply(this.node,arguments)}}}(u_.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll","attachShadow"]),h_(u_.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList","shadowRoot"]),function(e,t){for(let n=0;n<t.length;n++){let i=t[n];Object.defineProperty(e,i,{get:function(){return this.node[i]},set:function(e){this.node[i]=e},configurable:!0})}}(u_.prototype,["textContent","innerHTML","className"]);const m_=function(e){if((e=e||document)instanceof f_)return e;if(e instanceof p_)return e;let t=e.__domApi;return t||(t=e instanceof Event?new p_(e):new f_(e),e.__domApi=t),t},g_=window.ShadyDOM,b_=window.ShadyCSS;function v_(e,t){return Eb(e).getRootNode()===t}const y_="disable-upgrade",__=e=>{for(;e;){const t=Object.getOwnPropertyDescriptor(e,"observedAttributes");if(t)return t.get;e=Object.getPrototypeOf(e.prototype).constructor}return()=>[]};db((e=>{const t=Xv(e);let n=__(t);return class extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return n.call(this).concat(y_)}_initializeProperties(){this.hasAttribute(y_)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}attributeChangedCallback(e,t,n,i){e==y_?this.__isUpgradeDisabled&&null==n&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,Eb(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(e,t,n,i)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}}));const w_="disable-upgrade";let k_=window.ShadyCSS;const x_=db((e=>{const t=Ry(Xv(e)),n=Kv?t:Jy(t),i=__(n),r={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class o extends n{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(e,t,n){(this.__dataAttributes&&this.__dataAttributes[e]||e===w_)&&this.attributeChangedCallback(e,t,n,null)}setAttribute(e,t){if(sb&&!this._legacyForceObservedAttributes){const n=this.getAttribute(e);super.setAttribute(e,t),this.__attributeReaction(e,n,String(t))}else super.setAttribute(e,t)}removeAttribute(e){if(sb&&!this._legacyForceObservedAttributes){const t=this.getAttribute(e);super.removeAttribute(e),this.__attributeReaction(e,t,null)}else super.removeAttribute(e)}static get observedAttributes(){return sb&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],this.prototype),this.__observedAttributes):i.call(this).concat(w_)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(e,t,n,i){t!==n&&(e==w_?this.__isUpgradeDisabled&&null==n&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,Eb(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(e,t,n,i),this.attributeChanged(e,t,n)))}attributeChanged(e,t,n){}_initializeProperties(){if(Qg&&this.hasAttribute(w_))this.__isUpgradeDisabled=!0;else{let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),sb&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const e=this.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.__attributeReaction(n.name,null,n.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,n){this._propertyToAttribute(e,t,n)}serializeValueToAttribute(e,t,n){this._valueToNodeAttribute(n||this,e,t)}extend(e,t){if(!e||!t)return e||t;let n=Object.getOwnPropertyNames(t);for(let i,r=0;r<n.length&&(i=n[r]);r++){let n=Object.getOwnPropertyDescriptor(t,i);n&&Object.defineProperty(e,i,n)}return e}mixin(e,t){for(let n in t)e[n]=t[n];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,n){n=n||{},t=null==t?{}:t;let i=new Event(e,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});i.detail=t;let r=n.node||this;return Eb(r).dispatchEvent(i),i}listen(e,t,n){e=e||this;let i=this.__boundListeners||(this.__boundListeners=new WeakMap),r=i.get(e);r||(r={},i.set(e,r));let o=t+n;r[o]||(r[o]=this._addMethodEventListenerToNode(e,t,n,this))}unlisten(e,t,n){e=e||this;let i=this.__boundListeners&&this.__boundListeners.get(e),r=t+n,o=i&&i[r];o&&(this._removeEventListenerFromNode(e,t,o),i[r]=null)}setScrollDirection(e,t){Iy(t||this,r[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=Eb(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=m_(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return m_(this).getEffectiveChildNodes()}queryDistributedElements(e){return m_(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let n,i=0;n=e[i];i++)n.nodeType!==Node.COMMENT_NODE&&t.push(n.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?m_(t).getDistributedNodes():[]}getContentChildren(e){let t=this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}));return t}isLightDescendant(e){const t=this;return t!==e&&Eb(t).contains(e)&&Eb(t).getRootNode()===Eb(e).getRootNode()}isLocalDescendant(e){return this.root===Eb(e).getRootNode()}scopeSubtree(e,t=!1){return function(e,t=!1){if(!g_||!b_)return null;if(!g_.handlesDynamicScoping)return null;const n=b_.ScopingShim;if(!n)return null;const i=n.scopeForNode(e),r=Eb(e).getRootNode(),o=e=>{if(!v_(e,r))return;const t=Array.from(g_.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const o=t[e];if(!v_(o,r))continue;const a=n.currentScopeForNode(o);a!==i&&(""!==a&&n.unscopeNode(o,a),n.scopeNode(o,i))}};if(o(e),t){const t=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.addedNodes.length;e++){const t=n.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&o(t)}}}));return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,t)}getComputedStyleValue(e){return k_.getComputedStyleValue(this,e)}debounce(e,t,n){return this._debouncers=this._debouncers||{},this._debouncers[e]=Zv.debounce(this._debouncers[e],n>0?Yb.after(n):Wb,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?Yb.run(e.bind(this),t):~Wb.run(e.bind(this))}cancelAsync(e){e<0?Wb.cancel(~e):Yb.cancel(e)}create(e,t){let n=document.createElement(e);if(t)if(n.setProperties)n.setProperties(t);else for(let e in t)n[e]=t[e];return n}elementMatches(e,t){return d_(t||this,e)}toggleAttribute(e,t){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(t=!n.hasAttribute(e)),t?(Eb(n).setAttribute(e,""),!0):(Eb(n).removeAttribute(e),!1)}toggleClass(e,t,n){n=n||this,1==arguments.length&&(t=!n.classList.contains(e)),t?n.classList.add(e):n.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,n,i){i=i||this,this.transform("translate3d("+e+","+t+","+n+")",i)}arrayDelete(e,t){let n;if(Array.isArray(e)){if(n=e.indexOf(t),n>=0)return e.splice(n,1)}else{if(n=Db(this,e).indexOf(t),n>=0)return this.splice(e,n,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return o.prototype.is="",o})),C_={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},S_={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},E_=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},S_);function T_(e,t,n,i){!function(e,t,n){const i=e._noAccessors,r=Object.getOwnPropertyNames(e);for(let o=0;o<r.length;o++){let a=r[o];if(!(a in n))if(i)t[a]=e[a];else{let n=Object.getOwnPropertyDescriptor(e,a);n&&(n.configurable=!0,Object.defineProperty(t,a,n))}}}(t,e,i);for(let e in C_)t[e]&&(n[e]=n[e]||[],n[e].push(t[e]))}function A_(e,t,n){t=t||[];for(let i=e.length-1;i>=0;i--){let r=e[i];r?Array.isArray(r)?A_(r,t):t.indexOf(r)<0&&(!n||n.indexOf(r)<0)&&t.unshift(r):console.warn("behavior is null, check for missing or 404 import")}return t}function P_(e,t){for(const n in t){const i=e[n],r=t[n];e[n]=!("value"in r)&&i&&"value"in i?Object.assign({value:i.value},r):r}}const M_=x_(HTMLElement);function I_(e,t,n){let i;const r={};class o extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(i)for(let e,t=0;t<i.length;t++)e=i[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(i)for(let e=0;e<i.length;e++)P_(t,i[e].properties);return P_(t,e.properties),t}static get observers(){let t=[];if(i)for(let e,n=0;n<i.length;n++)e=i[n],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=r.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=o.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered(),Qg&&a(e);const t=Object.getPrototypeOf(this);let n=r.beforeRegister;if(n)for(let e=0;e<n.length;e++)n[e].call(t);if(n=r.registered,n)for(let e=0;e<n.length;e++)n[e].call(t)}}_applyListeners(){super._applyListeners();const e=r.listeners;if(e)for(let t=0;t<e.length;t++){const n=e[t];if(n)for(let e in n)this._addMethodEventListenerToNode(this,e,n[e])}}_ensureAttributes(){const e=r.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e in n)this._ensureAttribute(e,n[e])}super._ensureAttributes()}ready(){super.ready();let e=r.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=r.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=r.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,n){super.attributeChanged();let i=r.attributeChanged;if(i)for(let r=0;r<i.length;r++)i[r].call(this,e,t,n)}}if(n){Array.isArray(n)||(n=[n]);let e=t.prototype.behaviors;i=A_(n,null,e),o.prototype.behaviors=e?e.concat(n):i}const a=t=>{i&&function(e,t,n){for(let i=0;i<t.length;i++)T_(e,t[i],n,E_)}(t,i,r),T_(t,e,r,S_)};return Qg||a(o.prototype),o.generatedFrom=e,o}const q_=function(e){let t;return t="function"==typeof e?e:q_.Class(e),e._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(t.is,t),t};function N_(e,t,n,i,r){let o;r&&(o="object"==typeof n&&null!==n,o&&(i=e.__dataTemp[t]));let a=i!==n&&(i==i||n==n);return o&&a&&(e.__dataTemp[t]=n),a}q_.Class=function(e,t){e||console.warn("Polymer.Class requires `info` argument");let n=t?t(M_):M_;return n=I_(e,n,e.behaviors),n.is=n.prototype.is=e.is,n};const D_=db((e=>class extends e{_shouldPropertyChange(e,t,n){return N_(this,e,t,n,!0)}})),O_=db((e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,n){return N_(this,e,t,n,this.mutableData)}}));D_._mutablePropertyChange=N_;let L_=null;function $_(){return L_}$_.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:$_,writable:!0}});const R_=Yv($_),z_=D_(R_);const j_=Yv(class{});function B_(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(Boolean(e)!=Boolean(i.__hideTemplateChildren__))if(i.nodeType===Node.TEXT_NODE)e?(i.__polymerTextContent__=i.textContent,i.textContent=""):i.textContent=i.__polymerTextContent__;else if("slot"===i.localName)if(e)i.__polymerReplaced__=document.createComment("hidden-slot"),Eb(Eb(i).parentNode).replaceChild(i.__polymerReplaced__,i);else{const e=i.__polymerReplaced__;e&&Eb(Eb(e).parentNode).replaceChild(i,e)}else i.style&&(e?(i.__polymerDisplay__=i.style.display,i.style.display="none"):i.style.display=i.__polymerDisplay__);i.__hideTemplateChildren__=e,i._showHideChildren&&i._showHideChildren(e)}}class H_ extends j_{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(e&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,(e=>{e.model=this,n(e)}));else{let i=this.__dataHost.__dataHost;i&&i._addEventListenerToNode(e,t,n)}}_showHideChildren(e){B_(e,this.children)}_setUnmanagedPropertyToNode(e,t,n){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(e,t,n)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}H_.prototype.__dataHost,H_.prototype.__templatizeOptions,H_.prototype._methodHost,H_.prototype.__templatizeOwner,H_.prototype.__hostProps;const U_=D_(H_);function F_(e){let t=e.__dataHost;return t&&t._methodHost||t}function V_(e,t,n){let i=n.mutableData?U_:H_;J_.mixin&&(i=J_.mixin(i));let r=class extends i{};return r.prototype.__templatizeOptions=n,r.prototype._bindTemplate(e),function(e,t,n,i){let r=n.hostProps||{};for(let t in i.instanceProps){delete r[t];let n=i.notifyInstanceProp;n&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:W_(t,n)})}if(i.forwardHostProp&&t.__dataHost)for(let t in r)n.hasHostProps||(n.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,n){e.__dataHost._setPendingPropertyOrPath("_host_"+t,n[t],!0,!0)}})}(r,e,t,n),r}function G_(e,t,n,i){let r=n.forwardHostProp;if(r&&t.hasHostProps){const o="template"==e.localName;let a=t.templatizeTemplateClass;if(!a){if(o){let e=n.mutableData?z_:R_;class i extends e{}a=t.templatizeTemplateClass=i}else{const n=e.constructor;class i extends n{}a=t.templatizeTemplateClass=i}let s=t.hostProps;for(let e in s)a.prototype._addPropertyEffect("_host_"+e,a.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:Y_(e,r)}),a.prototype._createNotifyingProperty("_host_"+e);eb&&i&&function(e,t,n){const i=n.constructor._properties,{propertyEffects:r}=e,{instanceProps:o}=t;for(let e in r)if(!(i[e]||o&&o[e])){const t=r[e];for(let n=0;n<t.length;n++){const{part:i}=t[n].info;if(!i.signature||!i.signature.static){console.warn(`Property '${e}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}(t,n,i)}if(e.__dataProto&&Object.assign(e.__data,e.__dataProto),o)!function(e,t){L_=e,Object.setPrototypeOf(e,t.prototype),new t,L_=null}(e,a),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties();else{Object.setPrototypeOf(e,a.prototype);const n=t.hostProps;for(let t in n)if(t="_host_"+t,t in e){const n=e[t];delete e[t],e.__data[t]=n}}}}function Y_(e,t){return function(e,n,i){t.call(e.__templatizeOwner,n.substring("_host_".length),i[n])}}function W_(e,t){return function(e,n,i){t.call(e.__templatizeOwner,e,n,i[n])}}function J_(e,t,n){if(Xg&&!F_(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let i=(t?t.constructor:H_)._parseTemplate(e),r=i.templatizeInstanceClass;r||(r=V_(e,i,n),i.templatizeInstanceClass=r);const o=F_(e);G_(e,i,n,o);let a=class extends r{};return a.prototype._methodHost=o,a.prototype.__dataHost=e,a.prototype.__templatizeOwner=t,a.prototype.__hostProps=i.hostProps,a}let K_=!1;function X_(){if(Qg&&!Gg){if(!K_){K_=!0;const e=document.createElement("style");e.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(e)}return!0}return!1}const Z_=Ry(O_(Yv(HTMLElement)));customElements.define("dom-bind",class extends Z_{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),Xg)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,n,i){this.mutableData=!0}connectedCallback(){X_()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){Eb(Eb(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver((()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()}));return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});const Q_=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:e=>e});class ew{constructor(e,t){iw(e,t);const n=t.reduce(((t,n,i)=>t+tw(n)+e[i+1]),e[0]);this.value=n.toString()}toString(){return this.value}}function tw(e){if(e instanceof ew)return e.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${e}`)}const nw=function(e,...t){iw(e,t);const n=document.createElement("template");let i=t.reduce(((t,n,i)=>t+function(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof ew)return tw(e);throw new Error(`non-template value passed to Polymer's html function: ${e}`)}(n)+e[i+1]),e[0]);return Q_&&(i=Q_.createHTML(i)),n.innerHTML=i,n},iw=(e,t)=>{if(!Array.isArray(e)||!Array.isArray(e.raw)||t.length!==e.length-1)throw new TypeError("Invalid call to the html template tag")},rw=Xv(HTMLElement),ow=O_(rw);class aw extends ow{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!ab,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),X_()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=Eb(Eb(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}let n={};n[this.as]=!0,n[this.indexAs]=!0,n[this.itemsIndexAs]=!0,this.__ctor=J_(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:n,forwardHostProp:function(e,t){let n=this.__instances;for(let i,r=0;r<n.length&&(i=n[r]);r++)i.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,n){if(function(e,t){return e===t||Pb(e,t)||Mb(e,t)}(this.as,t)){let i=e[this.itemsIndexAs];t==this.as&&(this.items[i]=n);let r=Ib(this.as,`${JSCompiler_renameProperty("items",this)}.${i}`,t);this.notifyPath(r,n)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,n=this.__getMethodHost();return function(){return n[t].apply(n,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let n=0;n<t.length;n++)0===e.indexOf(t[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||("items"===e.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=Zv.debounce(this.__renderDebouncer,t>0?Yb.after(t):Wb,e.bind(this)),ey(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),s_()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),n=this.__calculateLimit(t.length);this.__updateInstances(e,n,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>{this.__chunkingId=null,this.__continueChunking()}))),this._setRenderedItemCount(this.__instances.length),ab&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=n;return this.__filterFn&&(t=t.filter(((t,n,i)=>this.__filterFn(e[t],n,i)))),this.__sortFn&&t.sort(((t,n)=>this.__sortFn(e[t],e[n]))),t}__calculateLimit(e){let t=e;const n=this.__instances.length;if(this.initialCount){let i;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),i=Math.max(t-n,0),this.__chunkCount=i||1):(i=Math.min(Math.max(e-n,0),this.__chunkCount),t=Math.min(n+i,e)),this.__shouldMeasureChunk=i===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,n){const i=this.__itemsIdxToInstIdx={};let r;for(r=0;r<t;r++){let t=this.__instances[r],o=n[r],a=e[o];i[o]=r,t?(t._setPendingProperty(this.as,a),t._setPendingProperty(this.indexAs,r),t._setPendingProperty(this.itemsIndexAs,o),t._flushProperties()):this.__insertInstance(a,r,o)}for(let e=this.__instances.length-1;e>=r;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const n=Eb(t.root);for(let e=0;e<t.children.length;e++){let i=t.children[e];n.appendChild(i)}return t}__attachInstance(e,t){let n=this.__instances[e];t.insertBefore(n.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,n){let i={};return i[this.as]=e,i[this.indexAs]=t,i[this.itemsIndexAs]=n,new this.__ctor(i)}__insertInstance(e,t,n){const i=this.__stampInstance(e,t,n);let r=this.__instances[t+1],o=r?r.children[0]:this;return Eb(Eb(this).parentNode).insertBefore(i.root,o),this.__instances[t]=i,i}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let n=e.slice(6),i=n.indexOf("."),r=i<0?n:n.substring(0,i);if(r==parseInt(r,10)){let e=i<0?"":n.substring(i+1);this.__handleObservedPaths(e);let o=this.__itemsIdxToInstIdx[r],a=this.__instances[o];if(a){let n=this.as+(e?"."+e:"");a._setPendingPropertyOrPath(n,t,!1,!0),a._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return function(e,t){let n;for(;t;)if(n=t.__dataHost?t:t.__templatizeInstance){if(n.__dataHost==e)return n;t=n.__dataHost}else t=Eb(t).parentNode;return null}(this.template,e)}}customElements.define(aw.is,aw);class sw extends rw{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=Zv.debounce(this.__renderDebouncer,Wb,(()=>this.__render())),ey(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=Eb(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Eb(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),X_()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:Eb(e).querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!Eb(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=Eb(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length){if(Eb(this).previousSibling!==t[t.length-1])for(let n,i=0;i<t.length&&(n=t[i]);i++)Eb(e).insertBefore(n,this)}}else{if(!e)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){s_()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),ab&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}const lw=ob?class extends sw{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(Xg&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const n=t._bindTemplate(this.__template,!0);n.runEffects=(e,t,n)=>{let i=this.__syncInfo;if(this.if)i&&(this.__syncInfo=null,this._showHideChildren(),t=Object.assign(i.changedProps,t)),e(t,n);else if(this.__instance)if(i||(i=this.__syncInfo={runEffects:e,changedProps:{}}),n)for(const e in t){const t=Ab(e);i.changedProps[t]=this.__dataHost[t]}else Object.assign(i.changedProps,t)},this.__instance=t._stampTemplate(this.__template,n),Eb(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,B_(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}:class extends sw{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=J_(this.__template,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Ab(e)]=!0))}})),this.__instance=new this.__ctor,Eb(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=Eb(e[0]).parentNode;if(t){t=Eb(t);for(let n,i=0;i<e.length&&(n=e[i]);i++)t.removeChild(n)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}};customElements.define(lw.is,lw);let cw=db((e=>{let t=Xv(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let n=t.path;if(n==JSCompiler_renameProperty("items",this)){let n=t.base||[],i=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),i){let e=i_(n,i);this.__applySplices(e)}this.__lastItems=n,this.__lastMulti=e}else if(t.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(t.value.indexSplices);else{let e=n.slice(`${JSCompiler_renameProperty("items",this)}.`.length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let n=0;n<e.length;n++){let i=e[n];t.forEach(((e,n)=>{e<i.index||(e>=i.index+i.removed.length?t.set(n,e+i.addedCount-i.removed.length):t.set(n,-1))}));for(let e=0;e<i.addedCount;e++){let n=i.index+e;t.has(this.items[n])&&t.set(this.items[n],n)}}this.__updateLinks();let n=0;t.forEach(((e,i)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,t.delete(i)):n++}))}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach((t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)}))}else this.__selectedMap.forEach((e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)}))}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach(((n,i)=>{t==e++&&this.deselect(i)}))}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let n;this.__selectedMap.delete(e),this.multi&&(n=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}})),dw=cw(rw);class uw extends dw{static get is(){return"array-selector"}static get template(){return null}}customElements.define(uw.is,uw);const hw=new Lg;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,n){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,n){},styleSubtree(e,t){hw.processStyles(),hg(e,t)},styleElement(e){hw.processStyles()},styleDocument(e){hw.processStyles(),hg(document.body,e)},getComputedStyleValue:(e,t)=>pg(e,t),flushCustomStyles(){},nativeCss:jm,nativeShadow:Om,cssBuild:$m,disableRuntime:zm}),window.ShadyCSS.CustomStyleInterface=hw;const pw="include",fw=window.ShadyCSS.CustomStyleInterface;class mw extends HTMLElement{constructor(){super(),this._style=null,fw.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute(pw);return t&&(e.removeAttribute(pw),e.textContent=function(e){let t=e.trim().split(/\s+/),n="";for(let e=0;e<t.length;e++)n+=Sb(t[e]);return n}(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",mw),x_(HTMLElement).prototype;const gw=q_({_template:nw`
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){gw.instance||(gw.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(e){this._text="",this.async((function(){this._text=e}),this.timeout)},_onIronAnnounce:function(e){e.detail&&e.detail.text&&this.announce(e.detail.text)}});gw.instance=null,gw.requestAvailability=function(){gw.instance||(gw.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(gw.instance):document.addEventListener("load",(function(){document.body.appendChild(gw.instance)}))};class bw{constructor(e){bw[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)}get value(){var e=this.type,t=this.key;if(e&&t)return bw.types[e]&&bw.types[e][t]}set value(e){var t=this.type,n=this.key;t&&n&&(t=bw.types[t]=bw.types[t]||{},null==e?delete t[n]:t[n]=e)}get list(){if(this.type){var e=bw.types[this.type];return e?Object.keys(e).map((function(e){return vw[this.type][e]}),this):[]}}byKey(e){return this.key=e,this.value}}bw[" "]=function(){},bw.types={};var vw=bw.types;q_({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(e,t,n){var i=new bw({type:e,key:t});return void 0!==n&&n!==i.value?i.value=n:this.value!==i.value&&(this.value=i.value),i},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(e){e&&(this.value=this)},byKey:function(e){return new bw({type:this.type,key:e}).value}});let yw=null;const _w={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){yw=new bw({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return yw&&yw.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(e){return void 0===e&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(e),!this.invalid},_getValidity:function(e){return!this.hasValidator()||this._validator.validate(e)}};q_({_template:nw`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot id="content"></slot>
`,is:"iron-input",behaviors:[_w],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){gw.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=m_(this).observeNodes(function(e){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(m_(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else if("number"===this.inputElement.type)e=/[0-9.,e-]/;return e},_bindValueChanged:function(e,t){t&&(void 0===e?t.value=null:e!==t.value&&(this.inputElement.value=e),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:e}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,n=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||e.keyCode>32&&e.keyCode<41||e.keyCode>111&&e.keyCode<124;return!(t||0==e.charCode&&n)},_onKeypress:function(e){if(this.allowedPattern||"number"===this.inputElement.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(n)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.inputElement.value.length;t++)if(!e.test(this.inputElement.value[t]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var e=this.inputElement.checkValidity();return e&&(this.required&&""===this.bindValue?e=!1:this.hasValidator()&&(e=_w.validate.call(this,this.bindValue))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})},_computeValue:function(e){return e}});class ww extends pe{static get properties(){return{hideAlpha:{type:Boolean,reflect:!0},hideColorPicker:{type:Boolean,reflect:!0}}}constructor(){super(),this._controlPointCollection=void 0,this._controlPoint=void 0,this.hideAlpha=!1,this.hideColorPicker=!1}set controlPoint(t){e.defined(this._controlPoint)&&this._controlPoint.modified.removeEventListener(ww.prototype._syncWithControlPoint,this),e.defined(t)&&t.modified.addEventListener(ww.prototype._syncWithControlPoint,this),this._controlPoint=t,this.requestUpdate()}set controlPointCollection(t){e.defined(this._controlPointCollection)&&this._controlPointCollection.modified.removeEventListener(ww.prototype._setDeleteEnabled,this),e.defined(t)&&t.modified.addEventListener(ww.prototype._setDeleteEnabled,this),this._controlPointCollection=t}_setDeleteEnabled(){this.shadowRoot.querySelector("button").disabled=this._controlPointCollection.controlPoints.length<3}_deleteControlPoint(){const e=this._controlPoint;e.modified.removeEventListener(ww.prototype._syncWithControlPoint,this),this._controlPointCollection.remove(e),this._controlPoint=void 0}_syncWithControlPoint(){this.shadowRoot.querySelector("input").value=this._controlPoint.truncatedPosition}_handleColorChange(e){this._controlPoint.color=e.detail.value}_handlePositionChanged(){const e=parseFloat(this.shadowRoot.querySelector("input").value);isNaN(e)||this._controlPoint.position===e||(this._controlPoint.position=e),this._syncWithControlPoint()}static get styles(){return[Ud,p`
        :host {
          display: block;
          width: 100%;
          padding: 0.2rem;
        }

        cesium-color-picker {
          vertical-align: middle;
        }
        cesium-color-picker[hidden] {
          visibility: hidden;
        }

        button {
          color: var(--widgets-text-color-secondary);
        }

        input {
          width: 5rem;
          font-size: 9pt;
        }
      `]}render(){const t=this._controlPoint;if(!e.defined(t))return G`<div></div>`;const n=this._controlPointCollection,i=n.maximum-n.minimum,r=Math.floor(Math.log10(i)),o=Math.pow(10,r-1),a=n.controlPoints.length;return G`
      <cesium-color-picker
        @change=${this._handleColorChange}
        .value=${t.color}
        ?hidden=${this.hideColorPicker}
        ?hideAlpha=${this.hideAlpha}
      ></cesium-color-picker>
      <input
        type="number"
        value=${t.truncatedPosition}
        step=${o}
        @change=${this._handlePositionChanged}
      />
      <button @click="${this._deleteControlPoint}" ?hidden=${a<=2}>
        <cesium-icon name="trash" alt="Delete"></cesium-icon>
      </button>
    `}firstUpdated(){e.defined(this._controlPointCollection)&&this._setDeleteEnabled()}updated(){e.defined(this._controlPoint)&&this._syncWithControlPoint()}}function kw(e){return e}customElements.define("cesium-control-point-editor",ww);var xw=1,Cw=2,Sw=3,Ew=4,Tw=1e-6;function Aw(e){return"translate("+e+",0)"}function Pw(e){return"translate(0,"+e+")"}function Mw(e){return t=>+e(t)}function Iw(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function qw(){return!this.__axis}function Nw(e,t){var n=[],i=null,r=null,o=6,a=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=e===xw||e===Ew?-1:1,d=e===Ew||e===Cw?"x":"y",u=e===xw||e===Sw?Aw:Pw;function h(h){var p=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,f=null==r?t.tickFormat?t.tickFormat.apply(t,n):kw:r,m=Math.max(o,0)+s,g=t.range(),b=+g[0]+l,v=+g[g.length-1]+l,y=(t.bandwidth?Iw:Mw)(t.copy(),l),_=h.selection?h.selection():h,w=_.selectAll(".domain").data([null]),k=_.selectAll(".tick").data(p,t).order(),x=k.exit(),C=k.enter().append("g").attr("class","tick"),S=k.select("line"),E=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(C),S=S.merge(C.append("line").attr("stroke","currentColor").attr(d+"2",c*o)),E=E.merge(C.append("text").attr("fill","currentColor").attr(d,c*m).attr("dy",e===xw?"0em":e===Sw?"0.71em":"0.32em")),h!==_&&(w=w.transition(h),k=k.transition(h),S=S.transition(h),E=E.transition(h),x=x.transition(h).attr("opacity",Tw).attr("transform",(function(e){return isFinite(e=y(e))?u(e+l):this.getAttribute("transform")})),C.attr("opacity",Tw).attr("transform",(function(e){var t=this.parentNode.__axis;return u((t&&isFinite(t=t(e))?t:y(e))+l)}))),x.remove(),w.attr("d",e===Ew||e===Cw?a?"M"+c*a+","+b+"H"+l+"V"+v+"H"+c*a:"M"+l+","+b+"V"+v:a?"M"+b+","+c*a+"V"+l+"H"+v+"V"+c*a:"M"+b+","+l+"H"+v),k.attr("opacity",1).attr("transform",(function(e){return u(y(e)+l)})),S.attr(d+"2",c*o),E.attr(d,c*m).text(f),_.filter(qw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Cw?"start":e===Ew?"end":"middle"),_.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(i=null==e?null:Array.from(e),h):i&&i.slice()},h.tickFormat=function(e){return arguments.length?(r=e,h):r},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h.offset=function(e){return arguments.length?(l=+e,h):l},h}function Dw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ow(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lw(e){let t,n,i;function r(e,i,r=0,o=e.length){if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<0?r=t+1:o=t}while(r<o)}return r}return 2!==e.length?(t=Dw,n=(t,n)=>Dw(e(t),n),i=(t,n)=>e(t)-n):(t=e===Dw||e===Ow?e:$w,n=e,i=e),{left:r,center:function(e,t,n=0,o=e.length){const a=r(e,t,n,o-1);return a>n&&i(e[a-1],t)>-i(e[a],t)?a-1:a},right:function(e,i,r=0,o=e.length){if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<=0?r=t+1:o=t}while(r<o)}return r}}}function $w(){return 0}const Rw=Lw(Dw).right;Lw((function(e){return null===e?NaN:+e})).center;var zw=Rw;const jw=Math.sqrt(50),Bw=Math.sqrt(10),Hw=Math.sqrt(2);function Uw(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=jw?10:o>=Bw?5:o>=Hw?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Uw(e,t,2*n):[s,l,c]}function Fw(e,t,n){return Uw(e=+e,t=+t,n=+n)[2]}function Vw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Gw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yw(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ww(){}var Jw=.7,Kw=1/Jw,Xw="\\s*([+-]?\\d+)\\s*",Zw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ek=/^#([0-9a-f]{3,8})$/,tk=new RegExp(`^rgb\\(${Xw},${Xw},${Xw}\\)$`),nk=new RegExp(`^rgb\\(${Qw},${Qw},${Qw}\\)$`),ik=new RegExp(`^rgba\\(${Xw},${Xw},${Xw},${Zw}\\)$`),rk=new RegExp(`^rgba\\(${Qw},${Qw},${Qw},${Zw}\\)$`),ok=new RegExp(`^hsl\\(${Zw},${Qw},${Qw}\\)$`),ak=new RegExp(`^hsla\\(${Zw},${Qw},${Qw},${Zw}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lk(){return this.rgb().formatHex()}function ck(){return this.rgb().formatRgb()}function dk(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ek.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?uk(t):3===n?new fk(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?hk(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?hk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tk.exec(e))?new fk(t[1],t[2],t[3],1):(t=nk.exec(e))?new fk(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ik.exec(e))?hk(t[1],t[2],t[3],t[4]):(t=rk.exec(e))?hk(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ok.exec(e))?_k(t[1],t[2]/100,t[3]/100,1):(t=ak.exec(e))?_k(t[1],t[2]/100,t[3]/100,t[4]):sk.hasOwnProperty(e)?uk(sk[e]):"transparent"===e?new fk(NaN,NaN,NaN,0):null}function uk(e){return new fk(e>>16&255,e>>8&255,255&e,1)}function hk(e,t,n,i){return i<=0&&(e=t=n=NaN),new fk(e,t,n,i)}function pk(e,t,n,i){return 1===arguments.length?function(e){return e instanceof Ww||(e=dk(e)),e?new fk((e=e.rgb()).r,e.g,e.b,e.opacity):new fk}(e):new fk(e,t,n,null==i?1:i)}function fk(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function mk(){return`#${yk(this.r)}${yk(this.g)}${yk(this.b)}`}function gk(){const e=bk(this.opacity);return`${1===e?"rgb(":"rgba("}${vk(this.r)}, ${vk(this.g)}, ${vk(this.b)}${1===e?")":`, ${e})`}`}function bk(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vk(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yk(e){return((e=vk(e))<16?"0":"")+e.toString(16)}function _k(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kk(e,t,n,i)}function wk(e){if(e instanceof kk)return new kk(e.h,e.s,e.l,e.opacity);if(e instanceof Ww||(e=dk(e)),!e)return new kk;if(e instanceof kk)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new kk(a,s,l,e.opacity)}function kk(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function xk(e){return(e=(e||0)%360)<0?e+360:e}function Ck(e){return Math.max(0,Math.min(1,e||0))}function Sk(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Gw(Ww,dk,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wk(this).formatHsl()},formatRgb:ck,toString:ck}),Gw(fk,pk,Yw(Ww,{brighter(e){return e=null==e?Kw:Math.pow(Kw,e),new fk(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Jw:Math.pow(Jw,e),new fk(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fk(vk(this.r),vk(this.g),vk(this.b),bk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mk,formatHex:mk,formatHex8:function(){return`#${yk(this.r)}${yk(this.g)}${yk(this.b)}${yk(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:gk,toString:gk})),Gw(kk,(function(e,t,n,i){return 1===arguments.length?wk(e):new kk(e,t,n,null==i?1:i)}),Yw(Ww,{brighter(e){return e=null==e?Kw:Math.pow(Kw,e),new kk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Jw:Math.pow(Jw,e),new kk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new fk(Sk(e>=240?e-240:e+120,r,i),Sk(e,r,i),Sk(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new kk(xk(this.h),Ck(this.s),Ck(this.l),bk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bk(this.opacity);return`${1===e?"hsl(":"hsla("}${xk(this.h)}, ${100*Ck(this.s)}%, ${100*Ck(this.l)}%${1===e?")":`, ${e})`}`}}));var Ek=e=>()=>e;function Tk(e){return 1==(e=+e)?Ak:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):Ek(isNaN(t)?n:t)}}function Ak(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ek(isNaN(e)?t:e)}var Pk=function e(t){var n=Tk(t);function i(e,t){var i=n((e=pk(e)).r,(t=pk(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=Ak(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function Mk(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Ik(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Rk(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}function qk(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Nk(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dk(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=Rk(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var Ok=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lk=new RegExp(Ok.source,"g");function $k(e,t){var n,i,r,o=Ok.lastIndex=Lk.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Ok.exec(e))&&(i=Lk.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Nk(n,i)})),o=Lk.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function Rk(e,t){var n,i=typeof t;return null==t||"boolean"===i?Ek(t):("number"===i?Nk:"string"===i?(n=dk(t))?(t=n,Pk):$k:t instanceof dk?Pk:t instanceof Date?qk:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Mk:Array.isArray(t)?Ik:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Dk:Nk)(e,t)}function zk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jk(e){return+e}var Bk=[0,1];function Hk(e){return e}function Uk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Fk(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=Uk(r,i),o=n(a,o)):(i=Uk(i,r),o=n(o,a)),function(e){return o(i(e))}}function Vk(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Uk(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=zw(e,t,1,i)-1;return o[n](r[n](t))}}function Gk(){var e,t,n,i,r,o,a=Bk,s=Bk,l=Rk,c=Hk;function d(){var e=Math.min(a.length,s.length);return c!==Hk&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),i=e>2?Vk:Fk,r=o=null,u}function u(t){return null==t||isNaN(t=+t)?n:(r||(r=i(a.map(e),s,l)))(e(c(t)))}return u.invert=function(n){return c(t((o||(o=i(s,a.map(e),Nk)))(n)))},u.domain=function(e){return arguments.length?(a=Array.from(e,jk),d()):a.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=zk,d()},u.clamp=function(e){return arguments.length?(c=!!e||Hk,d()):c!==Hk},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,i){return e=n,t=i,d()}}function Yk(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Wk(e){return(e=Yk(Math.abs(e)))?e[1]:NaN}var Jk,Kk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xk(e){if(!(t=Kk.exec(e)))throw new Error("invalid format: "+e);var t;return new Zk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Zk(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Qk(e,t){var n=Yk(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Xk.prototype=Zk.prototype,Zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ex={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qk(100*e,t),r:Qk,s:function(e,t){var n=Yk(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Jk=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Yk(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tx(e){return e}var nx,ix,rx,ox=Array.prototype.map,ax=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sx(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?tx:(t=ox.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?tx:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ox.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Xk(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,b=e.trim,v=e.type;"n"===v?(m=!0,v="g"):ex[v]||(void 0===g&&(g=12),b=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?l:"",w=ex[v],k=/[defgprs%]/.test(v);function x(e){var r,o,l,h=y,x=_;if("c"===v)x=w(e)+x,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==u&&(C=!1),h=(C?"("===u?u:c:"-"===u||"("===u?"":u)+h,x=("s"===v?ax[8+Jk/3]:"")+x+(C&&"("===u?")":""),k)for(r=-1,o=e.length;++r<o;)if(48>(l=e.charCodeAt(r))||l>57){x=(46===l?a+e.slice(r+1):e.slice(r))+x,e=e.slice(0,r);break}}m&&!p&&(e=i(e,1/0));var S=h.length+e.length+x.length,E=S<f?new Array(f-S+1).join(t):"";switch(m&&p&&(e=i(E+e,E.length?f-x.length:1/0),E=""),n){case"<":e=h+e+x+E;break;case"=":e=h+E+e+x;break;case"^":e=E.slice(0,S=E.length>>1)+h+e+x+E.slice(S);break;default:e=E+h+e+x}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:u,formatPrefix:function(e,t){var n=u(((e=Xk(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Wk(t)/3))),r=Math.pow(10,-i),o=ax[8+i/3];return function(e){return n(r*e)+o}}}}function lx(e,t,n,i){var r,o=function(e,t,n){n=+n;const i=(t=+t)<(e=+e),r=i?Fw(t,e,n):Fw(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}(e,t,n);switch((i=Xk(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wk(t)/3)))-Wk(Math.abs(e)))}(o,a))||(i.precision=r),rx(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wk(t)-Wk(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-Wk(Math.abs(e)))}(o))||(i.precision=r-2*("%"===i.type))}return ix(i)}function cx(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const i=t<e,[r,o,a]=i?Uw(t,e,n):Uw(e,t,n);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let e=0;e<s;++e)l[e]=(o-e)/-a;else for(let e=0;e<s;++e)l[e]=(o-e)*a;else if(a<0)for(let e=0;e<s;++e)l[e]=(r+e)/-a;else for(let e=0;e<s;++e)l[e]=(r+e)*a;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return lx(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],d=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);d-- >0;){if((r=Fw(l,c,n))===i)return o[a]=l,o[s]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function dx(){var e=Gk()(Hk,Hk);return e.copy=function(){return t=e,dx().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},Vw.apply(e,arguments),cx(e)}!function(e){nx=sx(e),ix=nx.format,rx=nx.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var ux="http://www.w3.org/1999/xhtml",hx={svg:"http://www.w3.org/2000/svg",xhtml:ux,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function px(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),hx.hasOwnProperty(t)?{space:hx[t],local:e}:e}function fx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ux&&t.documentElement.namespaceURI===ux?t.createElement(e):t.createElementNS(n,e)}}function mx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gx(e){var t=px(e);return(t.local?mx:fx)(t)}function bx(){}function vx(e){return null==e?bx:function(){return this.querySelector(e)}}function yx(){return[]}function _x(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function wx(e){return function(t){return t.matches(e)}}var kx=Array.prototype.find;function xx(){return this.firstElementChild}var Cx=Array.prototype.filter;function Sx(){return Array.from(this.children)}function Ex(e){return new Array(e.length)}function Tx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ax(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Tx(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function Px(e,t,n,i,r,o,a){var s,l,c,d=new Map,u=t.length,h=o.length,p=new Array(u);for(s=0;s<u;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",d.has(c)?r[s]=l:d.set(c,l));for(s=0;s<h;++s)c=a.call(e,o[s],s,o)+"",(l=d.get(c))?(i[s]=l,l.__data__=o[s],d.delete(c)):n[s]=new Tx(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&d.get(p[s])===l&&(r[s]=l)}function Mx(e){return e.__data__}function Ix(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function qx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Nx(e){return function(){this.removeAttribute(e)}}function Dx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ox(e,t){return function(){this.setAttribute(e,t)}}function Lx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Rx(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jx(e){return function(){this.style.removeProperty(e)}}function Bx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Hx(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Ux(e){return function(){delete this[e]}}function Fx(e,t){return function(){this[e]=t}}function Vx(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Gx(e){return e.trim().split(/^|\s+/)}function Yx(e){return e.classList||new Wx(e)}function Wx(e){this._node=e,this._names=Gx(e.getAttribute("class")||"")}function Jx(e,t){for(var n=Yx(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Kx(e,t){for(var n=Yx(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Xx(e){return function(){Jx(this,e)}}function Zx(e){return function(){Kx(this,e)}}function Qx(e,t){return function(){(t.apply(this,arguments)?Jx:Kx)(this,e)}}function eC(){this.textContent=""}function tC(e){return function(){this.textContent=e}}function nC(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function iC(){this.innerHTML=""}function rC(e){return function(){this.innerHTML=e}}function oC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function aC(){this.nextSibling&&this.parentNode.appendChild(this)}function sC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lC(){return null}function cC(){var e=this.parentNode;e&&e.removeChild(this)}function dC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hC(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function pC(e,t,n){return function(){var i,r=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=t);this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fC(e,t,n){var i=zx(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function mC(e,t){return function(){return fC(this,e,t)}}function gC(e,t){return function(){return fC(this,e,t.apply(this,arguments))}}Tx.prototype={constructor:Tx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Wx.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bC=[null];function vC(e,t){this._groups=e,this._parents=t}function yC(e){return"string"==typeof e?new vC([[document.querySelector(e)]],[document.documentElement]):new vC([[e]],bC)}vC.prototype={constructor:vC,select:function(e){"function"!=typeof e&&(e=vx(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,c=i[r]=new Array(l),d=0;d<l;++d)(o=s[d])&&(a=e.call(o,o.__data__,d,s))&&("__data__"in o&&(a.__data__=o.__data__),c[d]=a);return new vC(i,this._parents)},selectAll:function(e){e="function"==typeof e?_x(e):function(e){return null==e?yx:function(){return this.querySelectorAll(e)}}(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(e.call(a,a.__data__,c,s)),r.push(a));return new vC(i,r)},selectChild:function(e){return this.select(null==e?xx:function(e){return function(){return kx.call(this.children,e)}}("function"==typeof e?e:wx(e)))},selectChildren:function(e){return this.selectAll(null==e?Sx:function(e){return function(){return Cx.call(this.children,e)}}("function"==typeof e?e:wx(e)))},filter:function(e){"function"!=typeof e&&(e=function(e){return function(){return this.matches(e)}}(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new vC(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Mx);var n=t?Px:Ax,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var d=i[c],u=r[c],h=u.length,p=Ix(e.call(d,d&&d.__data__,c,i)),f=p.length,m=s[c]=new Array(f),g=a[c]=new Array(f);n(d,u,m,g,l[c]=new Array(h),p,t);for(var b,v,y=0,_=0;y<f;++y)if(b=m[y]){for(y>=_&&(_=y+1);!(v=g[_])&&++_<f;);b._next=v||null}}return(a=new vC(a,i))._enter=s,a._exit=l,a},enter:function(){return new vC(this._enter||this._groups.map(Ex),this._parents)},exit:function(){return new vC(this._exit||this._groups.map(Ex),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c,d=n[l],u=i[l],h=d.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=d[f]||u[f])&&(p[f]=c);for(;l<r;++l)s[l]=n[l];return new vC(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=qx);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),d=0;d<l;++d)(a=s[d])&&(c[d]=a);c.sort(t)}return new vC(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=px(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Dx:Nx:"function"==typeof t?n.local?Rx:$x:n.local?Lx:Ox)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?jx:"function"==typeof t?Hx:Bx)(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||zx(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Ux:"function"==typeof t?Vx:Fx)(e,t)):this.node()[e]},classed:function(e,t){var n=Gx(e+"");if(arguments.length<2){for(var i=Yx(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?Qx:t?Xx:Zx)(n,t))},text:function(e){return arguments.length?this.each(null==e?eC:("function"==typeof e?nC:tC)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?iC:("function"==typeof e?oC:rC)(e)):this.node().innerHTML},raise:function(){return this.each(aC)},lower:function(){return this.each(sC)},append:function(e){var t="function"==typeof e?e:gx(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:gx(e),i=null==t?lC:"function"==typeof t?t:vx(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(cC)},clone:function(e){return this.select(e?uC:dC)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?pC:hC,i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,d=s.length;c<d;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?gC:mC)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}},qi.add(er);const _C=Ni({prefix:"fas",iconName:"plus-circle"}),wC=_C.icon[4],kC=1/_C.icon[0],xC=1/_C.icon[1],CC=new e.Color;class SC extends pe{constructor(){super(),this.margin={right:8,left:8,top:4,bottom:4},this._controlPointCollection=void 0,this._selectedControlPoint=void 0,this._isDragging=!1,this._lastPointerPosition={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},this.backgroundCellSize=6,this._backdropDrawn=!1,this.hardBreaks=!1}static get properties(){return{axisHeight:{type:Number},colorBarWidth:{type:Number},colorBarHeight:{type:Number},controlPointsHeight:{type:Number},hardBreaks:{type:Boolean}}}set controlPointCollection(e){this._controlPointCollection=e,e.modified.addEventListener(SC.prototype.requestUpdate,this)}static get styles(){return[Ud,p`
        :host {
          width: 100%;
        }

        svg {
          display: block;
          margin: 0 auto;
          width: calc(100% - 1rem);
        }

        .domain {
          stroke: none;
        }

        .tick line {
          stroke: var(--widgets-lighter-color);
        }

        .tick text {
          fill: var(--widgets-text-color-secondary);
          -moz-user-select: none;
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .controlPoints > .gradient-pointer {
          cursor: pointer;
        }
        .controlPoints > .gradient-drag {
          cursor: grab;
        }
      `]}render(){const e=this.axisHeight+this.colorBarHeight+this.controlPointsHeight;return G`
      <svg height="${e+this.margin.top+this.margin.bottom}">
        <g
          class="axis"
          height="${this.colorBarHeight}"
          transform="translate(${this.margin.left}, ${this.margin.top+.8*this.axisHeight})"
        ></g>
        <g
          class="colorBarBackdrop"
          height="${this.colorBarHeight}"
          transform="translate(${this.margin.left}, ${this.margin.top+this.axisHeight})"
        ></g>
        <g
          class="colorBar"
          height="${this.colorBarHeight}"
          transform="translate(${this.margin.left}, ${this.margin.top+this.axisHeight})"
        ></g>
        <g
          class="controlPoints"
          transform="translate(${this.margin.left}, ${this.margin.top+this.axisHeight+this.colorBarHeight})"
        ></g>
      </svg>
    `}_handlePointerMove(t){if(!this._isDragging)return;const n=(t.clientX-this._lastPointerPosition.x)/this.shadowRoot.querySelector("svg").clientWidth,i=this._controlPointCollection,r=i.minimum,o=i.maximum,a=this._selectedControlPoint,s=n*(o-r)+a.position;a.position=e.Math.clamp(s,i.minimum,i.maximum),this._lastPointerPosition.x=t.clientX,this._lastPointerPosition.y=t.clientY}_handlePointerUp(){this._isDragging=!1,this._selectedControlPoint=void 0}_handlePointerDown(e,t){this._selectedControlPoint=t,this._isDragging=!0,this._lastPointerPosition.x=e.clientX,this._lastPointerPosition.y=e.clientY}_addStop(t){const n=t/(this.shadowRoot.querySelector("svg").clientWidth-this.margin.left-this.margin.right);if(n<=0||1<=n)return;const i=this._controlPointCollection,r=i.minimum,o=r+n*(i.maximum-r),a=i.controlPoints,s=a.length;let l,c,d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;for(let e=0;e<s;e++){const t=a[e],n=t.position,i=t.color;n<o?d<n&&(d=n,l=i):n>o&&n<u&&(u=n,c=i)}const h=(o-d)/(u-d),p=CC;this.hardBreaks?e.Color.fromRandom({alpha:1},p):(p.red=e.Math.lerp(l.red,c.red,h),p.green=e.Math.lerp(l.green,c.green,h),p.blue=e.Math.lerp(l.blue,c.blue,h),p.alpha=e.Math.lerp(l.alpha,c.alpha,h)),i.add(o,p)}firstUpdated(){this.addEventListener("pointerup",SC.prototype._handlePointerUp.bind(this)),this.addEventListener("pointermove",SC.prototype._handlePointerMove.bind(this))}updated(){this.draw(this.shadowRoot.querySelector("svg"))}draw(t){const n=this._controlPointCollection;if(!e.defined(n))return;const i=yC(t);i.selectAll("defs").remove();const r=i.append("defs");let o=i.selectAll(".controlPoints");const a=.5*this.controlPointsHeight,s=a+1;o.selectAll("circle").remove(),o.selectAll("path").remove(),o.selectAll("polygon").remove(),o.selectAll("rect").remove();const l=this,c=r.append("linearGradient").attr("id","gradient"),d=this._selectedControlPoint,u=n.controlPoints,h=u.length,p=Math.max(t.clientWidth-this.margin.left-this.margin.right,1),f=.6*a;for(let e=0;e<h;e++){const t=u[e],i=t.color.toCssColorString(),r=n.normalize(t.position);if(e>0&&this.hardBreaks){const t=u[e-1].color.toCssColorString();c.append("stop").attr("offset",100*r+"%").attr("stop-color",t)}if(this.hardBreaks&&e===h-1||c.append("stop").attr("offset",100*r+"%").attr("stop-color",i),t===d||0===e||e===h-1)continue;const a=r*p;this._drawStopHandle(o,a,s,f,i).on("pointerdown",(function(e){l._handlePointerDown(e,t)}))}if(e.defined(d)){const e=n.normalize(d.position)*p,t=d.color.toCssColorString();this._drawStopHandle(o,e,s,f,t).on("pointerdown",(function(e){l._handlePointerDown(e,d)}))}const m=h-1;for(let e=0;e<m;e++){const t=u[e],i=u[e+1],r=n.normalize(t.position)*p,c=n.normalize(i.position)*p;if(Math.abs(r-c)<a)continue;const d=.5*(r+c);this._drawMidStop(o,d,s,a).on("click",(function(){l._addStop(d)}))}const g=this.colorBarHeight;if(!this._backdropDrawn){const e=this.backgroundCellSize;let t="var(--alpha-backdrop-light)",n="var(--alpha-backdrop-dark)";o=i.selectAll(".colorBarBackdrop");const r=Math.ceil(g/e),a=Math.ceil(p/e);for(let i=0;i<r;++i){for(let r=0;r<a;++r){const a=r%2?t:n,s=r*e,l=i*e;o.append("rect").attr("x",s).attr("y",l).attr("height",Math.min(e,g-l)).attr("width",Math.min(e,p-s)).attr("fill",a)}const r=t;t=n,n=r}this._backdropDrawn=!0}o=i.selectAll(".colorBar"),o.selectAll("rect").remove(),o.append("rect").attr("height",g).attr("width",p).attr("fill","url('#gradient')");const b=u[0].position,v=u[h-1].position,y=Math.round(p/50),_=new Array(y),w=(v-b)/y;for(let e=0;e<y;e++)_[e]=b+e*w;_.push(v);const k=dx().domain([b,v]).rangeRound([0,p]),x=(C=k,Nw(xw,C)).tickValues(_);var C;i.selectAll(".axis").call(x)}_drawMidStop(e,t,n,i){const r=i+i,o=.7*r,a=.5*o,s=n-i+.3*r,l=`${t-i},${s}\n${t+i},${s}\n${t},${n-i}`;e.append("polygon").attr("class","gradient-pointer").attr("points",l).attr("fill","var(--widgets-default-color)");const c=`translate(${t-a},${s}) scale(${o*kC},${o*xC})`;return e.append("path").attr("class","gradient-pointer").attr("fill","#c8c8c8").attr("transform",c).attr("d",wC),e.append("circle").attr("class","gradient-pointer").attr("cx",t).attr("cy",s+a).attr("r",a).attr("fill","rgba(0, 0, 0, 0)")}_drawStopHandle(e,t,n,i,r){const o=i+i,a=1.2*o,s=n-i+.3*o,l=`${t},${n-i}\n${t-i},${s}\n${t-i},${s+a}\n${t+i},${s+a}\n${t+i},${s}`;return e.append("polygon").attr("points",l).attr("class","gradient-drag").attr("fill",r)}}customElements.define("cesium-gradient-display",SC);class EC extends pe{static get styles(){return p`
      :host {
        display: inline-block;
      }

      #controlPointEditors {
        margin: 0.5rem;
      }
    `}constructor(){super();const t=new Dm([0,1],[e.Color.BLACK,e.Color.BLACK]);this._controlPointCollection=t,this._controlPointEditors=[],this.axisHeight=20,this.colorBarWidth=210,this.colorBarHeight=24,this.controlPointsHeight=16,this.showPercent=!1,this.hideAlpha=!1,this.hardBreaks=!1}static get properties(){return{controlPoints:{type:Object,attribute:!1},axisHeight:{type:Number},colorBarWidth:{type:Number},colorBarHeight:{type:Number},controlPointsHeight:{type:Number},showPercent:{type:Boolean},hideAlpha:{type:Boolean,reflect:!0},hardBreaks:{type:Boolean}}}set controlPoints(e){this._controlPointCollection.setContents(e.positions,e.colors)}get controlPoints(){const e=this._controlPointCollection;return{positions:e.getPositionsArray(),colors:e.getColorsArray()}}_onChange(){const e=this._controlPointCollection,t=new CustomEvent("updated",{bubbles:!0,composed:!0,detail:{positions:e.getPositionsArray(),colors:e.getColorsArray()}});this.dispatchEvent(t),this.requestUpdate()}firstUpdated(){const e=this._controlPointCollection;e.percent=this.showPercent,e.modified.addEventListener(EC.prototype._onChange,this)}render(){const e=this._controlPointCollection;return G`
      <cesium-gradient-display
        axisHeight="${this.axisHeight}"
        colorBarWidth="${this.colorBarWidth}"
        colorBarHeight="${this.colorBarHeight}"
        controlPointsHeight="${this.controlPointsHeight}"
        .controlPointCollection=${e}
        ?hardBreaks=${this.hardBreaks}
      >
      </cesium-gradient-display>
      <div id="controlPointEditors">
        ${Ul(e.controlPoints,(e=>e.id),((t,n)=>G`<cesium-control-point-editor
              ?hideAlpha=${this.hideAlpha}
              ?hideColorPicker=${this.hardBreaks&&n===e.controlPoints.length-1}
              .controlPointCollection=${e}
              .controlPoint=${t}
            ></cesium-control-point-editor>`))}
      </div>
    `}}customElements.define("cesium-gradient-editor",EC);class TC{constructor(e){this._image=TC.makeGradientBlockEvent(o.scale(e).domain([0,5,10,25,50,100,300,301]),50,25).toDataURL(),this._name=e}get image(){return this._image}get name(){return this._name}static makeGradientBlockEvent(e,t,n){const i=document.createElement("canvas");i.style["padding-left"]="5px",i.width=t,i.height=n;const r=i.getContext("2d"),o=e.colors(),a=Math.floor(t/o.length);for(let e=0;e<o.length;e++){r.fillStyle=o[e];const t=e*a;r.fillRect(t,0,t+a,n)}return i}}customElements.define("cesium-palette-picker",class extends pe{static get styles(){return p`
      :host {
        display: inline-block;
        cursor: pointer;
      }

      .palette-picker-icon svg {
        width: 1.2rem;
        height: 1.2rem;
      }

      .palette-picker {
        width: 100%;
        height: 100%;
        border: 1px solid black;
        cursor: pointer;
      }

      .palette-picker-choice {
        box-sizing: border-box;
        display: inline-block;
        border: 1px solid #000;
        vertical-align: top;
        margin: 2px 5px;
        width: 50px;
        height: 15px;
        text-align: center;
        cursor: pointer;
        background-position: left center;
        background-size: cover;
        background-repeat: no-repeat;
      }

      .palette-picker-choice.selected {
        border-color: #fff;
      }

      #dropdown {
        padding: 10px;
        width: 254px;
        user-select: none;
      }
    `}static get properties(){return{choices:{type:Array},direction:{type:String},selectedItem:{type:Object},_active:{type:Boolean}}}constructor(){super(),this._paletteChoices=[];const e=Object.keys(o.brewer);for(let t=0;t<e.length;t++){const n=e[t];n!==n.toLowerCase()&&this._paletteChoices.push(new TC(e[t]))}this.selectedItem=this._paletteChoices[0],this.direction="down",this._active=!1,this._closeDropdown=this._closeDropdown.bind(this)}set choices(e){this._selectedItem=e[0],this._paletteChoices=e,this.requestUpdate()}get choices(){return this._paletteChoices}_paletteSelected(e){this.selectedItem=this.choices[e.target.getAttribute("choice-index")],this.dispatchEvent(new CustomEvent("change",{detail:{value:this.selectedItem}}))}render(){const e=this._paletteChoices.map(((e,t)=>{let n="palette-picker-choice";return e===this.selectedItem&&(n+=" selected"),G` <div
        class="${n}"
        style="background-image:url(${e.image})"
        choice-index=${t}
        @click=${this._paletteSelected}
        part="palette"
      ></div>`}));return G` <div
        id="icon"
        class="palette-picker-icon"
        @click=${this.toggle}
      >
        <cesium-icon name="palette" alt="Select Palette"></cesium-icon>
      </div>
      <cesium-popover
        anchor="icon"
        direction=${this.direction}
        ?open=${this._active}
      >
        <div id="dropdown" part="popover">${e}</div>
      </cesium-popover>`}open(){this._active||(this._active=!0,window.addEventListener("pointerdown",this._closeDropdown),window.addEventListener("wheel",this._closeDropdown))}close(){this._active&&(this._active=!1,window.removeEventListener("pointerdown",this._closeDropdown),window.removeEventListener("wheel",this._closeDropdown))}toggle(){this._active?this.close():this.open()}_closeDropdown(e){-1===e.composedPath().indexOf(this)&&this.close()}});const AC=["rgb(8,48,107)","rgb(247,251,255)"];window.customElements.define("ion-gradient-editor-panel",class extends pe{static get styles(){return[ql,p`
        :host {
          padding: 1rem;
          height: 100%;
          overflow-y: auto;
        }

        .container {
          color: var(--text-color);
          background-color: var(--container-bg);
          border-radius: var(--border-radius);
          padding: 1rem;
          margin-bottom: 1rem;
        }

        cesium-gradient-editor {
          --widgets-text-color: var(--text-color);
          --widgets-text-color-secondary: var(--gray);
          --widgets-default-color: var(--gray-lighter);

          width: 100%;
        }

        cesium-toggle {
          vertical-align: middle;
        }
      `]}static get properties(){return{assetId:{type:Number},name:{type:String},classify:{type:Boolean}}}constructor(){super(),this.name="",this.classify=!1,this._styleToEdit=void 0,this._assetId=void 0,this.property=void 0,this._mapViewer=void 0,this._scene=void 0,this.gradientControlPoints={positions:[0,100],colors:AC.map((t=>e.Color.fromCssColorString(t)))}}get styleObject(){return{name:this.name,type:Lr.StyleType.GRADUATED,properties:[this.property],style:{...this.gradientControlPoints,classify:this.classify}}}loadPanel(t){e.defined(t.propertyName)?(this._styleToEdit=void 0,this.property=t.propertyName,this.name=this.property,this.classify=!1):(this._styleToEdit=t.styleToEdit,this.property=t.styleToEdit.properties[0],this.name=t.styleToEdit.name,this.classify=t.styleToEdit.style.classify);const n=t.mapViewer,i=t.assetMetadata.id;this._mapViewer=n,this._scene=n.viewer.scene,this._assetId=i,this._setControlPoints(t),this.setStyle(),this.requestUpdate()}reset(){this._assetId=void 0,this._mapViewer=void 0,this._scene=void 0}render(){return e.defined(this._assetId)?G`
      <h1>Graduated style</h1>
      <div>
        <ion-button theme="primary" class="margin-bottom" @click=${this.flyTo}
          >Zoom to tileset</ion-button
        >
      </div>
      <div><label>Property name:</label> <span>${this.property}</span></div>
      <div>
        <label>Legend title</label>
        <ion-textfield
          id="name"
          class="margin-bottom"
          .value=${this.name}
          @input=${this._onStyleNameChange}
        ></ion-textfield>
      </div>
      <div class="container">
        <cesium-palette-picker
          @change=${this._onPaletteChange}
        ></cesium-palette-picker>
        <label>Palette</label>
        <cesium-gradient-editor
          class="margin-bottom"
          .controlPoints=${this.gradientControlPoints}
          @updated=${this._onGradientUpdated}
          hideAlpha
          ?hardBreaks=${this.classify}
        ></cesium-gradient-editor>
        <div>
          <cesium-toggle
            @change=${this._onClassifyChange}
            ?checked=${this.classify}
          ></cesium-toggle>
          <label>Classify</label>
        </div>
      </div>
      <div>
        <ion-button theme="primary" @click=${this.save}>Okay</ion-button
        ><ion-button @click="${this.close}">Cancel</ion-button>
      </div>
    `:G``}_onStyleNameChange(e){this.name=e.target.value,this.setStyle()}_onGradientUpdated(e){this.gradientControlPoints=e.detail,this.setStyle()}_onClassifyChange(e){const t=e.target.checked;this.classify=t,this._adjustClasses(),this.setStyle()}_adjustClasses(){const e=this.gradientControlPoints.positions;if(2===e.length){const t=this.gradientControlPoints.colors,n=e[0],i=e[1];this.gradientControlPoints={positions:[n,(n+i)/2,i],colors:[t[0],t[1].clone(),t[1]]}}}_onPaletteChange(t){const n=t.detail.value.name;let i=this.gradientControlPoints.positions;if(!this.classify&&i.length<5){const t=i[0],n=i[i.length-1];i=[0,.25,.5,.75,1].map((i=>e.Math.lerp(t,n,i)))}const r=o.scale(n).domain(i);this.gradientControlPoints={positions:i,colors:i.map((t=>e.Color.fromCssColorString(r(t).css())))},this.setStyle(),this.requestUpdate()}_setControlPoints(t){if(e.defined(t.propertyName)){const n=t.assetMetadata.ionExtras.styleableProperties[this.property];let i=0,r=100;Array.isArray(n)||("BYTE"===n.componentType?(i=-128,r=127):"UNSIGNED_BYTE"===n.componentType&&(i=0,r=255)),this.gradientControlPoints={positions:[i,r],colors:AC.map((t=>e.Color.fromCssColorString(t)))}}else this.gradientControlPoints={positions:t.styleToEdit.style.positions.slice(),colors:t.styleToEdit.style.colors.map((t=>e.Color.clone(t)))}}setStyle(){e.defined(this._mapViewer)&&(e.defined(this._styleToEdit)?this._mapViewer.refreshStyles({styleSettings:this.styleObject,styleId:this._styleToEdit.id}):this._mapViewer.refreshStyles({styleSettings:this.styleObject,assetId:this._assetId}))}flyTo(){this._mapViewer.zoomToAsset(this._assetId)}save(){this.dispatchEvent(new CustomEvent("close",{detail:this.styleObject}))}close(){this.dispatchEvent(new CustomEvent("close"))}});class PC{constructor(t,n,i){this.value=t,this.name=e.defaultValue(n,"Unknown"),this.color=e.defined(i)?i:e.Color.WHITE.clone()}}window.customElements.define("ion-category-editor-row",class extends pe{static get styles(){return[ql,p`
        /* wrapper required because of Firefox quirk causing style element text to be dumped into div otherwise*/
        #wrapper > * {
          display: inline-block;
          vertical-align: middle;
        }
        .draggable-grip {
          width: 1rem;
          height: 1rem;
          color: var(--gray-light);
          cursor: grab;
          padding: 0;
          margin-right: 0.5rem;
        }
        svg {
          height: 1rem;
          width: 1rem;
        }
        .condition-value {
          width: 6rem;
          text-align: center;
        }
        cesium-color-picker {
          margin-right: 5px;
        }
        ion-textfield {
          width: calc(100% - 13rem);
        }
        /* wider vales column for string properties */
        :host([propertytype="1"]) ion-textfield {
          width: calc(100% - 17rem);
        }
        :host([propertytype="1"]) .condition-value {
          width: 10rem;
          text-align: left;
          padding-left: 5px;
        }
        ion-icon-button {
          width: 2rem;
          text-align: center;
        }

        :host([default]) .draggable-grip {
          visibility: hidden;
        }
      `]}static get properties(){return{category:{type:Object},propertyType:{type:Number,reflect:!0},default:{type:Boolean,reflect:!0}}}constructor(){super(),this._category=void 0,this.default=!1}get category(){return this._category}set category(e){this._category=e,this.requestUpdate()}firstUpdated(){this.dispatchEvent(new CustomEvent("ready"))}render(){return e.defined(this.category)?G`
      <div id="wrapper">
        <div class="draggable-grip">${md.node}</div>
        <cesium-color-picker
          @change=${this._onColorChange}
          .value=${this.category.color}
          hideAlpha
        ></cesium-color-picker>
        <div class="condition-value">
          ${this.default?"Default":this.category.value}
        </div>
        <ion-textfield
          @input=${this._onNameChange}
          .value=${this.category.name}
          required
        ></ion-textfield>
        <ion-icon-button
          ?hidden="${this.default}"
          @click=${this._deleteCategory}
          >${ld.node}</ion-icon-button
        >
      </div>
    `:G``}_onColorChange(e){this.dispatchEvent(new CustomEvent("colorChange",{detail:{value:e.detail.value}}))}_onNameChange(e){e.target.checkValidity()&&this.dispatchEvent(new CustomEvent("nameChange",{detail:{value:e.target.value}}))}_deleteCategory(){this.dispatchEvent(new CustomEvent("delete"))}});const MC={0:"Never classified",1:"Unclassified",2:"Ground",3:"Low Vegetation",4:"Medium Vegetation",5:"High Vegetation",6:"Building",7:"Low Point (noise)",8:"Reserved",9:"Water",10:"Rail",11:"Road Surface",12:"Reserved",13:"Wire - Guard (Sheild)",14:"Wire - Conductor (Phase)",15:"Transmission Tower",16:"Wire-structure Connector",17:"Bridge Deck",18:"High Noise"},IC={2:"rgb(153, 138, 98)",3:"rgb(224,255,137)",4:"rgb(172,218,88)",5:"rgb(48,98,0)",6:"rgb(172,172,172)",9:"rgb(140,204,255)"},qC=[2,3,4,5,6,9];window.customElements.define("ion-category-editor-panel",class extends pe{static get styles(){return[ql,p`
        :host {
          padding: 1rem;
          height: 100%;
          overflow-y: auto;
        }
        #content {
          display: flex;
          flex-direction: column;
          max-height: 100%;
        }
        h3 {
          margin-bottom: 0;
        }
        svg {
          height: 1rem;
          width: 1rem;
        }
        cesium-color-picker {
          vertical-align: middle;
        }
        .error-message {
          color: var(--brand-danger);
        }
        .condition-table {
          background-color: var(--container-bg);
          border-radius: var(--border-radius) var(--border-radius) 0 0;
          padding: 1rem 0.5rem;
          overflow-y: auto;
          width: 100%;
        }
        .condition-row > * {
          display: inline-block;
        }
        .condition-header {
          font-weight: bold;
        }
        .color-col {
          margin-left: 25px;
          margin-right: 5px;
        }
        .value-col {
          width: 6rem;
          text-align: center;
          vertical-align: bottom;
        }
        .label-field,
        #addName {
          width: calc(100% - 13rem);
        }
        ion-category-editor-row {
          border-top: 2px solid transparent;
        }
        ion-category-editor-row:last-child {
          border-bottom: 2px solid transparent;
        }
        ion-category-editor-row.drag-before {
          border-top: 2px solid var(--brand-primary);
        }
        ion-category-editor-row.drag-after + ion-category-editor-row {
          border-top: 2px solid var(--brand-primary);
        }
        ion-category-editor-row.drag-after:last-child {
          border-bottom: 2px solid var(--brand-primary);
        }
        #addCondition {
          width: 100%;
          background-color: var(--container-bg);
          border-radius: 0 0 var(--border-radius) var(--border-radius);
          border-top: 1px solid var(--border-color);
          padding: 1rem 0.5rem;
        }
        #addButton {
          width: 2rem;
          text-align: center;
        }
        /* wider vales column for string properties */
        .table-type-1 .value-col {
          width: 10rem;
          text-align: left;
          padding-left: 3px;
        }
        .table-type-1 .label-field,
        .table-type-1 #addName {
          width: calc(100% - 17rem);
        }
      `]}static get properties(){return{assetId:{type:Number},name:{type:String},addErrorMessage:{type:String},propertyType:{type:Number}}}constructor(){super(),this.name="",this.property=void 0,this.propertyType=Lr.StyleablePropertyType.NUMERIC,this.min=void 0,this.max=void 0,this._styleToEdit=void 0,this._assetId=void 0,this.addErrorMessage="",this._mapViewer=void 0,this._scene=void 0,this._defaultCategory=new PC(!0,"Other",e.Color.WHITE.clone()),this._categories=[],this._addColor=e.Color.fromRandom({alpha:1})}get styleObject(){return{name:this.name,type:Lr.StyleType.CATEGORIZED,properties:[this.property],style:{propertyType:this.propertyType,categories:this._categories,defaultStyle:this._defaultCategory}}}loadPanel(t){e.defined(t.propertyName)?(this.property=t.propertyName,this.name=this.property,this._styleToEdit=void 0):(this._styleToEdit=t.styleToEdit,this.property=t.styleToEdit.properties[0],this.name=t.styleToEdit.name);const n=t.mapViewer,i=t.assetMetadata,r=i.id,o=i.ionExtras.styleableProperties[this.property];if(Array.isArray(o)){this.min=void 0,this.max=void 0;const t=typeof o.find((t=>e.defined(t)));this.propertyType="number"===t?Lr.StyleablePropertyType.NUMERIC:Lr.StyleablePropertyType.STRING}else this.propertyType=Lr.StyleablePropertyType.NUMERIC,"BYTE"===o.componentType?(this.min=-128,this.max=127):"UNSIGNED_BYTE"===o.componentType?(this.min=0,this.max=255):(this.min=void 0,this.max=void 0);this._mapViewer=n,this._scene=n.viewer.scene,this._assetId=r,this._setCategories(t),this.setStyle()}reset(){this._assetId=void 0,this._mapViewer=void 0,this._scene=void 0}render(){if(!e.defined(this._assetId))return G``;const t=this._renderCategoryRow.bind(this);return G`
      <div id="content">
        <h1>Categorized style</h1>
        <div>
          <ion-button theme="primary" class="margin-bottom" @click=${this.flyTo}
            >Zoom to tileset</ion-button
          >
        </div>
        <div><label>Property name:</label> <span>${this.property}</span></div>
        <div>
          <label>Legend title</label>
          <ion-textfield
            id="name"
            class="margin-bottom"
            .value=${this.name}
            @input=${this._onStyleNameChange}
          >
          </ion-textfield>
        </div>
        <label>Conditions</label>
        <div class="condition-table table-type-${this.propertyType}">
          <div class="condition-row">
            <div>
              <cesium-palette-picker
                @change=${this._onPaletteChange}
              ></cesium-palette-picker>
            </div>
            <div class="condition-header">Color</div>
            <div class="value-col condition-header">Value</div>
            <div class="label-col condition-header">Label</div>
          </div>
          <cesium-draggable-list
            dragHandleClass="draggable-grip"
            @reorder=${this._onReorder}
          >
            ${Ul(this._categories,(e=>e.value),t)}
          </cesium-draggable-list>
          <ion-category-editor-row
            .category=${this._defaultCategory}
            data-index="-1"
            @colorChange=${this._onColorChange}
            @nameChange=${this._onNameChange}
            propertyType="${this.propertyType}"
            ?default="${!0}"
          ></ion-category-editor-row>
        </div>
        <div
          id="addCondition"
          class="condition-row table-type-${this.propertyType}"
        >
          <cesium-color-picker
            id="addColor"
            class="color-col"
            .value=${this._addColor}
            hideAlpha
          ></cesium-color-picker>
          <div class="value-col">${this._renderValueField()}</div>
          <ion-textfield
            id="addName"
            @input=${this._clearAddError}
            required
          ></ion-textfield>
          <ion-icon-button id="addButton" @click=${this._addCategory}
            >${_d.node}</ion-icon-button
          >
        </div>
        <p class="error-message">${this.addErrorMessage}</p>
        <div>
          <ion-button theme="primary" @click=${this.save}>Save</ion-button>
          <ion-button @click="${this.close}">Cancel</ion-button>
        </div>
      </div>
    `}_renderValueField(){return this.propertyType===Lr.StyleablePropertyType.NUMERIC?e.defined(this.min)&&e.defined(this.max)?G`<ion-number-field
          id="addValue"
          .min=${this.min}
          .max=${this.max}
        ></ion-number-field>`:G`<ion-number-field id="addValue"></ion-number-field>`:G`<ion-textfield id="addValue"></ion-textfield>`}_renderCategoryRow(e,t){return G`
      <ion-category-editor-row
        .category=${e}
        data-index=${t}
        @colorChange=${this._onColorChange}
        @nameChange=${this._onNameChange}
        @delete=${this._deleteCategory}
        propertyType="${this.propertyType}"
      ></ion-category-editor-row>
    `}_onReorder(e){const t=e.detail.oldIndex,n=e.detail.newIndex,i=this._categories,r=i.splice(t,1)[0];i.splice(n,0,r),this.setStyle(),this.requestUpdate()}_onPaletteChange(t){const n=t.detail.value.name,i=this._categories,r=i.length,a=o.scale(n).colors(r);for(let t=0;t<r;t++)i[t].color=e.Color.fromCssColorString(a[t]);this.setStyle(),this.requestUpdate()}_onColorChange(t){const n=Number(t.target.getAttribute("data-index"));-1===n?this._defaultCategory.color=e.Color.clone(t.detail.value,this._defaultCategory.color):this._categories[n].color=e.Color.clone(t.detail.value,this._categories[n].color),this.setStyle()}_onStyleNameChange(e){this.name=e.target.value,this.setStyle()}_onNameChange(t){const n=Number(t.target.getAttribute("data-index")),i=e.defaultValue(t.detail.value,"");-1===n?this._defaultCategory.name=i:this._categories[n].name=i,this.setStyle()}_clearAddError(){this.addErrorMessage=""}_addCategory(){const t=this.shadowRoot.querySelector("#addValue"),n=this.shadowRoot.querySelector("#addName");if(!t.checkValidity()||!n.checkValidity())return;const i=this.propertyType===Lr.StyleablePropertyType.NUMERIC?Number(t.value):t.value;if(-1!==this._categories.findIndex((e=>e.value===i)))return void(this.addErrorMessage="Value already taken");this._clearAddError();const r=this.shadowRoot.querySelector("#addColor"),o=e.Color.clone(r.value),a=new PC(i,n.value,o);this._categories.push(a),t.value=this.propertyType===Lr.StyleablePropertyType.NUMERIC?0:"",n.value="",this._addColor=e.Color.fromRandom({alpha:1}),this.setStyle(),this.requestUpdate()}_deleteCategory(e){const t=Number(e.target.getAttribute("data-index"));this._categories.splice(t,1),this.setStyle(),this.requestUpdate()}_setCategories(t){if(e.defined(t.propertyName))"Classification"===t.propertyName?this._categories=qC.map((t=>{let n=MC[t];const i=IC[t],r=e.defined(i)?e.Color.fromCssColorString(i):e.Color.fromRandom({alpha:1});return n=e.defaultValue(n,"Unknown"),new PC(t,n,r)})):this._categories=[],this._defaultCategory=new PC(!0,"Other",e.Color.WHITE.clone());else{const n=t.styleToEdit.style.categories;this._categories=n.map((t=>new PC(t.value,t.name,e.Color.clone(t.color))));const i=t.styleToEdit.style.defaultStyle;this._defaultCategory=new PC(!0,i.name,e.Color.clone(i.color))}this.requestUpdate()}setStyle(){e.defined(this._mapViewer)&&(e.defined(this._styleToEdit)?this._mapViewer.refreshStyles({styleSettings:this.styleObject,styleId:this._styleToEdit.id}):this._mapViewer.refreshStyles({styleSettings:this.styleObject,assetId:this._assetId}))}flyTo(){this._mapViewer.zoomToAsset(this._assetId)}save(){this.dispatchEvent(new CustomEvent("close",{detail:this.styleObject}))}close(){this.dispatchEvent(new CustomEvent("close"))}});const NC=0,DC=5,OC=1,LC=2,$C=3,RC=4;class zC extends(gr(Al)(pe)){static get styles(){return[ql,qu,p`
        :host {
          height: 100%;
          overflow-y: auto;
        }

        :host > div,
        :host > ion-category-editor-panel {
          padding: 1rem;
        }

        h3 {
          margin-bottom: 0;
        }

        #content {
          display: flex;
          flex-direction: column;
          max-height: 100%;
        }

        #tableWrapper {
          overflow-y: auto;
        }

        table {
          width: 100%;
          margin-bottom: 1rem;
          background-color: var(--container-bg);
          border-radius: var(--border-radius);
          padding: 1rem;
          border-spacing: 0;
        }

        th,
        td {
          text-align: left;
          border-bottom: 1px solid var(--border-color);
          padding: 10px;
          max-width: 10rem;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        tbody > tr {
          cursor: pointer;
        }

        tbody > tr.selected > td {
          background-color: var(--brand-primary);
          color: var(--text-light);
        }

        tbody > tr:hover {
          background-color: var(--brand-primary-tint);
        }

        ion-delete-icon-button,
        svg {
          height: 1rem;
          width: 1rem;
        }

        tbody > tr.selected ion-delete-icon-button {
          --brand-primary: var(--brand-primary-tint);
        }

        tbody > tr.selected ion-icon-button:hover {
          color: var(--brand-primary-tint);
        }

        .nowrap {
          white-space: nowrap;
        }

        .text-center {
          text-align: center;
        }
      `]}static get properties(){return{selectedStyleId:{type:Number},assetId:{type:Number},mapViewer:{type:Object},panelType:{type:Number},ready:{type:Boolean}}}constructor(){super(),this._assetId=void 0,this._activeSlideId=void 0,this._styleToEdit=void 0,this._activeEditor=void 0,this.assetMetadata=void 0,this.selectedStyleId=void 0,this.mapViewer=void 0,this.panelType=NC,this.allStyles={byId:{},ids:[]},this.ready=!1}get assetId(){return this._assetId}set assetId(t){t!==this._assetId&&(this._assetId=t,e.defined(t)?(this.assetMetadata=Al.getState().story.assets.byId[t],this._fetchStyles()):(this.assetMetadata=void 0,this.allStyles.byId={},this.allStyles.ids=[],this.requestUpdate()))}render(){return e.defined(this.assetMetadata)?this.panelType===OC||this.panelType===LC?G`<ion-category-editor-panel
        @close=${this._onEditorClose}
      ></ion-category-editor-panel>`:this.panelType===DC?G`<ion-style-chooser-panel
        .assetId=${this._assetId}
        .mapViewer=${this.mapViewer}
        @close=${this._onChooserClose}
      ></ion-style-chooser-panel>`:this.panelType===$C||this.panelType===RC?G`<ion-gradient-editor-panel
        @close=${this._onEditorClose}
      ></ion-gradient-editor-panel>`:G`
      <div id="content">
        <h2>Styling</h2>
        <div id="top">
          <ion-button
            theme="primary"
            class="margin-bottom"
            @click="${this._onAddClick}"
            >New style</ion-button
          >
          <ion-button theme="default" class="margin-bottom" @click=${this.flyTo}
            >Zoom to tileset</ion-button
          >
        </div>
        <div id="tableWrapper" class="margin-bottom">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Property</th>
                <th class="text-center">Edit</th>
                <th class="text-center">Delete</th>
              </tr>
            </thead>
            <tbody>
              <tr
                class="${e.defined(this.selectedStyleId)?"":"selected"}"
                @click=${this._selectStyle}
              >
                <td colspan="4">No Style</td>
              </tr>
              ${Ul(this.allStyles.ids,(e=>e),(e=>{const t=e===this.selectedStyleId?"selected":"",n=this.allStyles.byId[e];return G`
                    <tr
                      class="${t}"
                      data-style-id="${e}"
                      @click=${this._selectStyle}
                    >
                      <td><span class="nowrap">${n.name}</span></td>
                      <td>
                        <span class="nowrap"
                          >${n.properties.join(", ")}</span
                        >
                      </td>
                      <td class="text-center">
                        <ion-icon-button @click=${this._onEdit}
                          >${fd.node}</ion-icon-button
                        >
                      </td>
                      <td class="text-center">
                        <ion-delete-icon-button
                          @delete=${this._onDelete}
                          message="Delete style for all assets"
                        ></ion-delete-icon-button>
                      </td>
                    </tr>
                  `}))}
            </tbody>
          </table>
        </div>
        <ion-button theme="primary" @click="${this.close}">Okay</ion-button>
      </div>
    `:G``}async _fetchStyles(){this.ready=!1;const t=await async function(t){const n=new URL(`${fs}styles`);return e.defined(t)&&t.forEach((e=>n.searchParams.append("properties",e))),await e.Resource.fetchJson({url:n.toString()})}(Object.keys(this.assetMetadata.ionExtras.styleableProperties)),n=this.allStyles;n.byId={},n.ids=[],t.forEach((e=>{n.ids.push(e.id),n.byId[e.id]=e})),this.ready=!0,await this.updateComplete;const i=this.shadowRoot.querySelector(".selected");e.defined(i)}_selectStyle(t){let n=t.currentTarget.getAttribute("data-style-id");var i;e.defined(n)?(n=Number(n),Al.dispatch((i=this.allStyles.byId[n],(e,t)=>{-1===t().story.styles.ids.indexOf(i.id)&&e({type:ro,style:i})}))):n=null,n!==this.selectedStyleId&&Al.dispatch(Hs(this._activeSlideId,this.assetId,{styleId:n}))}_onChooserClose(t){if(!e.defined(t.detail))return void(this.panelType=NC);this.mapViewer.suspendLegendUpdate=!0;const n=t.detail.property,i=t.detail.styleType;i===Lr.StyleType.CATEGORIZED?(this.panelType=OC,this.updateComplete.then((()=>{this._activeEditor=this.shadowRoot.querySelector("ion-category-editor-panel"),this._activeEditor.loadPanel({assetMetadata:this.assetMetadata,mapViewer:this.mapViewer,propertyName:n})}))):i===Lr.StyleType.GRADUATED&&(this.panelType=$C,this.updateComplete.then((()=>{this._activeEditor=this.shadowRoot.querySelector("ion-gradient-editor-panel"),this._activeEditor.loadPanel({assetMetadata:this.assetMetadata,mapViewer:this.mapViewer,propertyName:n})})))}async _onEditorClose(t){if(this._activeEditor.reset(),e.defined(t.detail))if(this.panelType===OC||this.panelType===$C){const n=await Al.dispatch(Js(t.detail));e.defined(n)&&(Al.dispatch(Hs(this._activeSlideId,this.assetId,{styleId:n.id})),this.allStyles.ids.push(n.id),this.allStyles.byId[n.id]=n)}else await Al.dispatch(Ks(this._styleToEdit.id,t.detail)),this._styleToEdit.name=t.detail.name,this._styleToEdit.style=t.detail.style;else e.defined(this._styleToEdit)?this.mapViewer.refreshStyles({reset:!0,styleId:this._styleToEdit.id}):this.mapViewer.refreshStyles({reset:!0,assetId:this._assetId});this.mapViewer.suspendLegendUpdate=!1,this.panelType=NC}_onDelete(e){const t=Number(e.currentTarget.parentElement.parentElement.getAttribute("data-style-id"));Al.dispatch(Xs(t)),delete this.allStyles.byId[t],this.allStyles.ids=this.allStyles.ids.filter((e=>e!==t)),this.requestUpdate()}_onAddClick(){this._styleToEdit=void 0,this.panelType=DC}_onEdit(e){this.mapViewer.suspendLegendUpdate=!0;const t=Number(e.currentTarget.parentElement.parentElement.getAttribute("data-style-id"));this._styleToEdit=this.allStyles.byId[t],this._styleToEdit.type===Lr.StyleType.CATEGORIZED?(this.panelType=LC,this.updateComplete.then((()=>{this._activeEditor=this.shadowRoot.querySelector("ion-category-editor-panel"),this._activeEditor.loadPanel({assetMetadata:this.assetMetadata,mapViewer:this.mapViewer,styleToEdit:this._styleToEdit})}))):this._styleToEdit.type===Lr.StyleType.GRADUATED&&(this.panelType=RC,this.updateComplete.then((()=>{this._activeEditor=this.shadowRoot.querySelector("ion-gradient-editor-panel"),this._activeEditor.loadPanel({assetMetadata:this.assetMetadata,mapViewer:this.mapViewer,styleToEdit:this._styleToEdit})})))}close(){Al.dispatch(ho(void 0))}flyTo(){Iu(this.mapViewer.viewer,this.mapViewer.getAssetInstance(this.assetId))}stateChanged(t){const n=t.app.tilesetStyleAssetId;if(this.assetId=n,e.defined(n)){const e=ws(t);this._activeSlideId=e.id,this.selectedStyleId=e.assetSettings[n].styleId}}}window.customElements.define("ion-style-manager",zC);class jC extends(gr(Al)(pe)){static get styles(){return[ql,qu,p`
        :host {
          padding: 1rem;
          height: 100%;
          overflow-y: auto;
        }
        ion-slider {
          --slider-text-input-width: 5rem;
        }
        h3 {
          margin-bottom: 0;
        }
        table {
          width: 100%;
          margin-bottom: 1rem;
          background-color: var(--container-bg);
          border-radius: var(--border-radius);
          padding: 1rem;
        }
        cesium-toggle {
          vertical-align: middle;
        }
        .error-message {
          color: var(--brand-danger);
        }
        .cesium-theme.cesium-viewer-geocoderContainer * {
          box-sizing: border-box;
        }
        .cesium-theme.cesium-viewer-geocoderContainer {
          font-family: var(--font-family);
          font-size: var(--font-size);
          width: 100%;
          margin: 0;
        }
        .cesium-theme.cesium-viewer-geocoderContainer .search-results {
          background-color: var(--container-bg);
          border: 1px solid var(--gray-lighter);
          color: var(--text-color);
          opacity: 1;
          z-index: 2;
          max-height: 200px;
        }
        .cesium-theme.cesium-viewer-geocoderContainer
          .search-results
          ul
          li.active {
          background: var(--brand-primary-tint);
        }
        .cesium-theme .cesium-geocoder-input {
          padding: 16px 14px;
          background-color: var(--container-bg);
          color: var(--text-color);
          border-top-left-radius: var(--border-radius);
          border-bottom-left-radius: var(--border-radius);
          border: 1px solid var(--border-color);
          border-right: 0;
        }
        .cesium-theme .cesium-geocoder-input:focus {
          background-color: var(--container-bg);
          color: var(--text-color);
          outline: 0;
        }
        .cesium-theme.cesium-viewer-geocoderContainer:hover
          .cesium-geocoder-input,
        .cesium-theme.cesium-viewer-geocoderContainer
          .cesium-geocoder-input-wide {
          width: calc(100% - 32px);
          padding: 16px 14px;
          border-color: var(--border-color);
          box-shadow: none;
        }
        .cesium-theme.cesium-viewer-geocoderContainer
          .cesium-geocoder-input:focus {
          width: calc(100% - 32px);
          padding: 16px 14px;
          border-color: var(--brand-primary-tint);
          outline: 0;
          box-shadow: 0 0 0.25rem rgba(45, 135, 196, 0.4);
        }
        .cesium-theme .cesium-geocoder-searchButton {
          background-color: var(--brand-primary);
          border: 1px solid var(--brand-primary-shade);
          fill: var(--text-light);
          border-top-right-radius: var(--border-radius);
          border-bottom-right-radius: var(--border-radius);
          margin-top: -1px;
          margin-right: -1px;
          height: 34px;
          width: 32px;
          color: var(--text-light);
        }
        .cesium-theme .cesium-geocoder-searchButton > svg {
          vertical-align: middle;
          width: 28px;
        }
        .cesium-theme .cesium-geocoder-searchButton:hover {
          background-color: var(--brand-primary-shade);
        }
      `]}static get properties(){return{ready:{type:Boolean},assetId:{type:Number},enableNonUniformScaling:{type:Boolean},picking:{type:Boolean},longitude:{type:Number},latitude:{type:Number},height:{type:Number},heading:{type:Number},pitch:{type:Number},roll:{type:Number},scaleUniform:{type:Number},scaleX:{type:Number},scaleY:{type:Number},scaleZ:{type:Number},errorMessage:{type:String}}}constructor(){super(),this.ready=!1,this._tileset=void 0,this._scene=void 0,this._domReady=!1,this._geocoder=void 0,this._position=new e.Cartesian3,this._headingPitchRoll=new e.HeadingPitchRoll,this._scale=new e.Cartesian3,this._initialValues=void 0,this._pending=!1,this.picking=!1,this._longitude=0,this._latitude=0,this._height=0,this._heading=0,this._pitch=0,this._roll=0,this._scaleUniform=0,this._scaleX=0,this._scaleY=0,this._scaleZ=0,this.enableNonUniformScaling=!1,this.errorMessage=""}get longitude(){return this._longitude}set longitude(e){this._longitude=Number(e.toFixed(6)),this.requestUpdate()}get latitude(){return this._latitude}set latitude(e){this._latitude=Number(e.toFixed(6)),this.requestUpdate()}get height(){return this._height}set height(e){this._height=Number(e.toFixed(6)),this.requestUpdate()}get heading(){return this._heading}set heading(e){this._heading=Number(e.toFixed(2)),this.requestUpdate()}get pitch(){return this._pitch}set pitch(e){this._pitch=Number(e.toFixed(2)),this.requestUpdate()}get roll(){return this._roll}set roll(e){this._roll=Number(e.toFixed(2)),this.requestUpdate()}get scaleUniform(){return this._scaleUniform}set scaleUniform(e){this._scaleUniform=Number(e.toFixed(2)),this.requestUpdate()}get scaleX(){return this._scaleX}set scaleX(e){this._scaleX=Number(e.toFixed(2)),this.requestUpdate()}get scaleY(){return this._scaleY}set scaleY(e){this._scaleY=Number(e.toFixed(2)),this.requestUpdate()}get scaleZ(){return this._scaleZ}set scaleZ(e){this._scaleZ=Number(e.toFixed(2)),this.requestUpdate()}set scene(t){if(e.defined(this._scene))throw new e.DeveloperError("scene is already set");this._scene=t,this._attachGeocoder()}set position(t){e.Cartesian3.clone(t,this._position);const n=e.Ellipsoid.WGS84.cartesianToCartographic(t),i=e.Math.toDegrees(n.longitude),r=e.Math.toDegrees(n.latitude),o=n.height;e.Math.equalsEpsilon(i,this.longitude,e.Math.EPSILON8)&&e.Math.equalsEpsilon(r,this.latitude,e.Math.EPSILON8)&&e.Math.equalsEpsilon(o,this.height,e.Math.EPSILON8)||(this.longitude=i,this.latitude=r,this.height=o,this.requestUpdate())}set headingPitchRoll(t){e.HeadingPitchRoll.equals(t,this._headingPitchRoll)||(e.HeadingPitchRoll.clone(t,this._headingPitchRoll),this.heading=e.Math.toDegrees(t.heading),this.pitch=e.Math.toDegrees(t.pitch),this.roll=e.Math.toDegrees(t.roll),this.requestUpdate())}set scale(t){e.Cartesian3.equals(t,this._scale)||(e.Cartesian3.clone(t,this._scale),this.scaleUniform=t.x,this.scaleX=t.x,this.scaleY=t.y,this.scaleZ=t.z,this.requestUpdate())}firstUpdated(){this._domReady=!0,this._attachGeocoder()}render(){return G`
      <h2>Adjust Tileset Location</h2>
      <ion-button theme="primary" class="margin-bottom" @click=${this.flyTo}
        >Zoom to tileset</ion-button
      >
      <h3>Position</h3>
      <table>
        <tbody>
          <tr>
            <td><label>Search</label></td>
            <td>
              <div
                id="geocoder"
                class="cesium-theme cesium-viewer-geocoderContainer"
              ></div>
            </td>
          </tr>
          <tr>
            <td><label>Longitude</label></td>
            <td>
              <ion-number-field
                id="longitude"
                min="-180"
                max="180"
                step="0.0001"
                .value=${this.longitude}
                @input=${this._updatePosition}
              ></ion-number-field>
            </td>
          </tr>
          <tr>
            <td><label>Latitude</label></td>
            <td>
              <ion-number-field
                id="latitude"
                min="-90"
                max="90"
                step="0.0001"
                .value=${this.latitude}
                @input=${this._updatePosition}
              ></ion-number-field>
            </td>
          </tr>
          <tr>
            <td><label>Height</label></td>
            <td>
              <ion-number-field
                id="height"
                step="1"
                .value=${this.height}
                @input=${this._updatePosition}
              ></ion-number-field>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <div class="alert alert-info" ?hidden=${!this.picking}>
                Click the globe to set the tileset position
              </div>
              <ion-button @click=${this.activatePicking} ?hidden=${this.picking}
                >Click position</ion-button
              >
              <ion-button @click=${this.cancelPicking} ?hidden=${!this.picking}
                >Cancel</ion-button
              >
            </td>
          </tr>
        </tbody>
      </table>
      <h3>Rotation</h3>
      <table>
        <tbody>
          <tr>
            <td><label>Heading</label></td>
            <td>
              <ion-slider
                id="heading"
                min="-180"
                max="180"
                step="1"
                .value=${this.heading}
                @input=${this._updateHPR}
              ></ion-slider>
            </td>
          </tr>
          <tr>
            <td><label>Pitch</label></td>
            <td>
              <ion-slider
                id="pitch"
                min="-180"
                max="180"
                step="1"
                .value=${this.pitch}
                @input=${this._updateHPR}
              ></ion-slider>
            </td>
          </tr>
          <tr>
            <td><label>Roll</label></td>
            <td>
              <ion-slider
                id="roll"
                min="-180"
                max="180"
                step="1"
                .value=${this.roll}
                @input=${this._updateHPR}
              ></ion-slider>
            </td>
          </tr>
        </tbody>
      </table>
      <h3>Scale</h3>
      <table>
        <tbody>
          <tr>
            <td colspan="2">
              <label>Non-uniform scaling</label>
              <cesium-toggle
                ?checked=${this.enableNonUniformScaling}
                @change=${this._toggleUniformScaling}
              ></cesium-toggle>
            </td>
          </tr>
          <tr ?hidden=${this.enableNonUniformScaling}>
            <td><label>Scale</label></td>
            <td>
              <ion-number-field
                id="uniformScale"
                min="0"
                step="0.1"
                .value=${this.scaleUniform}
                @input=${this._updateScale}
              ></ion-number-field>
            </td>
          </tr>
          <tr ?hidden=${!this.enableNonUniformScaling}>
            <td><label>Scale X</label></td>
            <td>
              <ion-number-field
                id="scaleX"
                min="0"
                step="0.1"
                .value=${this.scaleX}
                @input=${this._updateScale}
              ></ion-number-field>
            </td>
          </tr>
          <tr ?hidden=${!this.enableNonUniformScaling}>
            <td><label>Scale Y</label></td>
            <td>
              <ion-number-field
                id="scaleY"
                min="0"
                step="0.1"
                .value=${this.scaleY}
                @input=${this._updateScale}
              ></ion-number-field>
            </td>
          </tr>
          <tr ?hidden=${!this.enableNonUniformScaling}>
            <td><label>Scale Z</label></td>
            <td>
              <ion-number-field
                id="scaleZ"
                min="0"
                step="0.1"
                .value=${this.scaleZ}
                @input=${this._updateScale}
              ></ion-number-field>
            </td>
          </tr>
        </tbody>
      </table>
      <div>
        <ion-button theme="primary" @click=${this.save}>Save</ion-button>
        <ion-button @click=${this.reset}>Reset</ion-button>
        <ion-button @click="${this.cancel}">Cancel</ion-button>
        <p class="error-message">${this.errorMessage}</p>
      </div>
    `}initializeValues(t,n,i,r,o,a){this._viewer=t,this.scene=t.scene,this._tileset=n,this.position=i,this.headingPitchRoll=r,this.scale=o,this.enableNonUniformScaling=a,this._initialValues={position:e.Cartesian3.clone(i),headingPitchRoll:e.HeadingPitchRoll.clone(r),scale:e.Cartesian3.clone(o),enableNonUniformScaling:a},this.ready=!0,this.requestUpdate()}activatePicking(){this.picking=!0,this.dispatchEvent(new CustomEvent("pickingChange",{detail:{picking:!0}})),this.requestUpdate()}cancelPicking(){this.picking=!1,this.dispatchEvent(new CustomEvent("pickingChange",{detail:{picking:!1}})),this.requestUpdate()}_toggleUniformScaling(){this.enableNonUniformScaling=!this.enableNonUniformScaling,this.dispatchEvent(new CustomEvent("enableNonUniformScalingChange",{detail:{enableNonUniformScaling:this.enableNonUniformScaling}})),this.requestUpdate()}_updatePosition(){this.errorMessage="";const t=this.shadowRoot.querySelector("#longitude"),n=this.shadowRoot.querySelector("#latitude"),i=this.shadowRoot.querySelector("#height");let r=t.checkValidity();if(r=n.checkValidity()&&r,r=i.checkValidity()&&r,!r)return;const o=Number(t.value),a=Number(n.value),s=Number(i.value);this.longitude=o,this.latitude=a,this.height=s;const l=this._position;e.Cartesian3.fromDegrees(o,a,s,e.Ellipsoid.WGS84,l),this.dispatchEvent(new CustomEvent("positionChange",{detail:{position:l}}))}_updateHPR(){this.errorMessage="";const t=this.shadowRoot.querySelector("#heading"),n=this.shadowRoot.querySelector("#pitch"),i=this.shadowRoot.querySelector("#roll");let r=t.checkValidity();if(r=n.checkValidity()&&r,r=i.checkValidity()&&r,!r)return;const o=Number(t.value),a=Number(n.value),s=Number(i.value);this.heading=o,this.pitch=a,this.roll=s;const l=this._headingPitchRoll;l.heading=e.Math.toRadians(o),l.pitch=e.Math.toRadians(a),l.roll=e.Math.toRadians(s),this.dispatchEvent(new CustomEvent("headingPitchRollChange",{detail:{headingPitchRoll:l}}))}_updateScale(){this.errorMessage="";const e=this._scale;if(this.enableNonUniformScaling){const t=this.shadowRoot.querySelector("#scaleX"),n=this.shadowRoot.querySelector("#scaleY"),i=this.shadowRoot.querySelector("#scaleZ");let r=t.checkValidity();if(r=n.checkValidity()&&r,r=i.checkValidity()&&r,!r)return;const o=Number(t.value),a=Number(n.value),s=Number(i.value);if(this.scaleX=o,this.scaleY=a,this.scaleZ=s,e.x=o,e.y=a,e.z=s,e.x<=0||e.y<=0||e.z<=0)return;this.dispatchEvent(new CustomEvent("scaleChange",{detail:{scale:e}}))}else{const t=this.shadowRoot.querySelector("#uniformScale");if(!t.checkValidity())return;const n=Number(t.value);if(n<=0)return;this.scaleUniform=n,e.x=n,e.y=n,e.z=n,this.dispatchEvent(new CustomEvent("scaleChange",{detail:{scale:e}}))}}_attachGeocoder(){if(!e.defined(this._scene)||!this._domReady)return;const t=new e.Geocoder({scene:this._scene,container:this.shadowRoot.querySelector("#geocoder"),destinationFound:this.onDestinationFound.bind(this)});t.viewModel.keepExpanded=!0,this._geocoder=t}async onDestinationFound(t,n){if(this._pending)return;const i=this._scene,r=n instanceof e.Rectangle?e.Rectangle.center(n):e.Ellipsoid.WGS84.cartesianToCartographic(n);this._pending=!0;const o=i.globe.terrainProvider;let a,s;if(o instanceof e.EllipsoidTerrainProvider)a=r,a.height=0,s=e.Ellipsoid.WGS84.cartographicToCartesian(r);else try{const t=await e.sampleTerrainMostDetailed(o,[r]);s=e.Ellipsoid.WGS84.cartographicToCartesian(t[0])}catch(t){r.height=i.globe.getHeight(r),s=e.Ellipsoid.WGS84.cartographicToCartesian(r)}this.position=e.Cartesian3.clone(s,this._position),this.dispatchEvent(new CustomEvent("positionChange",{detail:{position:s}})),this._pending=!1,this.flyTo()}flyTo(){Iu(this._viewer,this._tileset)}save(){let e=!0;if(e=this.shadowRoot.querySelector("#longitude").checkValidity()&&e,e=this.shadowRoot.querySelector("#latitude").checkValidity()&&e,e=this.shadowRoot.querySelector("#height").checkValidity()&&e,e=this.shadowRoot.querySelector("#heading").checkValidity()&&e,e=this.shadowRoot.querySelector("#pitch").checkValidity()&&e,e=this.shadowRoot.querySelector("#roll").checkValidity()&&e,this.enableNonUniformScaling){const t=this.shadowRoot.querySelector("#scaleX"),n=this.shadowRoot.querySelector("#scaleY"),i=this.shadowRoot.querySelector("#scaleZ");e=t.checkValidity()&&e,e=n.checkValidity()&&e,e=i.checkValidity()&&e,t.value<=0&&(t.makeInvalid(),e=!1),n.value<=0&&(n.makeInvalid(),e=!1),i.value<=0&&(i.makeInvalid(),e=!1)}else{const t=this.shadowRoot.querySelector("#uniformScale");e=t.checkValidity()&&e,t.value<=0&&(t.makeInvalid(),e=!1)}e?(this.errorMessage="",this.dispatchEvent(new CustomEvent("save")),this.close()):this.errorMessage="At least one field has an invalid value"}reset(){if(e.defined(this._initialValues)){const e=this._initialValues;this.enableNonUniformScaling=e.enableNonUniformScaling,this.position=e.position,this.headingPitchRoll=e.headingPitchRoll,this.scale=e.scale,this.dispatchEvent(new CustomEvent("positionChange",{detail:{position:this._position}})),this.dispatchEvent(new CustomEvent("headingPitchRollChange",{detail:{headingPitchRoll:this._headingPitchRoll}})),this.dispatchEvent(new CustomEvent("scaleChange",{detail:{scale:this._scale}})),this.requestUpdate()}}cancel(){this.reset(),this.close()}close(){e.defined(this._geocoder)&&(this._geocoder.destroy(),this._geocoder=void 0,this._scene=void 0),Al.dispatch(uo(void 0))}stateChanged(e){this.assetId=e.app.transformEditorAssetId}}window.customElements.define("ion-transform-editor-panel",jC);class BC extends(gr(Al)(pe)){static get styles(){return[ql]}static get properties(){return{name:{type:String}}}constructor(){super(),this.name=""}render(){return G`
      <h3>Name before sharing</h3>
      <ion-textfield
        id="name"
        class="margin-bottom"
        value="${this.name}"
        label="Story name"
      ></ion-textfield>
      <ion-button theme="primary" @click=${this._close}>Okay</ion-button>
    `}_close(){const e=this.shadowRoot.querySelector("#name").value;e===this.name||Zs(e)||Al.dispatch(Ys({name:e})),Al.dispatch(lo(tl))}stateChanged(e){this.name=e.story.name}}window.customElements.define("ion-untitled-prompt",BC);customElements.define("ion-fullscreen-slide",class extends pe{static get properties(){return{slide:{type:Object,reflect:!0},hasBackgroundImage:{type:Boolean,reflect:!0},backgroundColor:{type:String},backgroundImage:{type:String},textColor:{type:String}}}static get styles(){return[ql,h(Bd),p`
        .ql-editor {
          all: unset;
          box-sizing: unset;
          line-height: unset;
          height: unset;
          outline: unset;
          overflow-y: unset;
          padding: unset;
          tab-size: unset;
          -moz-tab-size: unset;
          text-align: unset;
          white-space: unset;
          word-wrap: unset;
        }

        #fullScreenSlide {
          position: fixed;
          height: 100%;
          width: 100%;
          display: flex;
          flex-direction: column;
          background-repeat: no-repeat;
          background-position: center center;
          background-size: cover;
        }

        #textWrapper {
          position: absolute;
          top: 0;
          bottom: 43px;
          left: 0;
          right: 0;
          transform: none;
          max-height: calc(100% - 43px);
          padding-top: 1rem;
          padding-left: 1rem;
          padding-right: 1rem;
          font-size: 1.5rem;
          overflow: auto;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        img {
          max-width: 100%;
        }

        #slideName {
          text-align: center;
        }

        #slideText {
          width: 880px;
          max-width: 100%;
          max-height: 100%;
        }

        :host([hasBackgroundImage]) #textWrapper {
          display: unset;
          align-items: unset;
          justify-content: unset;
          top: unset;
        }

        :host([hasBackgroundImage]) #slideName {
          text-align: left;
        }

        :host([hasBackgroundImage]) #slideText {
          position: unset;
          top: unset;
          left: unset;
          margin-right: unset;
          transform: unset;
        }

        @media (min-width: 767px) {
          #fullScreenSlide {
            position: relative;
            bottom: 0;
            display: block;
          }

          #textWrapper {
            max-height: calc(100% - 7.5rem);
            bottom: 7.5rem;
          }
        }
      `]}constructor(){super(),this._slide=void 0,this.hasBackgroundImage=!1,this.backgroundColor="#FFFFFF",this.backgroundImage=void 0,this.textContent="#000000"}get slide(){return this._slide}set slide(e){this._slide=e,this._updateSlide()}updated(){this.shadowRoot.querySelector("#textWrapper").scrollTop=0}render(){if(!e.defined(this.slide))return G``;let t=`background-color: ${this.backgroundColor}; color: ${this.textColor};`;return e.defined(this.backgroundImage)&&(t+=` background-image: ${this.backgroundImage}`),G`
      <div id="fullScreenSlide" class="ql-editor" style="${t}">
        <div id="textWrapper">
          <div id="slideText">
            <div class="ql-size-huge" id="slideName">${this.slide.name}</div>
            ${e.defined(this.slide.html)?Vl(this.slide.html):""}
          </div>
        </div>
      </div>
    `}_updateSlide(){const t=this._slide;if(e.defined(t)&&t.type===Lr.SlideType.FULLSCREEN)if(this.backgroundColor=t.backgroundColor,this.hasBackgroundImage=e.defined(t.backgroundImage),this.hasBackgroundImage)this.textColor=e.Color.WHITE.toCssColorString(),this.backgroundImage=`linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 37%, rgba(0,0,0,0.65) 100%), url(${t.backgroundImage})`;else{const n=sl(e.Color.fromCssColorString(t.backgroundColor));this.textColor=n?e.Color.WHITE.toCssColorString():e.Color.BLACK.toCssColorString(),this.backgroundImage=void 0}}});class HC extends(gr(Al)(pe)){static get styles(){return[ql,p`
        :host {
          height: 100%;
          width: 100%;
        }
        :host([dragging]) #dropZone {
          display: block;
        }
        ion-nav {
          height: 3rem;
        }
        #content {
          display: flex;
          flex-direction: row;
          flex-grow: 1;
          height: calc(100% - 3rem);
        }
        #sidePanel {
          width: 36rem;
          height: 100%;
          flex: none;
        }
        ion-map-viewer {
          flex-grow: 1;
        }
        ion-fullscreen-slide {
          flex-grow: 1;
        }
        ion-slide-manager {
          width: 100%;
          height: 100%;
        }
        ion-notification {
          pointer-events: auto;
        }
        #notificationContainer {
          display: block;
          position: absolute;
          z-index: 2;
          top: 1rem;
          right: 1rem;
          width: 20rem;
          pointer-events: none;
        }
        ion-notification + ion-notification {
          margin-top: 1rem;
        }
        #thumbnailModal {
          margin: 0;
          text-align: center;
        }

        #thumbnailModal h3 {
          margin-bottom: 0.5rem;
        }

        #thumbnailModal ion-loading-icon {
          width: 1.5rem;
          height: 1.5rem;
          margin: 0 auto;
        }

        a svg {
          height: 0.75rem;
          width: 0.75rem;
        }

        #topLeftToolbar {
          position: absolute;
          left: 37rem;
          z-index: 2;
          pointer-events: none;
          height: 100%;
          margin-top: 4rem;
          top: 0;
          bottom: 0;
        }

        #topLeftToolbar > ion-button {
          margin: 0.25rem;
        }

        .top-left-bar-item {
          pointer-events: auto;
        }

        ion-infobox {
          position: relative;
          border-radius: var(--border-radius);
          padding: 1rem 0;
          width: 350px;
          max-height: calc(100% - 16rem);
        }

        #dropZone {
          display: none;
          position: absolute;
          top: 0;
          bottom: 0;
          left: 0;
          right: 0;
          background-color: var(--transparent-overlay-color);
          z-index: 3;
        }

        @media (min-width: 90rem) {
          ion-infobox {
            width: 450px;
          }
        }
      `]}static get properties(){return{loading:{type:Boolean},modalType:{type:String},unit:{type:String},activeSlide:{type:Object},assetState:{type:Object},styles:{type:Object},transformEditorActive:{type:Boolean},styleEditorActive:{type:Boolean},dragging:{type:Boolean,reflect:!0},viewerError:{type:Boolean},showStopFollowing:{type:Boolean},stopFollowingText:{type:String}}}constructor(){super(),this.dragging=!1,this.loading=!0,this.modalType=void 0,this.assetState=void 0,this.styles=void 0,this.activeSlide=void 0,this.unit=void 0,this.viewerError=!1,this.showStopFollowing=!1,this._infoBoxOverriden=!1,this.transformEditorActive=!1,this.styleEditorActive=!1,this._activeSlideIndex=void 0,this._viewer=void 0,this._storyId=void 0,this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this._notifications={byId:{},ids:[]},async function(){return e.Resource.fetchJson({url:`${fs}refresh`})}().then((t=>{e.defined(t)||window.location.replace(`../../signin/stories/editor/${window.location.hash}`),t.betaTester,e.Ion.defaultAccessToken=t.token;let n=window.location.hash;if(n.length>0){n=n.substr(1);const e=n.indexOf("_");let t=0;if(-1!==e){t=parseInt(n.substr(e+1,n.length-e));const i=n.substr(0,e);Al.dispatch(Rs(i,isNaN(t)?0:t))}else Al.dispatch(Rs(n))}else Al.dispatch(zs())})),this.onKeyDown=this.onKeyDown.bind(this)}canDrop(t){if(this.modalType!==Qs||this.transformEditorActive||this.styleEditorActive)return!1;let n=!1;const i=t.dataTransfer.types;if(e.defined(i))for(let e=0;e<i.length;e++)if(/^Files$/i.test(i[e])){n=!0;break}return!!n&&(t.stopPropagation(),t.preventDefault(),!0)}getFiles(e,t){return new Promise(((n,i)=>{if(!e.isDirectory){const r=e.fullPath.replace(/^(\/|\\)/,"");return void e.file((function(e){e.__ionKey=r,t.push(e),n()}),(function(e){i(e)}))}const r=[],o=e.createReader(),a=e=>{if(0!==e.length)return e.forEach((function(e){r.push(this.getFiles(e,t))})),void o.readEntries(a,i);Promise.all(r).then((function(){n()})).catch(i)};o.readEntries(a,i)}))}onDragEnter(e){if(!this.canDrop(e))return!1;this.dragging=!0}onDragOver(e){if(!this.canDrop(e))return!1;this.dragging=!0}onDragLeave(e){if(!this.canDrop(e))return!1;this.dragging=!1}onDrop(t){if(!this.canDrop(t))return this.dragging=!1,!1;t.stopPropagation(),t.preventDefault();const n=t.dataTransfer;let i=Promise.resolve(n.files);const r=n.items;if(e.defined(r)){const t=[],n=[];for(let i=0;i<r.length;i++){const o=r[i];let a;try{a=e.defined(o.getAsEntry)?o.getAsEntry():o.webkitGetAsEntry()}catch(e){}e.defined(a)&&n.push(this.getFiles(a,t))}i=Promise.all(n).then((()=>t))}return this.modalType===rl?this.shadowRoot.querySelector("ion-asset-upload").addDroppedFiles(i):(this._droppedFiles=i,Al.dispatch(lo(rl))),this.dragging=!1,!0}connectedCallback(){super.connectedCallback(),document.addEventListener("dragenter",this.onDragEnter,!0),document.addEventListener("dragover",this.onDragOver,!0),document.addEventListener("dragleave",this.onDragLeave,!0),document.addEventListener("drop",this.onDrop,!0),document.addEventListener("keydown",this.onKeyDown,!0),this._pollAssets()}disconnectedCallback(){document.removeEventListener("dragenter",this.onDragEnter,!0),document.removeEventListener("dragover",this.onDragOver,!0),document.removeEventListener("dragleave",this.onDragLeave,!0),document.removeEventListener("drop",this.onDrop,!0),document.removeEventListener("keydown",this.onKeyDown,!0),super.disconnectedCallback()}onKeyDown(e){if(e.ctrlKey&&("s"===e.key||83===e.keyCode))return e.stopPropagation(),e.preventDefault(),void(this.modalType===Qs&&Al.dispatch((t="saveMessage",n="Don't worry, Stories autosaves!",e=>{e({type:Zr,id:t,message:n})})));var t,n;if(this.modalType!==Qs||document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement)return;let i=this._activeSlideIndex;if(i>0&&("ArrowLeft"===e.key||37===e.keyCode||"ArrowUp"===e.key||38===e.keyCode||"PageUp"===e.key||33===e.keyCode))i--;else{if(!(i<this._totalSlides-1)||"ArrowRight"!==e.key&&39!==e.keyCode&&"ArrowDown"!==e.key&&40!==e.keyCode&&"PageDown"!==e.key&&34!==e.keyCode)return;i++}Al.dispatch(so(i)),e.stopPropagation(),e.preventDefault()}render(){return G`${this.loading?G`<ion-loading-icon
            .visible=${!0}
            .centered=${!0}
          ></ion-loading-icon>
          <div id="notificationContainer"></div>`:G`
          <div id="dropZone"></div>
          <div id="notificationContainer"></div>
          ${this._renderModal()}
          <ion-nav></ion-nav>
          <div id="content">
            <div id="sidePanel">
              <ion-slide-manager
                ?hidden=${this.transformEditorActive||this.styleEditorActive}
                @zoomToAsset=${this._onZoomToAsset}
                @addSlide=${this._onAddSlide}
                @updateAnimation=${this._onUpdateAnimation}
                @captureThumbnail=${this._onCaptureViewClick}
              ></ion-slide-manager>
              <ion-transform-editor-panel
                ?hidden=${!this.transformEditorActive}
              ></ion-transform-editor-panel>
              <ion-style-manager
                ?hidden=${!this.styleEditorActive}
              ></ion-style-manager>
            </div>
            <ion-fullscreen-slide
              .slide=${this.activeSlide}
              ?hidden=${this.activeSlide.type!==Lr.SlideType.FULLSCREEN}
            ></ion-fullscreen-slide>
            <div
              id="topLeftToolbar"
              ?hidden=${this.activeSlide.type!==Lr.SlideType.MAP}
            >
              <ion-infobox
                class="top-left-bar-item"
                @dismiss=${this._onDismissInfobox}
              ></ion-infobox>
              <ion-button
                class="top-left-bar-item"
                @click=${this._onCaptureViewClick}
                ?hidden=${this.transformEditorActive||this.styleEditorActive}
                >${xd.node} Capture view</ion-button
              >
              <ion-button
                class="top-left-bar-item"
                @click=${this._onStopFollowing}
                ?hidden=${!this.showStopFollowing}
                >${id.node} ${this.stopFollowingText}</ion-button
              >
            </div>
            <ion-map-viewer
              @featurePicked=${this._onFeaturePicked}
              @trackingChanged=${this._onTrackingChanged}
              ?widgetsHidden=${this.transformEditorActive||this.styleEditorActive}
              @viewerInitialized=${this._viewerInitialized}
              @viewerError=${this._onViewerError}
              @timelineChanged=${this._timelineChanged}
              @timelineTrimChanged=${this._onTimelineTrimChanged}
              .assetState=${this.assetState}
              .styles=${this.styles}
              .activeSlide=${this.activeSlide}
              .unit=${this.unit}
              ?hidden=${this.activeSlide.type!==Lr.SlideType.MAP}
            ></ion-map-viewer>
          </div>
        `}`}_onFeaturePicked(e){const t=this.shadowRoot.querySelector("ion-infobox");t.title=e.detail.title,t.html=e.detail.html,t.showDismiss=!0,t.hidden=!1,this._infoBoxOverriden=!0}_onDismissInfobox(){this._infoBoxOverriden=!1,this._updateInfoboxFromSlide()}_updateInfoboxFromSlide(){const t=this.shadowRoot?.querySelector("ion-infobox");if(!e.defined(t)||this._infoBoxOverriden)return;if(this.activeSlide.type!==Lr.SlideType.MAP)return void(t.hidden=!0);const n=this.activeSlide;t.showDismiss=!1,t.title=n.name,t.html=e.defaultValue(n.html,"");const i=document.createElement("div");i.innerHTML=t.html,t.hidden=Zs(i.textContent)&&0===i.querySelectorAll("img").length}_onStopFollowing(){As.sendEvent(As.category.STORIES_EDITOR,As.action.STOP_FOLLOW_FEATURE,As.label.APPLICATION),this.shadowRoot.querySelector("ion-map-viewer").cancelEntityTracking()}async _onTrackingChanged(t){await this.updateComplete;const n=t.detail,i=e.defined(n);this.showStopFollowing=i,i&&(this.stopFollowingText=n.text)}_viewerInitialized(e){this._tilesetTransformHelper=new Il(this.shadowRoot.querySelector("ion-transform-editor-panel"),e.target),this.shadowRoot.querySelector("ion-style-manager").mapViewer=e.target,this._updateInfoboxFromSlide()}_onViewerError(e){console.error(e.detail.error.message),this.viewerError=!0,this.requestUpdate()}_renderModal(){return this.viewerError?G`
        <ion-modal>
          <ion-map-viewer-error
            class="margin-bottom"
            .storyId=${this._storyId}
          ></ion-map-viewer-error>
          <ion-button theme="primary" @click=${this._returnToIon}
            >Return to ion</ion-button
          >
        </ion-modal>
      `:this.modalType===el?G` <ion-modal @close=${this._onAddAsset}>
        <ion-asset-selector></ion-asset-selector>
      </ion-modal>`:this.modalType===tl?G` <ion-modal @close=${this._onCloseModal}>
        <ion-sharing-options></ion-sharing-options>
      </ion-modal>`:this.modalType===il?G` <ion-modal id="thumbnailModal">
        <h3>Capturing view</h3>
        <ion-loading-icon ?centered=${!1}></ion-loading-icon>
      </ion-modal>`:this.modalType===nl?G` <ion-modal @close=${this._onCloseModal}>
        <ion-story-settings class="margin-bottom"></ion-story-settings>
        <ion-button theme="primary" @click=${this._onCloseModal}
          >Okay</ion-button
        >
      </ion-modal>`:this.modalType===rl?G` <ion-modal @close=${this._onCloseModal}>
        <ion-asset-upload
          @close=${this._onCloseModal}
          .droppedFiles=${this._droppedFiles}
        ></ion-asset-upload>
      </ion-modal>`:this.modalType===ol?G` <ion-modal @close=${this._onCloseModal}>
        <ion-untitled-prompt></ion-untitled-prompt>
      </ion-modal>`:this.modalType===al?G`
        <ion-modal @close=${this._onCloseModal}>
          <ion-embed-dialog></ion-embed-dialog>
        </ion-modal>
      `:G``}async _pollAssets(){const e=Al.getState().story.assets,t=e.ids.map((async t=>{try{const n=e.byId[t];if(!Lr.AssetStatus.isPending(n.status))return;const i=await bs(t);i.status===Lr.AssetStatus.COMPLETE&&i.type===Lr.AssetType["3DTILES"]&&(i.ionExtras=await Ts(n.id)),Al.getState().story.assets.ids.includes(t)&&Al.dispatch(((e,t)=>async n=>{n({type:zr,assetId:e,assetMetadata:t})})(t,i))}catch(e){console.log(e)}}));await Promise.all(t),this.isConnected&&setTimeout((()=>this._pollAssets()),5e3)}_onZoomToAsset(e){this.shadowRoot.querySelector("ion-map-viewer").zoomToAsset(e.detail.assetId)}_onUpdateAnimation(e){this.shadowRoot.querySelector("ion-map-viewer").updateAnimation(e.detail.slide)}async _captureThumbnail(e){let t=256,n=144;0===this._activeSlideIndex&&(t*=2,n*=2);const i=this.activeSlide;let r;if(i.type===Lr.SlideType.MAP){Al.dispatch(lo(il));const i=Date.now();r=await e.captureThumbnail(t,n);const o=Date.now()-i;o>=750?Al.dispatch(lo(Qs)):setTimeout((()=>Al.dispatch(lo(Qs))),750-o)}else r=await this._renderFullScreenSlideToThumbnail(i,t,n);return r}async _drawTextToThumbnail(t,n,i,r){const o=sl(e.Color.fromCssColorString(n.backgroundColor));t.fillStyle=o?"white":"black";const a=r/8;t.font=`${a}px "Lato", Arial`;const s=n.description;let l=6+a;if(e.defined(s)){let e="";for(let t=0;t<s.ops.length;t++){const n=s.ops[t];n.insert&&("string"==typeof n.insert?e+=n.insert:e+="\n")}const n=e.split("\n");for(const e of n){const n=e.split(" ");let o="";for(let e=0;e<n.length;e++){const s=`${o+n[e]} `;if(t.measureText(s).width>i&&e>0){if(t.fillText(o,6,l),o=`${n[e]} `,l+=a,l>r)return}else o=s}if(t.fillText(o,6,l),l+=a,l>r)return}}}async _renderFullScreenSlideToThumbnail(t,n,i){const r=document.createElement("canvas");r.width=n,r.height=i;const o=r.getContext("2d");return o.fillStyle=t.backgroundColor,o.fillRect(0,0,n,i),e.defined(t.backgroundImage)?await new Promise((r=>{const a=new Image;a.crossOrigin="Anonymous",a.addEventListener("load",(function(){const e=a.width,t=a.height,s=Math.min(n/e,i/t);let l=e*s,c=t*s,d=1;l<n&&(d=n/l),Math.abs(d-1)<1e-14&&c<i&&(d=i/c),l*=d,c*=d;const u=e/(l/n),h=t/(c/i),p=.5*(e-u),f=.5*(t-h);o.drawImage(a,p,f,u,h,0,0,n,i),r()}),!1),a.addEventListener("error",(function(){r()}),!1);const s=new URL(t.backgroundImage);s.searchParams.set("v",e.createGuid()),a.src=s.toString()})):this._drawTextToThumbnail(o,t,n,i),r.toDataURL("image/jpeg",.85)}async _onAddSlide(t){const n=this.shadowRoot.querySelector("ion-map-viewer"),i=n.viewer.camera;e.defined(i._currentFlight)&&(i.cancelFlight(),n.zoomToSlide(n.activeSlide));const r=t.detail;let o,a=this.activeSlide;if(r.type===a.type&&(o=await this._captureThumbnail(n)),r.type===Lr.SlideType.FULLSCREEN)e.defined(o)||(o=await this._renderFullScreenSlideToThumbnail({backgroundColor:"black"},256,144)),Al.dispatch(js({name:r.name,type:r.type,thumbnail:o,description:r.description,backgroundColor:e.defined(a.backgroundColor)?a.backgroundColor:e.Color.BLACK.toCssColorString(),backgroundImage:a.backgroundImage,backgroundImageName:a.backgroundImageName}));else{let i,s;const l=n.viewer.trackedEntity;e.defined(l)&&(i=l.id,s=l.entityCollection.owner.__ionAssetId);const c=this.allSlides.ids,d=this.allSlides.byId;let u=c.indexOf(a.id)-1;for(;r.type!==a.type&&u>=0;){const e=d[c[u]];if(e.type===Lr.SlideType.MAP){a=e;break}u--}for(u=c.indexOf(a.id)+1;r.type!==a.type&&u<c.length;){const e=d[c[u]];if(e.type===Lr.SlideType.MAP){a=e;break}u++}Al.dispatch(js({name:t.detail.name,description:t.detail.description,type:r.type,thumbnail:o,terrainAssetId:a.terrainAssetId,startTime:a.startTime,stopTime:a.stopTime,duration:a.duration,view:{camera:n.cameraView,trackedId:i,trackedAssetId:s},assetSettings:a.assetSettings}))}}async _onCaptureViewClick(){const t=this.shadowRoot.querySelector("ion-map-viewer"),n=await this._captureThumbnail(t);let i,r;const o=t.viewer.trackedEntity;e.defined(o)&&(i=o.id,r=o.entityCollection.owner.__ionAssetId),Al.dispatch(Bs(this.activeSlide.id,{thumbnail:n,view:{camera:t.cameraView,trackedId:i,trackedAssetId:r}}))}async _onCloseModal(){e.defined(this._droppedFiles)&&(this._droppedFiles=void 0,this.requestUpdate()),Al.dispatch(lo(Qs))}async _onAddAsset(t){Al.dispatch(lo(Qs));const n=t.detail;if(!e.defined(n))return;const i=n.asset;e.defined(i)&&Al.dispatch(Fs(i.id))}_onCloseNotification(e){var t;Al.dispatch((t=e.detail.id,e=>{e({type:Qr,id:t})}))}_onTimelineTrimChanged(t){const n=e.defaultValue(t.detail.start,this.activeSlide.startTime),i=e.defaultValue(t.detail.stop,this.activeSlide.stopTime);Al.dispatch(Bs(this.activeSlide.id,{startTime:n,stopTime:i}))}_timelineChanged(e){this.shadowRoot.querySelector("ion-slide-manager").onTimelineChanged(e.detail)}_returnToIon(){window.location="../../stories/"}stateChanged(t){if(this.loading&&e.defined(t.story.id)){let n=`./#${t.story.id}`;e.defined(t.app.activeSlideIndex)&&(n=`${n}_${t.app.activeSlideIndex}`),window.location.replace(n),this.loading=!1}this.modalType=t.app.modalType,this._storyId=t.story.id;const n=this._activeSlideIndex!==t.app.activeSlideIndex;this.styles=t.story.styles,this.assetState=t.story.assets,this._activeSlideIndex=t.app.activeSlideIndex,this._totalSlides=t.story.slides.ids.length,this.activeSlide=ws(t),this.allSlides=t.story.slides,n&&(this._infoBoxOverriden=!1,e.defined(t.story.id)&&window.location.replace(`./#${t.story.id}_${this._activeSlideIndex}`)),this._updateInfoboxFromSlide(),this.unit=t.story.unit,e.defined(this._tilesetTransformHelper)&&(this._tilesetTransformHelper.assetId=t.app.transformEditorAssetId),this.transformEditorActive=e.defined(t.app.transformEditorAssetId),this.styleEditorActive=e.defined(t.app.tilesetStyleAssetId),window.hasPendingUploads=0!==Object.keys(t.app.pendingUploads).length;const i=t.app.notifications;if(i!==this._notifications){const e=this.shadowRoot.querySelector("#notificationContainer"),t=this._notifications,n=t.ids.filter((e=>!i.ids.includes(e))),r=i.ids.filter((e=>!t.ids.includes(e))),o=i.ids.filter((e=>t.ids.includes(e)));n.forEach((t=>{const n=e.querySelector(`#${t}`);e.removeChild(n),n.removeEventListener("close",this._onCloseNotification.bind(this))})),r.forEach((t=>{const n=i.byId[t],r=document.createElement("ion-notification");r.setAttribute("id",t),r.setAttribute("notificationType",n.type),r.setAttribute("timeout",n.timeout),r.message=n.message,r.addEventListener("close",this._onCloseNotification.bind(this)),e.appendChild(r)})),o.forEach((t=>{const n=e.querySelector(`#${t}`),r=i.byId[t];n.message=r.message})),this._notifications=i}}}window.customElements.define("ion-app",HC),As.initialize({anonymize:!1}),window.addEventListener("beforeunload",(function(e){window.hasPendingUploads?e.returnValue="File uploads in progress, leaving will cancel the upload.":window.hasUnsavedChanges?e.returnValue="You story failed to save, leaving will lose your unsaved changes.":0!==Object.keys(t).length&&(e.returnValue="Story update in progress, leaving may lose your changes")}))}(Cesium);
